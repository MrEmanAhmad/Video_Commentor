2025-02-23 20:15:36,698 - __main__ - INFO - Checking environment variables...
2025-02-23 20:15:36,700 - __main__ - WARNING - âœ— Missing OPENAI_API_KEY in environment
2025-02-23 20:15:36,700 - __main__ - WARNING - âœ— Missing DEEPSEEK_API_KEY in environment
2025-02-23 20:15:36,702 - __main__ - WARNING - âœ— Missing GOOGLE_APPLICATION_CREDENTIALS_JSON in environment
2025-02-23 20:15:36,703 - __main__ - INFO - Some variables missing, checking railway.json...
2025-02-23 20:15:36,704 - __main__ - INFO - Found railway.json, loading configuration...
2025-02-23 20:15:36,706 - __main__ - INFO - Loaded OPENAI_API_KEY from railway.json
2025-02-23 20:15:36,708 - __main__ - INFO - Loaded DEEPSEEK_API_KEY from railway.json
2025-02-23 20:15:36,709 - __main__ - INFO - Loaded GOOGLE_APPLICATION_CREDENTIALS_JSON from railway.json
2025-02-23 20:15:36,711 - __main__ - INFO - Attempting to parse Google credentials...
2025-02-23 20:15:36,712 - __main__ - WARNING - Direct JSON parsing failed: Invalid control character at: line 1 column 175 (char 174)
2025-02-23 20:15:36,716 - __main__ - INFO - âœ“ Google credentials configured successfully
2025-02-23 20:15:36,717 - __main__ - INFO - âœ“ Configuration loaded successfully
2025-02-23 20:15:39,651 - new_bot - INFO - Checking environment variables...
2025-02-23 20:15:39,652 - new_bot - INFO - âœ“ Found OPENAI_API_KEY in environment
2025-02-23 20:15:39,654 - new_bot - INFO - âœ“ Found DEEPSEEK_API_KEY in environment
2025-02-23 20:15:39,655 - new_bot - INFO - âœ“ Found GOOGLE_APPLICATION_CREDENTIALS_JSON in environment
2025-02-23 20:15:39,656 - new_bot - INFO - Attempting to parse Google credentials...
2025-02-23 20:15:39,657 - new_bot - WARNING - Direct JSON parsing failed: Invalid control character at: line 1 column 175 (char 174)
2025-02-23 20:15:39,660 - new_bot - INFO - âœ“ Google credentials configured successfully
2025-02-23 20:15:55,396 - __main__ - INFO - Checking environment variables...
2025-02-23 20:15:55,398 - __main__ - INFO - âœ“ Found OPENAI_API_KEY in environment
2025-02-23 20:15:55,399 - __main__ - INFO - âœ“ Found DEEPSEEK_API_KEY in environment
2025-02-23 20:15:55,400 - __main__ - INFO - âœ“ Found GOOGLE_APPLICATION_CREDENTIALS_JSON in environment
2025-02-23 20:15:55,402 - __main__ - INFO - Attempting to parse Google credentials...
2025-02-23 20:15:55,402 - __main__ - WARNING - Direct JSON parsing failed: Invalid control character at: line 1 column 175 (char 174)
2025-02-23 20:15:55,406 - __main__ - INFO - âœ“ Google credentials configured successfully
2025-02-23 20:15:55,407 - __main__ - INFO - âœ“ Configuration loaded successfully
2025-02-23 20:15:57,076 - __main__ - INFO - Checking environment variables...
2025-02-23 20:15:57,077 - __main__ - INFO - âœ“ Found OPENAI_API_KEY in environment
2025-02-23 20:15:57,079 - __main__ - INFO - âœ“ Found DEEPSEEK_API_KEY in environment
2025-02-23 20:15:57,080 - __main__ - INFO - âœ“ Found GOOGLE_APPLICATION_CREDENTIALS_JSON in environment
2025-02-23 20:15:57,081 - __main__ - INFO - Attempting to parse Google credentials...
2025-02-23 20:15:57,082 - __main__ - WARNING - Direct JSON parsing failed: Invalid control character at: line 1 column 175 (char 174)
2025-02-23 20:15:57,088 - __main__ - INFO - âœ“ Google credentials configured successfully
2025-02-23 20:15:57,091 - __main__ - INFO - âœ“ Configuration loaded successfully
2025-02-23 20:15:57,110 - __main__ - INFO - Initializing StreamlitUpdate
2025-02-23 20:15:57,112 - __main__ - INFO - Initializing StreamlitContext
2025-02-23 20:15:57,114 - __main__ - INFO - Processing video URL: https://x.com/MyLordBebo/status/1888515030095679856
2025-02-23 20:15:57,115 - __main__ - INFO - Status update: ğŸ¬ Starting video processing...

0% â–±â–±â–±â–±â–±â–±â–±â–±â–±â–±
2025-02-23 20:15:57,118 - __main__ - INFO - Status update: ğŸ“¥ Downloading video...

10% â–°â–±â–±â–±â–±â–±â–±â–±â–±â–±
2025-02-23 20:15:57,122 - new_bot - INFO - Downloading video from: https://x.com/MyLordBebo/status/1888515030095679856
2025-02-23 20:15:57,124 - pipeline.Step_1_download_video - INFO - Downloading video from: https://twitter.com/MyLordBebo/status/1888515030095679856
2025-02-23 20:16:02,051 - pipeline.Step_1_download_video - ERROR - Video duration (120.62 seconds) exceeds maximum allowed duration (120 seconds)
2025-02-23 20:16:02,066 - new_bot - ERROR - Download error: Could not download video from this URL
2025-02-23 20:16:02,067 - __main__ - INFO - Status update: âŒ Could not download video from this URL.

Possible reasons:
â€¢ URL is not accessible
â€¢ Video is private or restricted
â€¢ Website not supported
â€¢ Video requires authentication

Try another URL or upload the video directly.
2025-02-23 20:16:02,072 - __main__ - ERROR - No video data found after processing
2025-02-23 20:16:02,220 - __main__ - INFO - Cleanup completed successfully
2025-02-23 20:16:24,267 - __main__ - INFO - Checking environment variables...
2025-02-23 20:16:24,269 - __main__ - INFO - âœ“ Found OPENAI_API_KEY in environment
2025-02-23 20:16:24,270 - __main__ - INFO - âœ“ Found DEEPSEEK_API_KEY in environment
2025-02-23 20:16:24,272 - __main__ - INFO - âœ“ Found GOOGLE_APPLICATION_CREDENTIALS_JSON in environment
2025-02-23 20:16:24,272 - __main__ - INFO - Attempting to parse Google credentials...
2025-02-23 20:16:24,274 - __main__ - WARNING - Direct JSON parsing failed: Invalid control character at: line 1 column 175 (char 174)
2025-02-23 20:16:24,276 - __main__ - INFO - âœ“ Google credentials configured successfully
2025-02-23 20:16:24,278 - __main__ - INFO - âœ“ Configuration loaded successfully
2025-02-23 20:16:24,502 - __main__ - INFO - Checking environment variables...
2025-02-23 20:16:24,503 - __main__ - INFO - âœ“ Found OPENAI_API_KEY in environment
2025-02-23 20:16:24,504 - __main__ - INFO - âœ“ Found DEEPSEEK_API_KEY in environment
2025-02-23 20:16:24,505 - __main__ - INFO - âœ“ Found GOOGLE_APPLICATION_CREDENTIALS_JSON in environment
2025-02-23 20:16:24,506 - __main__ - INFO - Attempting to parse Google credentials...
2025-02-23 20:16:24,507 - __main__ - WARNING - Direct JSON parsing failed: Invalid control character at: line 1 column 175 (char 174)
2025-02-23 20:16:24,510 - __main__ - INFO - âœ“ Google credentials configured successfully
2025-02-23 20:16:24,512 - __main__ - INFO - âœ“ Configuration loaded successfully
2025-02-23 20:16:24,546 - __main__ - INFO - Initializing StreamlitUpdate
2025-02-23 20:16:24,549 - __main__ - INFO - Initializing StreamlitContext
2025-02-23 20:16:24,555 - __main__ - INFO - Processing video URL: https://x.com/AMAZlNGNATURE/status/1888583984147259477
2025-02-23 20:16:24,558 - __main__ - INFO - Status update: ğŸ¬ Starting video processing...

0% â–±â–±â–±â–±â–±â–±â–±â–±â–±â–±
2025-02-23 20:16:24,562 - __main__ - INFO - Status update: ğŸ“¥ Downloading video...

10% â–°â–±â–±â–±â–±â–±â–±â–±â–±â–±
2025-02-23 20:16:24,564 - new_bot - INFO - Downloading video from: https://x.com/AMAZlNGNATURE/status/1888583984147259477
2025-02-23 20:16:24,566 - pipeline.Step_1_download_video - INFO - Downloading video from: https://twitter.com/AMAZlNGNATURE/status/1888583984147259477
2025-02-23 20:16:39,149 - pipeline.Step_1_download_video - INFO - Download completed
2025-02-23 20:16:39,150 - pipeline.Step_1_download_video - INFO - Downloaded file: temp_0\video\video_20250223_201627.mp4
2025-02-23 20:16:39,184 - new_bot - INFO - Starting video processing...
2025-02-23 20:16:39,185 - new_bot - INFO - Extracting frames...
2025-02-23 20:16:39,186 - __main__ - INFO - Status update: ğŸï¸ Extracting frames...

30% â–°â–°â–°â–±â–±â–±â–±â–±â–±â–±
2025-02-23 20:16:39,399 - pipeline.Step_2_extract_frames - INFO - Analyzing video for key frames...
2025-02-23 20:16:39,448 - pipeline.Step_2_extract_frames - INFO - Progress: 0.0%
2025-02-23 20:16:40,187 - pipeline.Step_2_extract_frames - INFO - Saved frame at 0.10s (scene_change=False, motion=8.27
2025-02-23 20:16:40,453 - pipeline.Step_2_extract_frames - INFO - Saved frame at 0.20s (scene_change=False, motion=11.99
2025-02-23 20:16:40,690 - pipeline.Step_2_extract_frames - INFO - Saved frame at 0.30s (scene_change=False, motion=8.49
2025-02-23 20:16:40,933 - pipeline.Step_2_extract_frames - INFO - Saved frame at 0.40s (scene_change=False, motion=12.13
2025-02-23 20:16:41,215 - pipeline.Step_2_extract_frames - INFO - Saved frame at 0.50s (scene_change=False, motion=8.44
2025-02-23 20:16:41,465 - pipeline.Step_2_extract_frames - INFO - Saved frame at 0.60s (scene_change=False, motion=8.12
2025-02-23 20:16:41,711 - pipeline.Step_2_extract_frames - INFO - Saved frame at 0.70s (scene_change=False, motion=12.01
2025-02-23 20:16:41,936 - pipeline.Step_2_extract_frames - INFO - Saved frame at 0.80s (scene_change=False, motion=8.08
2025-02-23 20:16:42,167 - pipeline.Step_2_extract_frames - INFO - Saved frame at 0.90s (scene_change=False, motion=11.95
2025-02-23 20:16:43,025 - pipeline.Step_2_extract_frames - INFO - Saved frame at 1.10s (scene_change=False, motion=8.12
2025-02-23 20:16:43,262 - pipeline.Step_2_extract_frames - INFO - Saved frame at 1.20s (scene_change=False, motion=11.95
2025-02-23 20:16:43,499 - pipeline.Step_2_extract_frames - INFO - Saved frame at 1.30s (scene_change=False, motion=7.92
2025-02-23 20:16:43,729 - pipeline.Step_2_extract_frames - INFO - Saved frame at 1.40s (scene_change=False, motion=11.47
2025-02-23 20:16:43,999 - pipeline.Step_2_extract_frames - INFO - Saved frame at 1.50s (scene_change=False, motion=7.83
2025-02-23 20:16:44,270 - pipeline.Step_2_extract_frames - INFO - Saved frame at 1.60s (scene_change=False, motion=7.83
2025-02-23 20:16:44,554 - pipeline.Step_2_extract_frames - INFO - Saved frame at 1.70s (scene_change=False, motion=11.49
2025-02-23 20:16:44,844 - pipeline.Step_2_extract_frames - INFO - Saved frame at 1.80s (scene_change=False, motion=7.68
2025-02-23 20:16:45,132 - pipeline.Step_2_extract_frames - INFO - Saved frame at 1.90s (scene_change=False, motion=11.26
2025-02-23 20:16:45,141 - pipeline.Step_2_extract_frames - INFO - Extracted 18 key frames
2025-02-23 20:16:45,143 - new_bot - INFO - Analyzing frames...
2025-02-23 20:16:45,143 - __main__ - INFO - Status update: ğŸ” Analyzing video content...

50% â–°â–°â–°â–°â–°â–±â–±â–±â–±â–±
2025-02-23 20:16:45,640 - pipeline.Step_3_analyze_frames - INFO - Selected 1 key frames for analysis
2025-02-23 20:17:10,422 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-23 20:17:10,449 - pipeline.Step_3_analyze_frames - INFO - Analysis complete. Results saved to output_0\final_analysis.json
2025-02-23 20:17:10,451 - new_bot - INFO - Generating commentary in en...
2025-02-23 20:17:10,453 - __main__ - INFO - Status update: ğŸ’­ Generating commentary...

70% â–°â–°â–°â–°â–°â–°â–°â–±â–±â–±
2025-02-23 20:17:10,456 - pipeline.Step_4_generate_commentary - INFO - 
=== STARTING COMMENTARY GENERATION ===
2025-02-23 20:17:10,457 - pipeline.Step_4_generate_commentary - INFO - Content Type: news
2025-02-23 20:17:10,458 - pipeline.Step_4_generate_commentary - INFO - Analysis File: output_0\final_analysis.json
2025-02-23 20:17:10,799 - pipeline.Step_4_generate_commentary - INFO - 
=== VIDEO TEXT FROM METADATA ===
2025-02-23 20:17:10,801 - pipeline.Step_4_generate_commentary - INFO - No text found in metadata
2025-02-23 20:17:10,803 - pipeline.Step_4_generate_commentary - INFO - 
=== SYSTEM PROMPT ===
2025-02-23 20:17:10,806 - pipeline.Step_4_generate_commentary - INFO - You are a professional news commentator. Create clear, objective commentary that:
- Uses formal journalistic language
- Presents information objectively
- Follows news reporting structure
- Maintains credibility and authority
- Emphasizes key facts and developments
2025-02-23 20:17:10,810 - pipeline.Step_4_generate_commentary - INFO - 
=== USER PROMPT ===
2025-02-23 20:17:10,813 - pipeline.Step_4_generate_commentary - INFO - Generate a VERY SHORT EN commentary (1-2 lines maximum) for this video in news style.

VIDEO CONTENT:
Title: Nature is Amazing â˜˜ï¸ - A pair of macaws soars over the Amazon rainforest
Description: A pair of macaws soars over the Amazon rainforest https://t.co/mgmMGwxAMB

VISUAL ANALYSIS:

Key visual elements (with confidence):
- Natural environment (0.97)
- Vegetation (0.96)
- Forest (0.93)
- Jungle (0.90)
- Plant community (0.89)
- Rainforest (0.88)
- Groundcover (0.84)
- Nature reserve (0.83)

Detailed scene descriptions:
- 1. **Main Focus/Subject:**
   The main focus of the frame is a pair of brightly colored macaws soaring over a lush, green rainforest. This aligns perfectly with the videoâ€™s theme of showcasing the natural beauty of the Amazon rainforest.

2. **Actions/Movements:**
   The macaws are captured mid-flight, wings spread wide, demonstrating their grace and the freedom of movement that the vast expanse of the rainforest allows. The angle suggests an aerial perspective, likely from a drone or overhead camera, emphasizing the expanse and richness of the forest canopy.

3. **Significant Details:**
   - The vivid colors of the macaws contrast sharply with the green backdrop, highlighting their presence.
   - The dense canopy of trees below, with various shades of green, depicts the biodiversity typical of the Amazon.
   - The frame captures a sense of motion which is natural and dynamic, adding to the videoâ€™s narrative of exploring nature.

4. **Overall Narrative Connection:**
   This moment in the video encapsulates the theme "Nature is Amazing" by portraying the symbiotic relationship between the rainforest and its wildlife. It highlights the macaws in their natural habitat, contributing to the overall narrative of the Amazon as a vibrant and life-sustaining environment.

5. **Correction of Misidentifications:**
   The computer vision results highly likely detected a rainforest, which is accurate given the context provided. There are no apparent misidentifications in this frame as the setting is clearly


STRICT REQUIREMENTS:
1. MUST be 1-2 lines only - no exceptions
2. Focus on combining the video description with what is actually shown in the video
3. If there is text in the video, incorporate it naturally
4. Match the news style while staying extremely brief
5. Make it engaging but concise
6. Format for en
7. Ensure commentary reflects both visual content and video description
8. Correct any obvious errors in object detection (e.g., if a deer was labeled as a dog)
2025-02-23 20:17:10,837 - pipeline.Step_4_generate_commentary - INFO - 
=== GENERATING COMMENTARY ===
2025-02-23 20:17:12,979 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-23 20:17:12,989 - pipeline.Step_4_generate_commentary - INFO - 
=== RAW GENERATED COMMENTARY ===
2025-02-23 20:17:12,991 - pipeline.Step_4_generate_commentary - INFO - A pair of vibrant macaws gracefully soars over the lush Amazon rainforest, illustrating the breathtaking beauty and biodiversity of this vital ecosystem.
2025-02-23 20:17:12,996 - pipeline.Step_4_generate_commentary - INFO - 
=== PROCESSED COMMENTARY ===
2025-02-23 20:17:13,000 - pipeline.Step_4_generate_commentary - INFO - A pair of vibrant macaws gracefully soars over the lush Amazon rainforest, illustrating the breathtaking beauty and biodiversity of this vital ecosystem.
2025-02-23 20:17:13,004 - pipeline.Step_4_generate_commentary - INFO - 
=== FINAL COMMENTARY OBJECT ===
2025-02-23 20:17:13,007 - pipeline.Step_4_generate_commentary - INFO - {
  "style": "news",
  "commentary": "A pair of vibrant macaws gracefully soars over the lush Amazon rainforest, illustrating the breathtaking beauty and biodiversity of this vital ecosystem.",
  "metadata": {
    "title": "Nature is Amazing â˜˜ï¸ - A pair of macaws soars over the Amazon rainforest",
    "duration": 19.666666666666668,
    "description": "A pair of macaws soars over the Amazon rainforest https://t.co/mgmMGwxAMB",
    "uploader": "Nature is Amazing â˜˜ï¸",
    "view_count": null,
    "like_count": 11105,
    "upload_date": "20250209",
    "scene_changes": [],
    "motion_scores": [
      [
        "output_0\\frames\\frame_0.10s.jpg",
        8.26540470123291
      ],
      [
        "output_0\\frames\\frame_0.20s.jpg",
        11.989388465881348
      ],
      [
        "output_0\\frames\\frame_0.30s.jpg",
        8.490253448486328
      ],
      [
        "output_0\\frames\\frame_0.40s.jpg",
        12.127481460571289
      ],
      [
        "output_0\\frames\\frame_0.50s.jpg",
        8.442742347717285
      ],
      [
        "output_0\\frames\\frame_0.60s.jpg",
        8.115217208862305
      ],
      [
        "output_0\\frames\\frame_0.70s.jpg",
        12.00805950164795
      ],
      [
        "output_0\\frames\\frame_0.80s.jpg",
        8.082365036010742
      ],
      [
        "output_0\\frames\\frame_0.90s.jpg",
        11.945008277893066
      ],
      [
        "output_0\\frames\\frame_1.10s.jpg",
        8.115323066711426
      ],
      [
        "output_0\\frames\\frame_1.20s.jpg",
        11.9525785446167
      ],
      [
        "output_0\\frames\\frame_1.30s.jpg",
        7.924922943115234
      ],
      [
        "output_0\\frames\\frame_1.40s.jpg",
        11.469964981079102
      ],
      [
        "output_0\\frames\\frame_1.50s.jpg",
        7.830117225646973
      ],
      [
        "output_0\\frames\\frame_1.60s.jpg",
        7.834953308105469
      ],
      [
        "output_0\\frames\\frame_1.70s.jpg",
        11.49044132232666
      ],
      [
        "output_0\\frames\\frame_1.80s.jpg",
        7.676449775695801
      ],
      [
        "output_0\\frames\\frame_1.90s.jpg",
        11.259161949157715
      ]
    ],
    "language": "en"
  },
  "language": "en"
}
2025-02-23 20:17:13,039 - pipeline.Step_4_generate_commentary - INFO - 
=== PROCESSING FOR AUDIO ===
2025-02-23 20:17:13,040 - pipeline.Step_4_generate_commentary - INFO - Language: en
2025-02-23 20:17:13,041 - pipeline.Step_4_generate_commentary - INFO - 
=== FINAL AUDIO SCRIPT ===
2025-02-23 20:17:13,041 - pipeline.Step_4_generate_commentary - INFO - A pair of vibrant macaws gracefully soars over the lush Amazon rainforest, illustrating the breathtaking beauty and biodiversity of this vital ecosystem.
2025-02-23 20:17:13,044 - new_bot - INFO - Generating audio in en...
2025-02-23 20:17:13,044 - __main__ - INFO - Status update: ğŸ™ï¸ Synthesizing voice...

80% â–°â–°â–°â–°â–°â–°â–°â–°â–±â–±
2025-02-23 20:17:13,063 - pipeline.Step_5_generate_audio - INFO - Generating audio for text: A pair of vibrant macaws gracefully soars over the lush Amazon rainforest, illustrating the breathta...
2025-02-23 20:17:14,768 - pipeline.Step_5_generate_audio - INFO - Successfully generated audio file: output_0\commentary_news.wav
2025-02-23 20:17:14,771 - new_bot - INFO - Generating final video...
2025-02-23 20:17:14,773 - __main__ - INFO - Status update: ğŸ¥ Creating final video...

85% â–°â–°â–°â–°â–°â–°â–°â–°â–°â–±
2025-02-23 20:17:14,839 - pipeline.Step_6_video_generation - INFO - FFmpeg verified successfully
2025-02-23 20:17:15,020 - pipeline.Step_6_video_generation - WARNING - Logo directory not found: C:\Users\mrema\Downloads\Video-Commentary-Bot-0.1\framesAndLogo\News
2025-02-23 20:17:15,021 - pipeline.Step_6_video_generation - INFO - FFmpeg command: ffmpeg -y -i temp_0\video\video_20250223_201627.mp4 -i output_0\commentary_news.wav -c:v libx264 -preset medium -crf 23 -c:a aac -b:a 192k -shortest -map 0:v -map 1:a output_0\final_video_news.mp4
2025-02-23 20:17:19,228 - pipeline.Step_6_video_generation - INFO - Video generated successfully: output_0\final_video_news.mp4
2025-02-23 20:17:19,229 - __main__ - INFO - Status update: ğŸ“¤ Uploading enhanced video...

90% â–°â–°â–°â–°â–°â–°â–°â–°â–±â–±
2025-02-23 20:17:19,233 - __main__ - INFO - Handling video reply
2025-02-23 20:17:19,256 - __main__ - INFO - Status update: âœ… Processing complete!

100% â–°â–°â–°â–°â–°â–°â–°â–°â–°â–°
2025-02-23 20:17:19,401 - __main__ - INFO - Cleanup completed successfully
2025-02-23 20:21:15,800 - __main__ - INFO - Checking environment variables...
2025-02-23 20:21:15,801 - __main__ - INFO - âœ“ Found OPENAI_API_KEY in environment
2025-02-23 20:21:15,803 - __main__ - INFO - âœ“ Found DEEPSEEK_API_KEY in environment
2025-02-23 20:21:15,804 - __main__ - INFO - âœ“ Found GOOGLE_APPLICATION_CREDENTIALS_JSON in environment
2025-02-23 20:21:15,806 - __main__ - INFO - Attempting to parse Google credentials...
2025-02-23 20:21:15,807 - __main__ - WARNING - Direct JSON parsing failed: Invalid control character at: line 1 column 175 (char 174)
2025-02-23 20:21:15,811 - __main__ - INFO - âœ“ Google credentials configured successfully
2025-02-23 20:21:15,812 - __main__ - INFO - âœ“ Configuration loaded successfully
2025-02-23 20:21:19,769 - __main__ - INFO - Checking environment variables...
2025-02-23 20:21:19,773 - __main__ - INFO - âœ“ Found OPENAI_API_KEY in environment
2025-02-23 20:21:19,774 - __main__ - INFO - âœ“ Found DEEPSEEK_API_KEY in environment
2025-02-23 20:21:19,775 - __main__ - INFO - âœ“ Found GOOGLE_APPLICATION_CREDENTIALS_JSON in environment
2025-02-23 20:21:19,777 - __main__ - INFO - Attempting to parse Google credentials...
2025-02-23 20:21:19,778 - __main__ - WARNING - Direct JSON parsing failed: Invalid control character at: line 1 column 175 (char 174)
2025-02-23 20:21:19,782 - __main__ - INFO - âœ“ Google credentials configured successfully
2025-02-23 20:21:19,783 - __main__ - INFO - âœ“ Configuration loaded successfully
2025-02-23 20:21:21,957 - __main__ - INFO - Checking environment variables...
2025-02-23 20:21:21,958 - __main__ - INFO - âœ“ Found OPENAI_API_KEY in environment
2025-02-23 20:21:21,958 - __main__ - INFO - âœ“ Found DEEPSEEK_API_KEY in environment
2025-02-23 20:21:21,959 - __main__ - INFO - âœ“ Found GOOGLE_APPLICATION_CREDENTIALS_JSON in environment
2025-02-23 20:21:21,960 - __main__ - INFO - Attempting to parse Google credentials...
2025-02-23 20:21:21,961 - __main__ - WARNING - Direct JSON parsing failed: Invalid control character at: line 1 column 175 (char 174)
2025-02-23 20:21:21,962 - __main__ - INFO - âœ“ Google credentials configured successfully
2025-02-23 20:21:21,963 - __main__ - INFO - âœ“ Configuration loaded successfully
2025-02-23 20:21:21,987 - __main__ - INFO - Initializing StreamlitUpdate
2025-02-23 20:21:21,989 - __main__ - INFO - Initializing StreamlitContext
2025-02-23 20:21:21,991 - __main__ - INFO - Processing video URL: https://x.com/AMAZlNGNATURE/status/1888583984147259477
2025-02-23 20:21:21,993 - __main__ - INFO - Status update: ğŸ¬ Starting video processing...

0% â–±â–±â–±â–±â–±â–±â–±â–±â–±â–±
2025-02-23 20:21:21,998 - __main__ - INFO - Status update: ğŸ“¥ Downloading video...

10% â–°â–±â–±â–±â–±â–±â–±â–±â–±â–±
2025-02-23 20:21:22,000 - new_bot - INFO - Downloading video from: https://x.com/AMAZlNGNATURE/status/1888583984147259477
2025-02-23 20:21:22,001 - pipeline.Step_1_download_video - INFO - Downloading video from: https://twitter.com/AMAZlNGNATURE/status/1888583984147259477
2025-02-23 20:21:33,547 - pipeline.Step_1_download_video - INFO - Download completed
2025-02-23 20:21:33,548 - pipeline.Step_1_download_video - INFO - Downloaded file: temp_0\video\video_20250223_202125.mp4
2025-02-23 20:21:33,571 - new_bot - INFO - Starting video processing...
2025-02-23 20:21:33,571 - new_bot - INFO - Extracting frames...
2025-02-23 20:21:33,572 - __main__ - INFO - Status update: ğŸï¸ Extracting frames...

30% â–°â–°â–°â–±â–±â–±â–±â–±â–±â–±
2025-02-23 20:21:33,640 - pipeline.Step_2_extract_frames - INFO - Analyzing video for key frames...
2025-02-23 20:21:33,675 - pipeline.Step_2_extract_frames - INFO - Progress: 0.0%
2025-02-23 20:21:34,352 - pipeline.Step_2_extract_frames - INFO - Saved frame at 0.10s (scene_change=False, motion=8.27
2025-02-23 20:21:34,596 - pipeline.Step_2_extract_frames - INFO - Saved frame at 0.20s (scene_change=False, motion=11.99
2025-02-23 20:21:34,825 - pipeline.Step_2_extract_frames - INFO - Saved frame at 0.30s (scene_change=False, motion=8.49
2025-02-23 20:21:35,059 - pipeline.Step_2_extract_frames - INFO - Saved frame at 0.40s (scene_change=False, motion=12.13
2025-02-23 20:21:35,286 - pipeline.Step_2_extract_frames - INFO - Saved frame at 0.50s (scene_change=False, motion=8.44
2025-02-23 20:21:35,520 - pipeline.Step_2_extract_frames - INFO - Saved frame at 0.60s (scene_change=False, motion=8.12
2025-02-23 20:21:35,778 - pipeline.Step_2_extract_frames - INFO - Saved frame at 0.70s (scene_change=False, motion=12.01
2025-02-23 20:21:36,012 - pipeline.Step_2_extract_frames - INFO - Saved frame at 0.80s (scene_change=False, motion=8.08
2025-02-23 20:21:36,266 - pipeline.Step_2_extract_frames - INFO - Saved frame at 0.90s (scene_change=False, motion=11.95
2025-02-23 20:21:37,076 - pipeline.Step_2_extract_frames - INFO - Saved frame at 1.10s (scene_change=False, motion=8.12
2025-02-23 20:21:37,307 - pipeline.Step_2_extract_frames - INFO - Saved frame at 1.20s (scene_change=False, motion=11.95
2025-02-23 20:21:37,536 - pipeline.Step_2_extract_frames - INFO - Saved frame at 1.30s (scene_change=False, motion=7.92
2025-02-23 20:21:37,796 - pipeline.Step_2_extract_frames - INFO - Saved frame at 1.40s (scene_change=False, motion=11.47
2025-02-23 20:21:38,073 - pipeline.Step_2_extract_frames - INFO - Saved frame at 1.50s (scene_change=False, motion=7.83
2025-02-23 20:21:38,297 - pipeline.Step_2_extract_frames - INFO - Saved frame at 1.60s (scene_change=False, motion=7.83
2025-02-23 20:21:38,562 - pipeline.Step_2_extract_frames - INFO - Saved frame at 1.70s (scene_change=False, motion=11.49
2025-02-23 20:21:38,797 - pipeline.Step_2_extract_frames - INFO - Saved frame at 1.80s (scene_change=False, motion=7.68
2025-02-23 20:21:39,054 - pipeline.Step_2_extract_frames - INFO - Saved frame at 1.90s (scene_change=False, motion=11.26
2025-02-23 20:21:39,062 - pipeline.Step_2_extract_frames - INFO - Extracted 18 key frames
2025-02-23 20:21:39,063 - new_bot - INFO - Analyzing frames...
2025-02-23 20:21:39,064 - __main__ - INFO - Status update: ğŸ” Analyzing video content...

50% â–°â–°â–°â–°â–°â–±â–±â–±â–±â–±
2025-02-23 20:21:39,424 - pipeline.Step_3_analyze_frames - INFO - Selected 1 key frames for analysis
2025-02-23 20:22:05,433 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-23 20:22:05,449 - pipeline.Step_3_analyze_frames - INFO - Analysis complete. Results saved to output_0\final_analysis.json
2025-02-23 20:22:05,453 - new_bot - INFO - Generating commentary in ur...
2025-02-23 20:22:05,455 - __main__ - INFO - Status update: ğŸ’­ Generating commentary...

70% â–°â–°â–°â–°â–°â–°â–°â–±â–±â–±
2025-02-23 20:22:05,460 - pipeline.Step_4_generate_commentary - INFO - 
=== STARTING COMMENTARY GENERATION ===
2025-02-23 20:22:05,462 - pipeline.Step_4_generate_commentary - INFO - Content Type: nature
2025-02-23 20:22:05,463 - pipeline.Step_4_generate_commentary - INFO - Analysis File: output_0\final_analysis.json
2025-02-23 20:22:05,808 - pipeline.Step_4_generate_commentary - INFO - 
=== VIDEO TEXT FROM METADATA ===
2025-02-23 20:22:05,810 - pipeline.Step_4_generate_commentary - INFO - No text found in metadata
2025-02-23 20:22:05,811 - pipeline.Step_4_generate_commentary - INFO - 
=== SYSTEM PROMPT ===
2025-02-23 20:22:05,812 - pipeline.Step_4_generate_commentary - INFO - You are a nature documentary narrator. Create descriptive commentary that:
- Uses vivid, descriptive language
- Conveys wonder and appreciation
- Includes scientific observations
- Maintains a sense of discovery
- Balances education with entertainment
2025-02-23 20:22:05,814 - pipeline.Step_4_generate_commentary - INFO - 
=== USER PROMPT ===
2025-02-23 20:22:05,815 - pipeline.Step_4_generate_commentary - INFO - Generate a VERY SHORT UR commentary (1-2 lines maximum) for this video in nature style.

VIDEO CONTENT:
Title: Nature is Amazing â˜˜ï¸ - A pair of macaws soars over the Amazon rainforest
Description: A pair of macaws soars over the Amazon rainforest https://t.co/mgmMGwxAMB

VISUAL ANALYSIS:

Key visual elements (with confidence):
- Natural environment (0.97)
- Vegetation (0.96)
- Forest (0.93)
- Jungle (0.90)
- Plant community (0.89)
- Rainforest (0.88)
- Groundcover (0.84)
- Nature reserve (0.83)

Detailed scene descriptions:
- 1. **Main Focus or Subject:**
   The main focus of this frame is the pair of macaws soaring over the lush greenery of the Amazon rainforest. The vibrant colors of the birds contrast vividly with the deep greens of the forest canopy, emphasizing the macaws as the central subjects.

2. **Actions, Movements, or Interactions:**
   The macaws are in flight, gliding over the dense treetops. Their movement is graceful, highlighting the freedom and natural beauty of avian life in the rainforest. This dynamic action aligns with the video's theme of showcasing the marvels of nature.

3. **Significant Details:**
   - The dense, multilayered vegetation reflects the complexity and biodiversity of the Amazon rainforest.
   - The vivid colors and distinct shapes of the macaws distinguish them from the background, making them focal points of interest.
   - The unobstructed aerial view offers a sweeping perspective of the forest, enhancing the sense of vastness.

4. **Connection to Overall Story:**
   This frame encapsulates the videoâ€™s narrative of celebrating natureâ€™s wonders, specifically highlighting the beauty and freedom of wildlife within the Amazon. The scene underscores the ecological significance and the breathtaking visuals of the rainforest environment.

5. **Potential Misidentifications:**
   - The previous analysis does not show any significant misidentifications in terms of key elements like â€œNatural environmentâ€ or â€œRainforest.â€ 
   - The mention of â€œTemperate broadleaf and mixed forest


STRICT REQUIREMENTS:
1. MUST be 1-2 lines only - no exceptions
2. Focus on combining the video description with what is actually shown in the video
3. If there is text in the video, incorporate it naturally
4. Match the nature style while staying extremely brief
5. Make it engaging but concise
6. Format for ur
7. Ensure commentary reflects both visual content and video description
8. Correct any obvious errors in object detection (e.g., if a deer was labeled as a dog)
9. Use proper Urdu script and punctuation (Û”ØŒ ØŸ)
2025-02-23 20:22:05,829 - pipeline.Step_4_generate_commentary - INFO - 
=== GENERATING COMMENTARY ===
2025-02-23 20:22:07,787 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-23 20:22:07,799 - pipeline.Step_4_generate_commentary - INFO - 
=== RAW GENERATED COMMENTARY ===
2025-02-23 20:22:07,801 - pipeline.Step_4_generate_commentary - INFO - Ø§ÛŒÚ© Ø¬ÙˆÚ‘Ø§ Ù…Ø§Ú©Ø§Ø¤Ø²ØŒ Ø¬Ùˆ Ø¢Ø³Ù…Ø§Ù† Ú©ÛŒ ÙˆØ³Ø¹ØªÙˆÚº Ù…ÛŒÚº Ø§Ú‘ØªØ§ ÛÙˆØ§ØŒ Ø§ÛŒÙ…ÛŒØ²ÙˆÙ† Ø¨Ø§Ø±Ø´ Ú©Û’ Ø¬Ù†Ú¯Ù„ Ú©ÛŒ Ø³Ø±Ø³Ø¨Ø² Ú†Ú¾Øª Ù¾Ø± Ø§Ù¾Ù†ÛŒ Ø±Ù†Ú¯ÛŒÙ†ÛŒ Ø¨Ú©Ú¾ÛŒØ± Ø±ÛØ§ ÛÛ’Û” ÛŒÛ Ù…Ù†Ø¸Ø± Ù‚Ø¯Ø±Øª Ú©ÛŒ Ø®ÙˆØ¨ØµÙˆØ±ØªÛŒ Ø§ÙˆØ± Ø¬Ù†Ú¯Ù„ Ú©ÛŒ Ø²Ù†Ø¯Ú¯ÛŒ Ú©Û’ Ø­ÛŒØ±Øª Ø§Ù†Ú¯ÛŒØ² Ø±Ø§Ø²ÙˆÚº Ú©ÛŒ Ø¹Ú©Ø§Ø³ÛŒ Ú©Ø±ØªØ§ ÛÛ’Û”
2025-02-23 20:22:07,806 - pipeline.Step_4_generate_commentary - INFO - 
=== PROCESSED COMMENTARY ===
2025-02-23 20:22:07,807 - pipeline.Step_4_generate_commentary - INFO - Ø§ÛŒÚ© Ø¬ÙˆÚ‘Ø§ Ù…Ø§Ú©Ø§Ø¤Ø²ØŒ<break time="0.5s"/> Ø¬Ùˆ Ø¢Ø³Ù…Ø§Ù† Ú©ÛŒ ÙˆØ³Ø¹ØªÙˆÚº Ù…ÛŒÚº Ø§Ú‘ØªØ§ ÛÙˆØ§ØŒ<break time="0.5s"/> Ø§ÛŒÙ…ÛŒØ²ÙˆÙ† Ø¨Ø§Ø±Ø´ Ú©Û’ Ø¬Ù†Ú¯Ù„ Ú©ÛŒ Ø³Ø±Ø³Ø¨Ø² Ú†Ú¾Øª Ù¾Ø± Ø§Ù¾Ù†ÛŒ Ø±Ù†Ú¯ÛŒÙ†ÛŒ Ø¨Ú©Ú¾ÛŒØ± Ø±ÛØ§ ÛÛ’Û”<break time="1s"/> ÛŒÛ Ù…Ù†Ø¸Ø± Ù‚Ø¯Ø±Øª Ú©ÛŒ Ø®ÙˆØ¨ØµÙˆØ±ØªÛŒ Ø§ÙˆØ± Ø¬Ù†Ú¯Ù„ Ú©ÛŒ Ø²Ù†Ø¯Ú¯ÛŒ Ú©Û’ Ø­ÛŒØ±Øª Ø§Ù†Ú¯ÛŒØ² Ø±Ø§Ø²ÙˆÚº Ú©ÛŒ Ø¹Ú©Ø§Ø³ÛŒ Ú©Ø±ØªØ§ ÛÛ’Û”<break time="1s"/>
2025-02-23 20:22:07,811 - pipeline.Step_4_generate_commentary - INFO - 
=== FINAL COMMENTARY OBJECT ===
2025-02-23 20:22:07,814 - pipeline.Step_4_generate_commentary - INFO - {
  "style": "nature",
  "commentary": "Ø§ÛŒÚ© Ø¬ÙˆÚ‘Ø§ Ù…Ø§Ú©Ø§Ø¤Ø²ØŒ<break time=\"0.5s\"/> Ø¬Ùˆ Ø¢Ø³Ù…Ø§Ù† Ú©ÛŒ ÙˆØ³Ø¹ØªÙˆÚº Ù…ÛŒÚº Ø§Ú‘ØªØ§ ÛÙˆØ§ØŒ<break time=\"0.5s\"/> Ø§ÛŒÙ…ÛŒØ²ÙˆÙ† Ø¨Ø§Ø±Ø´ Ú©Û’ Ø¬Ù†Ú¯Ù„ Ú©ÛŒ Ø³Ø±Ø³Ø¨Ø² Ú†Ú¾Øª Ù¾Ø± Ø§Ù¾Ù†ÛŒ Ø±Ù†Ú¯ÛŒÙ†ÛŒ Ø¨Ú©Ú¾ÛŒØ± Ø±ÛØ§ ÛÛ’Û”<break time=\"1s\"/> ÛŒÛ Ù…Ù†Ø¸Ø± Ù‚Ø¯Ø±Øª Ú©ÛŒ Ø®ÙˆØ¨ØµÙˆØ±ØªÛŒ Ø§ÙˆØ± Ø¬Ù†Ú¯Ù„ Ú©ÛŒ Ø²Ù†Ø¯Ú¯ÛŒ Ú©Û’ Ø­ÛŒØ±Øª Ø§Ù†Ú¯ÛŒØ² Ø±Ø§Ø²ÙˆÚº Ú©ÛŒ Ø¹Ú©Ø§Ø³ÛŒ Ú©Ø±ØªØ§ ÛÛ’Û”<break time=\"1s\"/>",
  "metadata": {
    "title": "Nature is Amazing â˜˜ï¸ - A pair of macaws soars over the Amazon rainforest",
    "duration": 19.666666666666668,
    "description": "A pair of macaws soars over the Amazon rainforest https://t.co/mgmMGwxAMB",
    "uploader": "Nature is Amazing â˜˜ï¸",
    "view_count": null,
    "like_count": 11105,
    "upload_date": "20250209",
    "scene_changes": [],
    "motion_scores": [
      [
        "output_0\\frames\\frame_0.10s.jpg",
        8.26540470123291
      ],
      [
        "output_0\\frames\\frame_0.20s.jpg",
        11.989388465881348
      ],
      [
        "output_0\\frames\\frame_0.30s.jpg",
        8.490253448486328
      ],
      [
        "output_0\\frames\\frame_0.40s.jpg",
        12.127481460571289
      ],
      [
        "output_0\\frames\\frame_0.50s.jpg",
        8.442742347717285
      ],
      [
        "output_0\\frames\\frame_0.60s.jpg",
        8.115217208862305
      ],
      [
        "output_0\\frames\\frame_0.70s.jpg",
        12.00805950164795
      ],
      [
        "output_0\\frames\\frame_0.80s.jpg",
        8.082365036010742
      ],
      [
        "output_0\\frames\\frame_0.90s.jpg",
        11.945008277893066
      ],
      [
        "output_0\\frames\\frame_1.10s.jpg",
        8.115323066711426
      ],
      [
        "output_0\\frames\\frame_1.20s.jpg",
        11.9525785446167
      ],
      [
        "output_0\\frames\\frame_1.30s.jpg",
        7.924922943115234
      ],
      [
        "output_0\\frames\\frame_1.40s.jpg",
        11.469964981079102
      ],
      [
        "output_0\\frames\\frame_1.50s.jpg",
        7.830117225646973
      ],
      [
        "output_0\\frames\\frame_1.60s.jpg",
        7.834953308105469
      ],
      [
        "output_0\\frames\\frame_1.70s.jpg",
        11.49044132232666
      ],
      [
        "output_0\\frames\\frame_1.80s.jpg",
        7.676449775695801
      ],
      [
        "output_0\\frames\\frame_1.90s.jpg",
        11.259161949157715
      ]
    ],
    "language": "ur"
  },
  "language": "ur"
}
2025-02-23 20:22:07,834 - pipeline.Step_4_generate_commentary - INFO - 
=== PROCESSING FOR AUDIO ===
2025-02-23 20:22:07,835 - pipeline.Step_4_generate_commentary - INFO - Language: ur
2025-02-23 20:22:07,837 - pipeline.Step_4_generate_commentary - INFO - 
=== FINAL AUDIO SCRIPT ===
2025-02-23 20:22:07,837 - pipeline.Step_4_generate_commentary - INFO - Ø§ÛŒÚ© Ø¬ÙˆÚ‘Ø§ Ù…Ø§Ú©Ø§Ø¤Ø²ØŒ<break time="0.5s"/> Ø¬Ùˆ Ø¢Ø³Ù…Ø§Ù† Ú©ÛŒ ÙˆØ³Ø¹ØªÙˆÚº Ù…ÛŒÚº Ø§Ú‘ØªØ§ ÛÙˆØ§ØŒ<break time="0.5s"/> Ø§ÛŒÙ…ÛŒØ²ÙˆÙ† Ø¨Ø§Ø±Ø´ Ú©Û’ Ø¬Ù†Ú¯Ù„ Ú©ÛŒ Ø³Ø±Ø³Ø¨Ø² Ú†Ú¾Øª Ù¾Ø± Ø§Ù¾Ù†ÛŒ Ø±Ù†Ú¯ÛŒÙ†ÛŒ Ø¨Ú©Ú¾ÛŒØ± Ø±ÛØ§ ÛÛ’Û”<break time="1s"/> ÛŒÛ Ù…Ù†Ø¸Ø± Ù‚Ø¯Ø±Øª Ú©ÛŒ Ø®ÙˆØ¨ØµÙˆØ±ØªÛŒ Ø§ÙˆØ± Ø¬Ù†Ú¯Ù„ Ú©ÛŒ Ø²Ù†Ø¯Ú¯ÛŒ Ú©Û’ Ø­ÛŒØ±Øª Ø§Ù†Ú¯ÛŒØ² Ø±Ø§Ø²ÙˆÚº Ú©ÛŒ Ø¹Ú©Ø§Ø³ÛŒ Ú©Ø±ØªØ§ ÛÛ’Û”<break time="1s"/>
2025-02-23 20:22:07,840 - new_bot - INFO - Generating audio in ur...
2025-02-23 20:22:07,840 - __main__ - INFO - Status update: ğŸ™ï¸ Synthesizing voice...

80% â–°â–°â–°â–°â–°â–°â–°â–°â–±â–±
2025-02-23 20:22:07,854 - pipeline.Step_5_generate_audio - INFO - Generating audio for text: Ø§ÛŒÚ© Ø¬ÙˆÚ‘Ø§ Ù…Ø§Ú©Ø§Ø¤Ø²ØŒ<break time="0.5s"/> Ø¬Ùˆ Ø¢Ø³Ù…Ø§Ù† Ú©ÛŒ ÙˆØ³Ø¹ØªÙˆÚº Ù…ÛŒÚº Ø§Ú‘ØªØ§ ÛÙˆØ§ØŒ<break time="0.5s"/> Ø§ÛŒÙ…ÛŒØ²ÙˆÙ† Ø¨Ø§...
2025-02-23 20:22:10,696 - pipeline.Step_5_generate_audio - INFO - Successfully generated audio file: output_0\commentary_nature.wav
2025-02-23 20:22:10,699 - new_bot - INFO - Generating final video...
2025-02-23 20:22:10,701 - __main__ - INFO - Status update: ğŸ¥ Creating final video...

85% â–°â–°â–°â–°â–°â–°â–°â–°â–°â–±
2025-02-23 20:22:10,776 - pipeline.Step_6_video_generation - INFO - FFmpeg verified successfully
2025-02-23 20:22:11,524 - pipeline.Step_6_video_generation - INFO - FFmpeg command: ffmpeg -y -i temp_0\video\video_20250223_202125.mp4 -i C:\Users\mrema\Downloads\Video-Commentary-Bot-0.1\framesAndLogo\Nature\naturelogo.png -i output_0\commentary_nature.wav -c:v libx264 -preset medium -crf 23 -c:a aac -b:a 192k -shortest -filter_complex [1:v]scale=120:-1[logo];[0:v][logo]overlay=x=W-w-20:y=H-h-20:alpha=0.85[v] -map [v] -map 2:a output_0\final_video_nature.mp4
2025-02-23 20:22:20,245 - pipeline.Step_6_video_generation - INFO - Video generated successfully: output_0\final_video_nature.mp4
2025-02-23 20:22:20,246 - __main__ - INFO - Status update: ğŸ“¤ Uploading enhanced video...

90% â–°â–°â–°â–°â–°â–°â–°â–°â–±â–±
2025-02-23 20:22:20,248 - __main__ - INFO - Handling video reply
2025-02-23 20:22:20,271 - __main__ - INFO - Status update: âœ… Processing complete!

100% â–°â–°â–°â–°â–°â–°â–°â–°â–°â–°
2025-02-23 20:22:20,385 - __main__ - INFO - Cleanup completed successfully
2025-02-23 20:30:28,196 - __main__ - INFO - Checking environment variables...
2025-02-23 20:30:28,216 - __main__ - INFO - âœ“ Found OPENAI_API_KEY in environment
2025-02-23 20:30:28,221 - __main__ - INFO - âœ“ Found DEEPSEEK_API_KEY in environment
2025-02-23 20:30:28,223 - __main__ - INFO - âœ“ Found GOOGLE_APPLICATION_CREDENTIALS_JSON in environment
2025-02-23 20:30:28,226 - __main__ - INFO - Attempting to parse Google credentials...
2025-02-23 20:30:28,228 - __main__ - WARNING - Direct JSON parsing failed: Invalid control character at: line 1 column 175 (char 174)
2025-02-23 20:30:28,236 - __main__ - INFO - âœ“ Google credentials configured successfully
2025-02-23 20:30:28,238 - __main__ - INFO - âœ“ Configuration loaded successfully
2025-02-23 20:30:30,016 - __main__ - INFO - Checking environment variables...
2025-02-23 20:30:30,020 - __main__ - INFO - âœ“ Found OPENAI_API_KEY in environment
2025-02-23 20:30:30,024 - __main__ - INFO - âœ“ Found DEEPSEEK_API_KEY in environment
2025-02-23 20:30:30,028 - __main__ - INFO - âœ“ Found GOOGLE_APPLICATION_CREDENTIALS_JSON in environment
2025-02-23 20:30:30,033 - __main__ - INFO - Attempting to parse Google credentials...
2025-02-23 20:30:30,037 - __main__ - WARNING - Direct JSON parsing failed: Invalid control character at: line 1 column 175 (char 174)
2025-02-23 20:30:30,043 - __main__ - INFO - âœ“ Google credentials configured successfully
2025-02-23 20:30:30,045 - __main__ - INFO - âœ“ Configuration loaded successfully
2025-02-23 20:30:31,550 - __main__ - INFO - Checking environment variables...
2025-02-23 20:30:31,551 - __main__ - INFO - âœ“ Found OPENAI_API_KEY in environment
2025-02-23 20:30:31,552 - __main__ - INFO - âœ“ Found DEEPSEEK_API_KEY in environment
2025-02-23 20:30:31,554 - __main__ - INFO - âœ“ Found GOOGLE_APPLICATION_CREDENTIALS_JSON in environment
2025-02-23 20:30:31,557 - __main__ - INFO - Attempting to parse Google credentials...
2025-02-23 20:30:31,558 - __main__ - WARNING - Direct JSON parsing failed: Invalid control character at: line 1 column 175 (char 174)
2025-02-23 20:30:31,563 - __main__ - INFO - âœ“ Google credentials configured successfully
2025-02-23 20:30:31,564 - __main__ - INFO - âœ“ Configuration loaded successfully
2025-02-23 20:30:31,582 - __main__ - INFO - Initializing StreamlitUpdate
2025-02-23 20:30:31,584 - __main__ - INFO - Initializing StreamlitContext
2025-02-23 20:30:31,592 - __main__ - INFO - Processing video URL: https://x.com/AMAZlNGNATURE/status/1886229103587602773
2025-02-23 20:30:31,594 - __main__ - INFO - Status update: ğŸ¬ Starting video processing...

0% â–±â–±â–±â–±â–±â–±â–±â–±â–±â–±
2025-02-23 20:30:31,598 - __main__ - INFO - Status update: ğŸ“¥ Downloading video...

10% â–°â–±â–±â–±â–±â–±â–±â–±â–±â–±
2025-02-23 20:30:31,600 - new_bot - INFO - Downloading video from: https://x.com/AMAZlNGNATURE/status/1886229103587602773
2025-02-23 20:30:31,601 - pipeline.Step_1_download_video - INFO - Downloading video from: https://twitter.com/AMAZlNGNATURE/status/1886229103587602773
2025-02-23 20:30:41,945 - pipeline.Step_1_download_video - INFO - Download completed
2025-02-23 20:30:41,947 - pipeline.Step_1_download_video - INFO - Downloaded file: temp_0\video\video_20250223_203032.mp4
2025-02-23 20:30:41,970 - new_bot - INFO - Starting video processing...
2025-02-23 20:30:41,971 - new_bot - INFO - Extracting frames...
2025-02-23 20:30:41,972 - __main__ - INFO - Status update: ğŸï¸ Extracting frames...

30% â–°â–°â–°â–±â–±â–±â–±â–±â–±â–±
2025-02-23 20:30:42,019 - pipeline.Step_2_extract_frames - INFO - Analyzing video for key frames...
2025-02-23 20:30:42,032 - pipeline.Step_2_extract_frames - INFO - Progress: 0.0%
2025-02-23 20:30:42,291 - pipeline.Step_2_extract_frames - INFO - Saved frame at 0.30s (scene_change=False, motion=2.43
2025-02-23 20:30:42,357 - pipeline.Step_2_extract_frames - INFO - Saved frame at 0.40s (scene_change=False, motion=2.41
2025-02-23 20:30:42,417 - pipeline.Step_2_extract_frames - INFO - Saved frame at 0.50s (scene_change=False, motion=2.24
2025-02-23 20:30:42,487 - pipeline.Step_2_extract_frames - INFO - Saved frame at 0.60s (scene_change=False, motion=2.09
2025-02-23 20:30:44,011 - pipeline.Step_2_extract_frames - INFO - Saved frame at 2.70s (scene_change=False, motion=2.23
2025-02-23 20:30:44,075 - pipeline.Step_2_extract_frames - INFO - Saved frame at 2.80s (scene_change=False, motion=2.09
2025-02-23 20:30:44,140 - pipeline.Step_2_extract_frames - INFO - Saved frame at 2.90s (scene_change=False, motion=2.17
2025-02-23 20:30:50,027 - pipeline.Step_2_extract_frames - INFO - Progress: 29.9%
2025-02-23 20:30:55,341 - pipeline.Step_2_extract_frames - INFO - Saved frame at 16.10s (scene_change=False, motion=2.09
2025-02-23 20:30:55,430 - pipeline.Step_2_extract_frames - INFO - Saved frame at 16.20s (scene_change=False, motion=2.42
2025-02-23 20:30:55,514 - pipeline.Step_2_extract_frames - INFO - Saved frame at 16.30s (scene_change=False, motion=2.80
2025-02-23 20:30:55,595 - pipeline.Step_2_extract_frames - INFO - Saved frame at 16.40s (scene_change=False, motion=3.02
2025-02-23 20:30:55,678 - pipeline.Step_2_extract_frames - INFO - Saved frame at 16.50s (scene_change=False, motion=3.00
2025-02-23 20:30:55,753 - pipeline.Step_2_extract_frames - INFO - Saved frame at 16.60s (scene_change=False, motion=2.77
2025-02-23 20:30:55,837 - pipeline.Step_2_extract_frames - INFO - Saved frame at 16.70s (scene_change=False, motion=2.67
2025-02-23 20:30:55,909 - pipeline.Step_2_extract_frames - INFO - Saved frame at 16.80s (scene_change=False, motion=2.49
2025-02-23 20:30:55,998 - pipeline.Step_2_extract_frames - INFO - Saved frame at 16.90s (scene_change=False, motion=2.08
2025-02-23 20:30:56,003 - pipeline.Step_2_extract_frames - INFO - Extracted 16 key frames
2025-02-23 20:30:56,004 - new_bot - INFO - Analyzing frames...
2025-02-23 20:30:56,004 - __main__ - INFO - Status update: ğŸ” Analyzing video content...

50% â–°â–°â–°â–°â–°â–±â–±â–±â–±â–±
2025-02-23 20:30:56,389 - pipeline.Step_3_analyze_frames - INFO - Selected 3 key frames for analysis
2025-02-23 20:31:07,227 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-23 20:31:12,242 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-23 20:31:18,796 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-23 20:31:18,803 - pipeline.Step_3_analyze_frames - INFO - Analysis complete. Results saved to output_0\final_analysis.json
2025-02-23 20:31:18,804 - new_bot - INFO - Generating commentary in ur...
2025-02-23 20:31:18,805 - __main__ - INFO - Status update: ğŸ’­ Generating commentary...

70% â–°â–°â–°â–°â–°â–°â–°â–±â–±â–±
2025-02-23 20:31:18,807 - pipeline.Step_4_generate_commentary - INFO - 
=== STARTING COMMENTARY GENERATION ===
2025-02-23 20:31:18,808 - pipeline.Step_4_generate_commentary - INFO - Content Type: funny
2025-02-23 20:31:18,808 - pipeline.Step_4_generate_commentary - INFO - Analysis File: output_0\final_analysis.json
2025-02-23 20:31:19,125 - pipeline.Step_4_generate_commentary - INFO - 
=== VIDEO TEXT FROM METADATA ===
2025-02-23 20:31:19,125 - pipeline.Step_4_generate_commentary - INFO - No text found in metadata
2025-02-23 20:31:19,126 - pipeline.Step_4_generate_commentary - INFO - 
=== SYSTEM PROMPT ===
2025-02-23 20:31:19,127 - pipeline.Step_4_generate_commentary - INFO - You are an entertaining commentator. Create humorous commentary that:
- Uses witty observations and jokes
- Maintains light and playful tone
- Includes appropriate humor
- Emphasizes amusing moments
- Keeps engagement through humor
2025-02-23 20:31:19,129 - pipeline.Step_4_generate_commentary - INFO - 
=== USER PROMPT ===
2025-02-23 20:31:19,130 - pipeline.Step_4_generate_commentary - INFO - Generate a VERY SHORT UR commentary (1-2 lines maximum) for this video in funny style.

VIDEO CONTENT:
Title: Nature is Amazing â˜˜ï¸ - The chicken has figured out how her feeder works Now closes it in time so the alpacas don't eat all the food.
Description: The chicken has figured out how her feeder works Now closes it in time so the alpacas don't eat all the food. https://t.co/GVBsJu9Lr9

VISUAL ANALYSIS:

Key visual elements (with confidence):
- Camelids (0.96)
- Alpaca (0.91)
- Llama (0.91)
- Terrestrial animal (0.89)
- Deer (0.82)
- Lawn (0.73)
- Livestock (0.71)

Detailed scene descriptions:
- 1. **Main Focus or Subject:**
   The primary focus of this frame is the interaction between a chicken and an alpaca in a natural setting. The frame captures them near a feeder, which is central to the video's narrative.

2. **Actions, Movements, or Interactions:**
   The chicken appears to be near the feeder, possibly engaged with it. According to the videoâ€™s context, the chicken has learned to operate the feeder to prevent the alpacas from consuming all the food. The alpaca is standing close by, potentially interested in accessing the feeder.

3. **Significant Details:**
   - The feeder is positioned close to the chicken, suggesting it is within its reach to operate.
   - The alpacaâ€™s posture implies attentiveness or expectancy, possibly waiting for the opportunity to eat.
   - The scene is set on grass with trees in the background, creating a typical farm or ranch setting that supports the narrative of livestock interaction.

4. **Connection to Overall Story:**
   This moment supports the videoâ€™s story by visually representing the dynamic between the chicken and alpacas regarding the feeder. The chicken's intelligence and behavior are underscored by its presence near the feeder, potentially about to demonstrate its capability to close it, aligning with the video description.

5. **Correcting Potential Misidentifications:**
   - The alpaca is correctly identified and is the primary animal seen in the frame. 
   - There is no visible evidence of deer in this
- 1. **Main Focus or Subject:**
   The main focus of the frame is on the interaction between a chicken and an alpaca. The frame captures a moment where a chicken seems to manipulate a feeder, which aligns with the video's context about the chicken's understanding of how to use the feeder to prevent the alpacas from consuming all the food.

2. **Actions, Movements, or Interactions:**
   The chicken is seen near or interacting with a feeder, possibly manipulating it. This indicates a behavior consistent with the video's narrative about the chicken cleverly controlling access to food. The alpaca, standing nearby, appears to be observing or waiting, suggesting a dynamic between the chicken guarding the food and the alpaca wanting access.

3. **Significant Details:**
   - The feeder is visibly positioned in such a way that it can be operated or blocked, emphasizing the chicken's intelligent behavior.
   - The alpaca's presence highlights the challenge faced by the chicken in safeguarding its meal.
   - The surrounding green grass and natural setting align with the theme of nature in the video title.

4. **Connection to the Overall Story:**
   This moment encapsulates the video's narrative of the chicken cleverly managing the feeder. It showcases the chicken as a problem-solver within its natural environment, keeping the alpacas at bay to manage food supply. This behavior supports the video's theme of animal intelligence and adaptation.

5. **Corrections to Potential Misidentifications:**
   - Despite previous dete


STRICT REQUIREMENTS:
1. MUST be 1-2 lines only - no exceptions
2. Focus on combining the video description with what is actually shown in the video
3. If there is text in the video, incorporate it naturally
4. Match the funny style while staying extremely brief
5. Make it engaging but concise
6. Format for ur
7. Ensure commentary reflects both visual content and video description
8. Correct any obvious errors in object detection (e.g., if a deer was labeled as a dog)
9. Use proper Urdu script and punctuation (Û”ØŒ ØŸ)
2025-02-23 20:31:19,150 - pipeline.Step_4_generate_commentary - INFO - 
=== GENERATING COMMENTARY ===
2025-02-23 20:31:21,519 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-23 20:31:21,528 - pipeline.Step_4_generate_commentary - INFO - 
=== RAW GENERATED COMMENTARY ===
2025-02-23 20:31:21,531 - pipeline.Step_4_generate_commentary - INFO - Ú†Ú©Ù† Ù†Û’ ØªÙˆ Ú©Ú¾Ø§Ù†Ø§ Ú†Ú¾Ù¾Ø§Ù†Û’ Ú©Ø§ Ø¬Ø§Ù„ Ø¨ÙÙ† Ù„ÛŒØ§! Ø§Ø¨ Ø§Ø³Û’ ØµØ±Ù ÛŒÛ Ø³Ú©Ú¾Ø§Ù†Ø§ Ø¨Ø§Ù‚ÛŒ ÛÛ’ Ú©Û "Ø¢Ù„Ù¾Ø§Ú©Ø§" Ú©ÛŒØ³Û’ Ú©ÛÙ†Ø§ ÛÛ’Û” ğŸ˜‚ğŸ”ğŸ¦™
2025-02-23 20:31:21,534 - pipeline.Step_4_generate_commentary - INFO - 
=== PROCESSED COMMENTARY ===
2025-02-23 20:31:21,537 - pipeline.Step_4_generate_commentary - INFO - Ú†Ú©Ù† Ù†Û’ ØªÙˆ Ú©Ú¾Ø§Ù†Ø§ Ú†Ú¾Ù¾Ø§Ù†Û’ Ú©Ø§ Ø¬Ø§Ù„ Ø¨ÙÙ† Ù„ÛŒØ§! Ø§Ø¨ Ø§Ø³Û’ ØµØ±Ù ÛŒÛ Ø³Ú©Ú¾Ø§Ù†Ø§ Ø¨Ø§Ù‚ÛŒ ÛÛ’ Ú©Û "Ø¢Ù„Ù¾Ø§Ú©Ø§" Ú©ÛŒØ³Û’ Ú©ÛÙ†Ø§ ÛÛ’Û”<break time="1s"/> ğŸ˜‚ğŸ”ğŸ¦™
2025-02-23 20:31:21,540 - pipeline.Step_4_generate_commentary - INFO - 
=== FINAL COMMENTARY OBJECT ===
2025-02-23 20:31:21,543 - pipeline.Step_4_generate_commentary - INFO - {
  "style": "funny",
  "commentary": "Ú†Ú©Ù† Ù†Û’ ØªÙˆ Ú©Ú¾Ø§Ù†Ø§ Ú†Ú¾Ù¾Ø§Ù†Û’ Ú©Ø§ Ø¬Ø§Ù„ Ø¨ÙÙ† Ù„ÛŒØ§! Ø§Ø¨ Ø§Ø³Û’ ØµØ±Ù ÛŒÛ Ø³Ú©Ú¾Ø§Ù†Ø§ Ø¨Ø§Ù‚ÛŒ ÛÛ’ Ú©Û \"Ø¢Ù„Ù¾Ø§Ú©Ø§\" Ú©ÛŒØ³Û’ Ú©ÛÙ†Ø§ ÛÛ’Û”<break time=\"1s\"/> ğŸ˜‚ğŸ”ğŸ¦™",
  "metadata": {
    "title": "Nature is Amazing â˜˜ï¸ - The chicken has figured out how her feeder works Now closes it in time so the alpacas don't eat all the food.",
    "duration": 33.43333333333333,
    "description": "The chicken has figured out how her feeder works Now closes it in time so the alpacas don't eat all the food. https://t.co/GVBsJu9Lr9",
    "uploader": "Nature is Amazing â˜˜ï¸",
    "view_count": null,
    "like_count": 141274,
    "upload_date": "20250203",
    "scene_changes": [],
    "motion_scores": [
      [
        "output_0\\frames\\frame_0.30s.jpg",
        2.4328114986419678
      ],
      [
        "output_0\\frames\\frame_0.40s.jpg",
        2.40671443939209
      ],
      [
        "output_0\\frames\\frame_0.50s.jpg",
        2.242037296295166
      ],
      [
        "output_0\\frames\\frame_0.60s.jpg",
        2.093170404434204
      ],
      [
        "output_0\\frames\\frame_2.70s.jpg",
        2.2306339740753174
      ],
      [
        "output_0\\frames\\frame_2.80s.jpg",
        2.085573196411133
      ],
      [
        "output_0\\frames\\frame_2.90s.jpg",
        2.167114019393921
      ],
      [
        "output_0\\frames\\frame_16.10s.jpg",
        2.091686248779297
      ],
      [
        "output_0\\frames\\frame_16.20s.jpg",
        2.42148494720459
      ],
      [
        "output_0\\frames\\frame_16.30s.jpg",
        2.7960448265075684
      ],
      [
        "output_0\\frames\\frame_16.40s.jpg",
        3.0180258750915527
      ],
      [
        "output_0\\frames\\frame_16.50s.jpg",
        3.00411319732666
      ],
      [
        "output_0\\frames\\frame_16.60s.jpg",
        2.7661421298980713
      ],
      [
        "output_0\\frames\\frame_16.70s.jpg",
        2.6690316200256348
      ],
      [
        "output_0\\frames\\frame_16.80s.jpg",
        2.4878687858581543
      ],
      [
        "output_0\\frames\\frame_16.90s.jpg",
        2.0821049213409424
      ]
    ],
    "language": "ur"
  },
  "language": "ur"
}
2025-02-23 20:31:21,574 - pipeline.Step_4_generate_commentary - INFO - 
=== PROCESSING FOR AUDIO ===
2025-02-23 20:31:21,575 - pipeline.Step_4_generate_commentary - INFO - Language: ur
2025-02-23 20:31:21,576 - pipeline.Step_4_generate_commentary - INFO - 
=== FINAL AUDIO SCRIPT ===
2025-02-23 20:31:21,576 - pipeline.Step_4_generate_commentary - INFO - Ú†Ú©Ù† Ù†Û’ ØªÙˆ Ú©Ú¾Ø§Ù†Ø§ Ú†Ú¾Ù¾Ø§Ù†Û’ Ú©Ø§ Ø¬Ø§Ù„ Ø¨ÙÙ† Ù„ÛŒØ§! Ø§Ø¨ Ø§Ø³Û’ ØµØ±Ù ÛŒÛ Ø³Ú©Ú¾Ø§Ù†Ø§ Ø¨Ø§Ù‚ÛŒ ÛÛ’ Ú©Û Ø¢Ù„Ù¾Ø§Ú©Ø§ Ú©ÛŒØ³Û’ Ú©ÛÙ†Ø§ ÛÛ’Û”<break time="1s"/>
2025-02-23 20:31:21,579 - new_bot - INFO - Generating audio in ur...
2025-02-23 20:31:21,579 - __main__ - INFO - Status update: ğŸ™ï¸ Synthesizing voice...

80% â–°â–°â–°â–°â–°â–°â–°â–°â–±â–±
2025-02-23 20:31:21,596 - pipeline.Step_5_generate_audio - INFO - Generating audio for text: Ú†Ú©Ù† Ù†Û’ ØªÙˆ Ú©Ú¾Ø§Ù†Ø§ Ú†Ú¾Ù¾Ø§Ù†Û’ Ú©Ø§ Ø¬Ø§Ù„ Ø¨ÙÙ† Ù„ÛŒØ§! Ø§Ø¨ Ø§Ø³Û’ ØµØ±Ù ÛŒÛ Ø³Ú©Ú¾Ø§Ù†Ø§ Ø¨Ø§Ù‚ÛŒ ÛÛ’ Ú©Û "Ø¢Ù„Ù¾Ø§Ú©Ø§" Ú©ÛŒØ³Û’ Ú©ÛÙ†Ø§ ÛÛ’Û”<break ...
2025-02-23 20:31:22,385 - pipeline.Step_5_generate_audio - INFO - Successfully generated audio file: output_0\commentary_funny.wav
2025-02-23 20:31:22,387 - new_bot - INFO - Generating final video...
2025-02-23 20:31:22,388 - __main__ - INFO - Status update: ğŸ¥ Creating final video...

85% â–°â–°â–°â–°â–°â–°â–°â–°â–°â–±
2025-02-23 20:31:22,451 - pipeline.Step_6_video_generation - INFO - FFmpeg verified successfully
2025-02-23 20:31:22,502 - pipeline.Step_6_video_generation - WARNING - Logo directory not found: C:\Users\mrema\Downloads\Video-Commentary-Bot-0.1\framesAndLogo\Funny
2025-02-23 20:31:22,502 - pipeline.Step_6_video_generation - INFO - FFmpeg command: ffmpeg -y -i temp_0\video\video_20250223_203032.mp4 -i output_0\commentary_funny.wav -c:v libx264 -preset medium -crf 23 -c:a aac -b:a 192k -shortest -filter_complex [0:v]pad=636:1130:0:385:white[padded] -map [padded] -map 2:a output_0\final_video_funny.mp4
2025-02-23 20:31:22,587 - pipeline.Step_6_video_generation - ERROR - Error generating video: Command '['ffmpeg', '-y', '-i', 'temp_0\\video\\video_20250223_203032.mp4', '-i', 'output_0\\commentary_funny.wav', '-c:v', 'libx264', '-preset', 'medium', '-crf', '23', '-c:a', 'aac', '-b:a', '192k', '-shortest', '-filter_complex', '[0:v]pad=636:1130:0:385:white[padded]', '-map', '[padded]', '-map', '2:a', 'output_0\\final_video_funny.mp4']' returned non-zero exit status 4294967274.
2025-02-23 20:31:22,594 - new_bot - ERROR - Error processing video file: Failed to generate final video
2025-02-23 20:31:22,594 - __main__ - INFO - Status update: âŒ Error processing video: Failed to generate final video
Please try again or contact support.
2025-02-23 20:31:22,698 - __main__ - INFO - Cleanup completed successfully
2025-02-23 20:33:23,794 - __main__ - INFO - Checking environment variables...
2025-02-23 20:33:23,795 - __main__ - INFO - âœ“ Found OPENAI_API_KEY in environment
2025-02-23 20:33:23,796 - __main__ - INFO - âœ“ Found DEEPSEEK_API_KEY in environment
2025-02-23 20:33:23,796 - __main__ - INFO - âœ“ Found GOOGLE_APPLICATION_CREDENTIALS_JSON in environment
2025-02-23 20:33:23,798 - __main__ - INFO - Attempting to parse Google credentials...
2025-02-23 20:33:23,799 - __main__ - WARNING - Direct JSON parsing failed: Invalid control character at: line 1 column 175 (char 174)
2025-02-23 20:33:23,800 - __main__ - INFO - âœ“ Google credentials configured successfully
2025-02-23 20:33:23,800 - __main__ - INFO - âœ“ Configuration loaded successfully
2025-02-23 20:33:23,806 - new_bot - INFO - Checking environment variables...
2025-02-23 20:33:23,807 - new_bot - INFO - âœ“ Found OPENAI_API_KEY in environment
2025-02-23 20:33:23,807 - new_bot - INFO - âœ“ Found DEEPSEEK_API_KEY in environment
2025-02-23 20:33:23,808 - new_bot - INFO - âœ“ Found GOOGLE_APPLICATION_CREDENTIALS_JSON in environment
2025-02-23 20:33:23,809 - new_bot - INFO - Attempting to parse Google credentials...
2025-02-23 20:33:23,809 - new_bot - WARNING - Direct JSON parsing failed: Invalid control character at: line 1 column 175 (char 174)
2025-02-23 20:33:23,811 - new_bot - INFO - âœ“ Google credentials configured successfully
2025-02-23 20:45:53,940 - __main__ - INFO - Checking environment variables...
2025-02-23 20:45:53,941 - __main__ - INFO - âœ“ Found OPENAI_API_KEY in environment
2025-02-23 20:45:53,941 - __main__ - INFO - âœ“ Found DEEPSEEK_API_KEY in environment
2025-02-23 20:45:53,943 - __main__ - INFO - âœ“ Found GOOGLE_APPLICATION_CREDENTIALS_JSON in environment
2025-02-23 20:45:53,943 - __main__ - INFO - Attempting to parse Google credentials...
2025-02-23 20:45:53,943 - __main__ - WARNING - Direct JSON parsing failed: Invalid control character at: line 1 column 175 (char 174)
2025-02-23 20:45:53,945 - __main__ - INFO - âœ“ Google credentials configured successfully
2025-02-23 20:45:53,945 - __main__ - INFO - âœ“ Configuration loaded successfully
2025-02-23 20:45:53,960 - __main__ - INFO - Initializing StreamlitUpdate
2025-02-23 20:45:53,962 - __main__ - INFO - Initializing StreamlitContext
2025-02-23 20:45:53,963 - __main__ - INFO - Processing video URL: https://x.com/AMAZlNGNATURE/status/1886229103587602773
2025-02-23 20:45:53,964 - __main__ - INFO - Status update: ğŸ¬ Starting video processing...

0% â–±â–±â–±â–±â–±â–±â–±â–±â–±â–±
2025-02-23 20:45:53,965 - __main__ - INFO - Status update: ğŸ“¥ Downloading video...

10% â–°â–±â–±â–±â–±â–±â–±â–±â–±â–±
2025-02-23 20:45:53,967 - new_bot - INFO - Downloading video from: https://x.com/AMAZlNGNATURE/status/1886229103587602773
2025-02-23 20:45:53,968 - pipeline.Step_1_download_video - INFO - Downloading video from: https://twitter.com/AMAZlNGNATURE/status/1886229103587602773
2025-02-23 20:46:03,470 - pipeline.Step_1_download_video - INFO - Download completed
2025-02-23 20:46:03,472 - pipeline.Step_1_download_video - INFO - Downloaded file: temp_0\video\video_20250223_204555.mp4
2025-02-23 20:46:03,503 - new_bot - INFO - Starting video processing...
2025-02-23 20:46:03,504 - new_bot - INFO - Extracting frames...
2025-02-23 20:46:03,505 - __main__ - INFO - Status update: ğŸï¸ Extracting frames...

30% â–°â–°â–°â–±â–±â–±â–±â–±â–±â–±
2025-02-23 20:46:03,604 - pipeline.Step_2_extract_frames - INFO - Analyzing video for key frames...
2025-02-23 20:46:03,629 - pipeline.Step_2_extract_frames - INFO - Progress: 0.0%
2025-02-23 20:46:04,224 - pipeline.Step_2_extract_frames - INFO - Saved frame at 0.30s (scene_change=False, motion=2.43
2025-02-23 20:46:04,370 - pipeline.Step_2_extract_frames - INFO - Saved frame at 0.40s (scene_change=False, motion=2.41
2025-02-23 20:46:04,515 - pipeline.Step_2_extract_frames - INFO - Saved frame at 0.50s (scene_change=False, motion=2.24
2025-02-23 20:46:04,662 - pipeline.Step_2_extract_frames - INFO - Saved frame at 0.60s (scene_change=False, motion=2.09
2025-02-23 20:46:07,913 - pipeline.Step_2_extract_frames - INFO - Saved frame at 2.70s (scene_change=False, motion=2.23
2025-02-23 20:46:08,058 - pipeline.Step_2_extract_frames - INFO - Saved frame at 2.80s (scene_change=False, motion=2.09
2025-02-23 20:46:08,199 - pipeline.Step_2_extract_frames - INFO - Saved frame at 2.90s (scene_change=False, motion=2.17
2025-02-23 20:46:18,924 - pipeline.Step_2_extract_frames - INFO - Progress: 29.9%
2025-02-23 20:46:28,264 - pipeline.Step_2_extract_frames - INFO - Saved frame at 16.10s (scene_change=False, motion=2.09
2025-02-23 20:46:28,406 - pipeline.Step_2_extract_frames - INFO - Saved frame at 16.20s (scene_change=False, motion=2.42
2025-02-23 20:46:28,551 - pipeline.Step_2_extract_frames - INFO - Saved frame at 16.30s (scene_change=False, motion=2.80
2025-02-23 20:46:28,695 - pipeline.Step_2_extract_frames - INFO - Saved frame at 16.40s (scene_change=False, motion=3.02
2025-02-23 20:46:28,839 - pipeline.Step_2_extract_frames - INFO - Saved frame at 16.50s (scene_change=False, motion=3.00
2025-02-23 20:46:28,991 - pipeline.Step_2_extract_frames - INFO - Saved frame at 16.60s (scene_change=False, motion=2.77
2025-02-23 20:46:29,141 - pipeline.Step_2_extract_frames - INFO - Saved frame at 16.70s (scene_change=False, motion=2.67
2025-02-23 20:46:29,283 - pipeline.Step_2_extract_frames - INFO - Saved frame at 16.80s (scene_change=False, motion=2.49
2025-02-23 20:46:29,425 - pipeline.Step_2_extract_frames - INFO - Saved frame at 16.90s (scene_change=False, motion=2.08
2025-02-23 20:46:29,431 - pipeline.Step_2_extract_frames - INFO - Extracted 16 key frames
2025-02-23 20:46:29,432 - new_bot - INFO - Analyzing frames...
2025-02-23 20:46:29,433 - __main__ - INFO - Status update: ğŸ” Analyzing video content...

50% â–°â–°â–°â–°â–°â–±â–±â–±â–±â–±
2025-02-23 20:46:30,192 - pipeline.Step_3_analyze_frames - INFO - Selected 3 key frames for analysis
2025-02-23 20:46:43,675 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-23 20:46:50,154 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-23 20:46:56,777 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-23 20:46:56,794 - pipeline.Step_3_analyze_frames - INFO - Analysis complete. Results saved to output_0\final_analysis.json
2025-02-23 20:46:56,798 - new_bot - INFO - Generating commentary in ur...
2025-02-23 20:46:56,800 - __main__ - INFO - Status update: ğŸ’­ Generating commentary...

70% â–°â–°â–°â–°â–°â–°â–°â–±â–±â–±
2025-02-23 20:46:56,805 - pipeline.Step_4_generate_commentary - INFO - 
=== STARTING COMMENTARY GENERATION ===
2025-02-23 20:46:56,808 - pipeline.Step_4_generate_commentary - INFO - Content Type: funny
2025-02-23 20:46:56,810 - pipeline.Step_4_generate_commentary - INFO - Analysis File: output_0\final_analysis.json
2025-02-23 20:46:57,597 - pipeline.Step_4_generate_commentary - INFO - 
=== VIDEO TEXT FROM METADATA ===
2025-02-23 20:46:57,598 - pipeline.Step_4_generate_commentary - INFO - No text found in metadata
2025-02-23 20:46:57,599 - pipeline.Step_4_generate_commentary - INFO - 
=== SYSTEM PROMPT ===
2025-02-23 20:46:57,599 - pipeline.Step_4_generate_commentary - INFO - You are an entertaining commentator. Create humorous commentary that:
- Uses witty observations and jokes
- Maintains light and playful tone
- Includes appropriate humor
- Emphasizes amusing moments
- Keeps engagement through humor
2025-02-23 20:46:57,601 - pipeline.Step_4_generate_commentary - INFO - 
=== USER PROMPT ===
2025-02-23 20:46:57,602 - pipeline.Step_4_generate_commentary - INFO - Generate a VERY SHORT UR commentary (1-2 lines maximum) for this video in funny style.

VIDEO CONTENT:
Title: Nature is Amazing â˜˜ï¸ - The chicken has figured out how her feeder works Now closes it in time so the alpacas don't eat all the food.
Description: The chicken has figured out how her feeder works Now closes it in time so the alpacas don't eat all the food. https://t.co/GVBsJu9Lr9

VISUAL ANALYSIS:

Key visual elements (with confidence):
- Camelids (0.96)
- Alpaca (0.91)
- Llama (0.91)
- Terrestrial animal (0.89)
- Deer (0.82)
- Lawn (0.73)
- Livestock (0.71)

Detailed scene descriptions:
- 1. **Main Focus/Subject:**
   The frame captures an interaction between a chicken and an alpaca near a feeder. The chicken is the main focus as it seemingly exhibits intelligent behavior by managing the feeder to prevent the alpaca from consuming its food, in line with the video's context described.

2. **Actions/Movements/Interactions:**
   The chicken appears to be close to a feeder, suggesting it may be in the process of using it or aware of its function. The alpaca is positioned nearby, likely indicating interest in accessing the food, which adds tension to the interaction. The chicken's action of potentially closing the feeder is central to the narrative.

3. **Significant Details:**
   The setting includes a grassy area and a containment structure where the feeder is placed. The presence of the alpaca aligns with the narrative of attempting to eat the chicken's food. The lush greenery suggests a natural environment, supporting the theme of "Nature is Amazing."

4. **Connection to Overall Story:**
   This moment highlights animal intelligence, with the chicken demonstrating problem-solving skills. The scene captures a key part of the story where the chicken's actions prevent the alpaca from depleting its food supply, emphasizing ingenuity in nature.

5. **Correction of Misidentifications:**
   Computer vision analysis correctly identified the alpaca. No deer appears in the frame. The identification of alpacas is accurate, confirming an alpaca instead of a llama or camelid. The detection
- 1. **Main Focus or Subject:**
   The main focus of this frame is the interaction between the chicken and the alpaca, centered around the feeder. The chicken's actions with the feeder are the critical element, reflecting its understanding of how to use it effectively.

2. **Actions and Interactions:**
   The chicken is positioned near the feeder, likely in the act of accessing or closing it. This implies that the chicken understands how to operate the feeder, potentially closing it to prevent the alpaca from eating the food. Meanwhile, the alpaca stands nearby, suggesting an interest in the feeder, possibly awaiting an opportunity to access the food.

3. **Significant Details:**
   The setting includes a grassy area with some fencing and a small structure. The positioning of the chicken by the feeder and the alert stance of the alpaca adds to the narrative of resourcefulness and competition over food resources.

4. **Connection to Overall Story:**
   This moment captures the essence of the video's story, where the chicken has learned to manage the feeder, likely to prevent other animals like the alpaca from consuming all the food. It showcases animal intelligence and interaction, aligning with the video's theme of nature being "amazing."

5. **Correction of Misidentifications:**
   While the chicken is the more central and active participant in this frame, previous analyses may have focused too heavily on larger animals like the alpaca. Here, the chicken's role is pivotal. Also, there are


STRICT REQUIREMENTS:
1. MUST be 1-2 lines only - no exceptions
2. Focus on combining the video description with what is actually shown in the video
3. If there is text in the video, incorporate it naturally
4. Match the funny style while staying extremely brief
5. Make it engaging but concise
6. Format for ur
7. Ensure commentary reflects both visual content and video description
8. Correct any obvious errors in object detection (e.g., if a deer was labeled as a dog)
9. Use proper Urdu script and punctuation (Û”ØŒ ØŸ)
2025-02-23 20:46:57,619 - pipeline.Step_4_generate_commentary - INFO - 
=== GENERATING COMMENTARY ===
2025-02-23 20:47:02,307 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-23 20:47:02,316 - pipeline.Step_4_generate_commentary - INFO - 
=== RAW GENERATED COMMENTARY ===
2025-02-23 20:47:02,319 - pipeline.Step_4_generate_commentary - INFO - Ú†Ú©Ù† Ù†Û’ Ø§Ù¾Ù†ÛŒ ÙÛŒÚˆØ± Ú©Û’ Ø³Ø§ØªÚ¾ Ú©Ú¾ÛŒÙ„Ù†Ø§ Ø³ÛŒÚ©Ú¾ Ù„ÛŒØ§ ÛÛ’ØŒ Ø§Ø¨ ÙˆÛ Ø§Ù„Ú¯ Ø³Û’ Ú©Ú¾Ø§Ù†Ø§ Ø¨Ù†Ø¯ Ú©Ø± Ú©Û’ Ø§Ù„ÙˆÙ¾ÛŒÚ©Ø§ Ú©Ùˆ Ø¨Ú¾ÙˆÚ©Ø§ Ú†Ú¾ÙˆÚ‘ Ø±ÛÛŒ ÛÛ’Û” Ú©ÛŒØ§ ÙˆÛ Ø§Ú¯Ù„Û’ Ø³ÛŒØ²Ù† Ù…ÛŒÚº "Ú†Ú©Ù† Ú©ÛŒ Ø¹Ù‚Ù„" Ø´Ùˆ Ù…ÛŒÚº Ø­ØµÛ Ù„Û’ Ú¯ÛŒØŸ ğŸ˜‚ğŸ”
2025-02-23 20:47:02,323 - pipeline.Step_4_generate_commentary - INFO - 
=== PROCESSED COMMENTARY ===
2025-02-23 20:47:02,325 - pipeline.Step_4_generate_commentary - INFO - Ú†Ú©Ù† Ù†Û’ Ø§Ù¾Ù†ÛŒ ÙÛŒÚˆØ± Ú©Û’ Ø³Ø§ØªÚ¾ Ú©Ú¾ÛŒÙ„Ù†Ø§ Ø³ÛŒÚ©Ú¾ Ù„ÛŒØ§ ÛÛ’ØŒ<break time="0.5s"/> Ø§Ø¨ ÙˆÛ Ø§Ù„Ú¯ Ø³Û’ Ú©Ú¾Ø§Ù†Ø§ Ø¨Ù†Ø¯ Ú©Ø± Ú©Û’ Ø§Ù„ÙˆÙ¾ÛŒÚ©Ø§ Ú©Ùˆ Ø¨Ú¾ÙˆÚ©Ø§ Ú†Ú¾ÙˆÚ‘ Ø±ÛÛŒ ÛÛ’Û”<break time="1s"/> Ú©ÛŒØ§ ÙˆÛ Ø§Ú¯Ù„Û’ Ø³ÛŒØ²Ù† Ù…ÛŒÚº "Ú†Ú©Ù† Ú©ÛŒ Ø¹Ù‚Ù„" Ø´Ùˆ Ù…ÛŒÚº Ø­ØµÛ Ù„Û’ Ú¯ÛŒØŸ ğŸ˜‚ğŸ”
2025-02-23 20:47:02,328 - pipeline.Step_4_generate_commentary - INFO - 
=== FINAL COMMENTARY OBJECT ===
2025-02-23 20:47:02,332 - pipeline.Step_4_generate_commentary - INFO - {
  "style": "funny",
  "commentary": "Ú†Ú©Ù† Ù†Û’ Ø§Ù¾Ù†ÛŒ ÙÛŒÚˆØ± Ú©Û’ Ø³Ø§ØªÚ¾ Ú©Ú¾ÛŒÙ„Ù†Ø§ Ø³ÛŒÚ©Ú¾ Ù„ÛŒØ§ ÛÛ’ØŒ<break time=\"0.5s\"/> Ø§Ø¨ ÙˆÛ Ø§Ù„Ú¯ Ø³Û’ Ú©Ú¾Ø§Ù†Ø§ Ø¨Ù†Ø¯ Ú©Ø± Ú©Û’ Ø§Ù„ÙˆÙ¾ÛŒÚ©Ø§ Ú©Ùˆ Ø¨Ú¾ÙˆÚ©Ø§ Ú†Ú¾ÙˆÚ‘ Ø±ÛÛŒ ÛÛ’Û”<break time=\"1s\"/> Ú©ÛŒØ§ ÙˆÛ Ø§Ú¯Ù„Û’ Ø³ÛŒØ²Ù† Ù…ÛŒÚº \"Ú†Ú©Ù† Ú©ÛŒ Ø¹Ù‚Ù„\" Ø´Ùˆ Ù…ÛŒÚº Ø­ØµÛ Ù„Û’ Ú¯ÛŒØŸ ğŸ˜‚ğŸ”",
  "metadata": {
    "title": "Nature is Amazing â˜˜ï¸ - The chicken has figured out how her feeder works Now closes it in time so the alpacas don't eat all the food.",
    "duration": 33.43333333333333,
    "description": "The chicken has figured out how her feeder works Now closes it in time so the alpacas don't eat all the food. https://t.co/GVBsJu9Lr9",
    "uploader": "Nature is Amazing â˜˜ï¸",
    "view_count": null,
    "like_count": 141277,
    "upload_date": "20250203",
    "scene_changes": [],
    "motion_scores": [
      [
        "output_0\\frames\\frame_0.30s.jpg",
        2.4328114986419678
      ],
      [
        "output_0\\frames\\frame_0.40s.jpg",
        2.40671443939209
      ],
      [
        "output_0\\frames\\frame_0.50s.jpg",
        2.242037296295166
      ],
      [
        "output_0\\frames\\frame_0.60s.jpg",
        2.093170404434204
      ],
      [
        "output_0\\frames\\frame_2.70s.jpg",
        2.2306339740753174
      ],
      [
        "output_0\\frames\\frame_2.80s.jpg",
        2.085573196411133
      ],
      [
        "output_0\\frames\\frame_2.90s.jpg",
        2.167114019393921
      ],
      [
        "output_0\\frames\\frame_16.10s.jpg",
        2.091686248779297
      ],
      [
        "output_0\\frames\\frame_16.20s.jpg",
        2.42148494720459
      ],
      [
        "output_0\\frames\\frame_16.30s.jpg",
        2.7960448265075684
      ],
      [
        "output_0\\frames\\frame_16.40s.jpg",
        3.0180258750915527
      ],
      [
        "output_0\\frames\\frame_16.50s.jpg",
        3.00411319732666
      ],
      [
        "output_0\\frames\\frame_16.60s.jpg",
        2.7661421298980713
      ],
      [
        "output_0\\frames\\frame_16.70s.jpg",
        2.6690316200256348
      ],
      [
        "output_0\\frames\\frame_16.80s.jpg",
        2.4878687858581543
      ],
      [
        "output_0\\frames\\frame_16.90s.jpg",
        2.0821049213409424
      ]
    ],
    "language": "ur"
  },
  "language": "ur"
}
2025-02-23 20:47:02,368 - pipeline.Step_4_generate_commentary - INFO - 
=== PROCESSING FOR AUDIO ===
2025-02-23 20:47:02,369 - pipeline.Step_4_generate_commentary - INFO - Language: ur
2025-02-23 20:47:02,370 - pipeline.Step_4_generate_commentary - INFO - 
=== FINAL AUDIO SCRIPT ===
2025-02-23 20:47:02,370 - pipeline.Step_4_generate_commentary - INFO - Ú†Ú©Ù† Ù†Û’ Ø§Ù¾Ù†ÛŒ ÙÛŒÚˆØ± Ú©Û’ Ø³Ø§ØªÚ¾ Ú©Ú¾ÛŒÙ„Ù†Ø§ Ø³ÛŒÚ©Ú¾ Ù„ÛŒØ§ ÛÛ’ØŒ<break time="0.5s"/> Ø§Ø¨ ÙˆÛ Ø§Ù„Ú¯ Ø³Û’ Ú©Ú¾Ø§Ù†Ø§ Ø¨Ù†Ø¯ Ú©Ø± Ú©Û’ Ø§Ù„ÙˆÙ¾ÛŒÚ©Ø§ Ú©Ùˆ Ø¨Ú¾ÙˆÚ©Ø§ Ú†Ú¾ÙˆÚ‘ Ø±ÛÛŒ ÛÛ’Û”<break time="1s"/> Ú©ÛŒØ§ ÙˆÛ Ø§Ú¯Ù„Û’ Ø³ÛŒØ²Ù† Ù…ÛŒÚº Ú†Ú©Ù† Ú©ÛŒ Ø¹Ù‚Ù„ Ø´Ùˆ Ù…ÛŒÚº Ø­ØµÛ Ù„Û’ Ú¯ÛŒØŸ<break time="0.8s"/>
2025-02-23 20:47:02,374 - new_bot - INFO - Generating audio in ur...
2025-02-23 20:47:02,375 - __main__ - INFO - Status update: ğŸ™ï¸ Synthesizing voice...

80% â–°â–°â–°â–°â–°â–°â–°â–°â–±â–±
2025-02-23 20:47:02,396 - pipeline.Step_5_generate_audio - INFO - Generating audio for text: Ú†Ú©Ù† Ù†Û’ Ø§Ù¾Ù†ÛŒ ÙÛŒÚˆØ± Ú©Û’ Ø³Ø§ØªÚ¾ Ú©Ú¾ÛŒÙ„Ù†Ø§ Ø³ÛŒÚ©Ú¾ Ù„ÛŒØ§ ÛÛ’ØŒ<break time="0.5s"/> Ø§Ø¨ ÙˆÛ Ø§Ù„Ú¯ Ø³Û’ Ú©Ú¾Ø§Ù†Ø§ Ø¨Ù†Ø¯ Ú©Ø± Ú©Û’ Ø§Ù„ÙˆÙ¾ÛŒÚ©...
2025-02-23 20:47:04,735 - pipeline.Step_5_generate_audio - INFO - Successfully generated audio file: output_0\commentary_funny.wav
2025-02-23 20:47:04,736 - new_bot - INFO - Generating final video...
2025-02-23 20:47:04,738 - __main__ - INFO - Status update: ğŸ¥ Creating final video...

85% â–°â–°â–°â–°â–°â–°â–°â–°â–°â–±
2025-02-23 20:47:04,782 - pipeline.Step_6_video_generation - INFO - FFmpeg verified successfully
2025-02-23 20:47:04,826 - pipeline.Step_6_video_generation - WARNING - No logo found for style funny
2025-02-23 20:47:04,826 - pipeline.Step_6_video_generation - INFO - FFmpeg command: ffmpeg -y -i temp_0\video\video_20250223_204555.mp4 -i output_0\commentary_funny.wav -c:v libx264 -preset medium -crf 23 -c:a aac -b:a 192k -shortest -filter_complex [0:v]pad=636:1130:0:385:white[padded] -map [padded] -map 2:a output_0\final_video_funny.mp4
2025-02-23 20:47:04,897 - pipeline.Step_6_video_generation - ERROR - Error generating video: Command '['ffmpeg', '-y', '-i', 'temp_0\\video\\video_20250223_204555.mp4', '-i', 'output_0\\commentary_funny.wav', '-c:v', 'libx264', '-preset', 'medium', '-crf', '23', '-c:a', 'aac', '-b:a', '192k', '-shortest', '-filter_complex', '[0:v]pad=636:1130:0:385:white[padded]', '-map', '[padded]', '-map', '2:a', 'output_0\\final_video_funny.mp4']' returned non-zero exit status 4294967274.
2025-02-23 20:47:04,908 - new_bot - ERROR - Error processing video file: Failed to generate final video
2025-02-23 20:47:04,909 - __main__ - INFO - Status update: âŒ Error processing video: Failed to generate final video
Please try again or contact support.
2025-02-23 20:47:05,045 - __main__ - INFO - Cleanup completed successfully
2025-02-23 20:54:36,145 - __main__ - INFO - Checking environment variables...
2025-02-23 20:54:36,147 - __main__ - INFO - âœ“ Found OPENAI_API_KEY in environment
2025-02-23 20:54:36,148 - __main__ - INFO - âœ“ Found DEEPSEEK_API_KEY in environment
2025-02-23 20:54:36,149 - __main__ - INFO - âœ“ Found GOOGLE_APPLICATION_CREDENTIALS_JSON in environment
2025-02-23 20:54:36,150 - __main__ - INFO - Attempting to parse Google credentials...
2025-02-23 20:54:36,151 - __main__ - WARNING - Direct JSON parsing failed: Invalid control character at: line 1 column 175 (char 174)
2025-02-23 20:54:36,158 - __main__ - INFO - âœ“ Google credentials configured successfully
2025-02-23 20:54:36,159 - __main__ - INFO - âœ“ Configuration loaded successfully
2025-02-23 20:54:38,251 - __main__ - INFO - Checking environment variables...
2025-02-23 20:54:38,252 - __main__ - INFO - âœ“ Found OPENAI_API_KEY in environment
2025-02-23 20:54:38,253 - __main__ - INFO - âœ“ Found DEEPSEEK_API_KEY in environment
2025-02-23 20:54:38,253 - __main__ - INFO - âœ“ Found GOOGLE_APPLICATION_CREDENTIALS_JSON in environment
2025-02-23 20:54:38,255 - __main__ - INFO - Attempting to parse Google credentials...
2025-02-23 20:54:38,255 - __main__ - WARNING - Direct JSON parsing failed: Invalid control character at: line 1 column 175 (char 174)
2025-02-23 20:54:38,257 - __main__ - INFO - âœ“ Google credentials configured successfully
2025-02-23 20:54:38,257 - __main__ - INFO - âœ“ Configuration loaded successfully
2025-02-23 20:54:41,162 - __main__ - INFO - Checking environment variables...
2025-02-23 20:54:41,166 - __main__ - INFO - âœ“ Found OPENAI_API_KEY in environment
2025-02-23 20:54:41,168 - __main__ - INFO - âœ“ Found DEEPSEEK_API_KEY in environment
2025-02-23 20:54:41,172 - __main__ - INFO - âœ“ Found GOOGLE_APPLICATION_CREDENTIALS_JSON in environment
2025-02-23 20:54:41,175 - __main__ - INFO - Attempting to parse Google credentials...
2025-02-23 20:54:41,178 - __main__ - WARNING - Direct JSON parsing failed: Invalid control character at: line 1 column 175 (char 174)
2025-02-23 20:54:41,188 - __main__ - INFO - âœ“ Google credentials configured successfully
2025-02-23 20:54:41,190 - __main__ - INFO - âœ“ Configuration loaded successfully
2025-02-23 20:54:45,085 - __main__ - INFO - Checking environment variables...
2025-02-23 20:54:45,086 - __main__ - INFO - âœ“ Found OPENAI_API_KEY in environment
2025-02-23 20:54:45,086 - __main__ - INFO - âœ“ Found DEEPSEEK_API_KEY in environment
2025-02-23 20:54:45,088 - __main__ - INFO - âœ“ Found GOOGLE_APPLICATION_CREDENTIALS_JSON in environment
2025-02-23 20:54:45,088 - __main__ - INFO - Attempting to parse Google credentials...
2025-02-23 20:54:45,089 - __main__ - WARNING - Direct JSON parsing failed: Invalid control character at: line 1 column 175 (char 174)
2025-02-23 20:54:45,091 - __main__ - INFO - âœ“ Google credentials configured successfully
2025-02-23 20:54:45,092 - __main__ - INFO - âœ“ Configuration loaded successfully
2025-02-23 20:54:46,219 - __main__ - INFO - Checking environment variables...
2025-02-23 20:54:46,222 - __main__ - INFO - âœ“ Found OPENAI_API_KEY in environment
2025-02-23 20:54:46,224 - __main__ - INFO - âœ“ Found DEEPSEEK_API_KEY in environment
2025-02-23 20:54:46,226 - __main__ - INFO - âœ“ Found GOOGLE_APPLICATION_CREDENTIALS_JSON in environment
2025-02-23 20:54:46,228 - __main__ - INFO - Attempting to parse Google credentials...
2025-02-23 20:54:46,229 - __main__ - WARNING - Direct JSON parsing failed: Invalid control character at: line 1 column 175 (char 174)
2025-02-23 20:54:46,236 - __main__ - INFO - âœ“ Google credentials configured successfully
2025-02-23 20:54:46,238 - __main__ - INFO - âœ“ Configuration loaded successfully
2025-02-23 20:54:46,279 - __main__ - INFO - Initializing StreamlitUpdate
2025-02-23 20:54:46,288 - __main__ - INFO - Initializing StreamlitContext
2025-02-23 20:54:46,293 - __main__ - INFO - Processing video URL: https://x.com/AMAZlNGNATURE/status/1886229103587602773
2025-02-23 20:54:46,296 - __main__ - INFO - Status update: ğŸ¬ Starting video processing...

0% â–±â–±â–±â–±â–±â–±â–±â–±â–±â–±
2025-02-23 20:54:46,302 - __main__ - INFO - Status update: ğŸ“¥ Downloading video...

10% â–°â–±â–±â–±â–±â–±â–±â–±â–±â–±
2025-02-23 20:54:46,307 - new_bot - INFO - Downloading video from: https://x.com/AMAZlNGNATURE/status/1886229103587602773
2025-02-23 20:54:46,312 - pipeline.Step_1_download_video - INFO - Downloading video from: https://twitter.com/AMAZlNGNATURE/status/1886229103587602773
2025-02-23 20:54:55,425 - pipeline.Step_1_download_video - INFO - Download completed
2025-02-23 20:54:55,426 - pipeline.Step_1_download_video - INFO - Downloaded file: temp_0\video\video_20250223_205448.mp4
2025-02-23 20:54:55,458 - new_bot - INFO - Starting video processing...
2025-02-23 20:54:55,459 - new_bot - INFO - Extracting frames...
2025-02-23 20:54:55,459 - __main__ - INFO - Status update: ğŸï¸ Extracting frames...

30% â–°â–°â–°â–±â–±â–±â–±â–±â–±â–±
2025-02-23 20:54:55,502 - pipeline.Step_2_extract_frames - INFO - Analyzing video for key frames...
2025-02-23 20:54:55,525 - pipeline.Step_2_extract_frames - INFO - Progress: 0.0%
2025-02-23 20:54:56,108 - pipeline.Step_2_extract_frames - INFO - Saved frame at 0.30s (scene_change=False, motion=2.43
2025-02-23 20:54:56,254 - pipeline.Step_2_extract_frames - INFO - Saved frame at 0.40s (scene_change=False, motion=2.41
2025-02-23 20:54:56,399 - pipeline.Step_2_extract_frames - INFO - Saved frame at 0.50s (scene_change=False, motion=2.24
2025-02-23 20:54:56,553 - pipeline.Step_2_extract_frames - INFO - Saved frame at 0.60s (scene_change=False, motion=2.09
2025-02-23 20:54:59,835 - pipeline.Step_2_extract_frames - INFO - Saved frame at 2.70s (scene_change=False, motion=2.23
2025-02-23 20:54:59,986 - pipeline.Step_2_extract_frames - INFO - Saved frame at 2.80s (scene_change=False, motion=2.09
2025-02-23 20:55:00,163 - pipeline.Step_2_extract_frames - INFO - Saved frame at 2.90s (scene_change=False, motion=2.17
2025-02-23 20:55:10,858 - pipeline.Step_2_extract_frames - INFO - Progress: 29.9%
2025-02-23 20:55:20,230 - pipeline.Step_2_extract_frames - INFO - Saved frame at 16.10s (scene_change=False, motion=2.09
2025-02-23 20:55:20,375 - pipeline.Step_2_extract_frames - INFO - Saved frame at 16.20s (scene_change=False, motion=2.42
2025-02-23 20:55:20,520 - pipeline.Step_2_extract_frames - INFO - Saved frame at 16.30s (scene_change=False, motion=2.80
2025-02-23 20:55:20,662 - pipeline.Step_2_extract_frames - INFO - Saved frame at 16.40s (scene_change=False, motion=3.02
2025-02-23 20:55:20,807 - pipeline.Step_2_extract_frames - INFO - Saved frame at 16.50s (scene_change=False, motion=3.00
2025-02-23 20:55:20,949 - pipeline.Step_2_extract_frames - INFO - Saved frame at 16.60s (scene_change=False, motion=2.77
2025-02-23 20:55:21,102 - pipeline.Step_2_extract_frames - INFO - Saved frame at 16.70s (scene_change=False, motion=2.67
2025-02-23 20:55:21,246 - pipeline.Step_2_extract_frames - INFO - Saved frame at 16.80s (scene_change=False, motion=2.49
2025-02-23 20:55:21,388 - pipeline.Step_2_extract_frames - INFO - Saved frame at 16.90s (scene_change=False, motion=2.08
2025-02-23 20:55:21,394 - pipeline.Step_2_extract_frames - INFO - Extracted 16 key frames
2025-02-23 20:55:21,396 - new_bot - INFO - Analyzing frames...
2025-02-23 20:55:21,397 - __main__ - INFO - Status update: ğŸ” Analyzing video content...

50% â–°â–°â–°â–°â–°â–±â–±â–±â–±â–±
2025-02-23 20:55:22,152 - pipeline.Step_3_analyze_frames - INFO - Selected 3 key frames for analysis
2025-02-23 20:55:31,680 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-23 20:55:37,681 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-23 20:55:42,904 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-23 20:55:42,923 - pipeline.Step_3_analyze_frames - INFO - Analysis complete. Results saved to output_0\final_analysis.json
2025-02-23 20:55:42,927 - new_bot - INFO - Generating commentary in ur...
2025-02-23 20:55:42,929 - __main__ - INFO - Status update: ğŸ’­ Generating commentary...

70% â–°â–°â–°â–°â–°â–°â–°â–±â–±â–±
2025-02-23 20:55:42,931 - pipeline.Step_4_generate_commentary - INFO - 
=== STARTING COMMENTARY GENERATION ===
2025-02-23 20:55:42,933 - pipeline.Step_4_generate_commentary - INFO - Content Type: funny
2025-02-23 20:55:42,934 - pipeline.Step_4_generate_commentary - INFO - Analysis File: output_0\final_analysis.json
2025-02-23 20:55:43,691 - pipeline.Step_4_generate_commentary - INFO - 
=== VIDEO TEXT FROM METADATA ===
2025-02-23 20:55:43,692 - pipeline.Step_4_generate_commentary - INFO - No text found in metadata
2025-02-23 20:55:43,692 - pipeline.Step_4_generate_commentary - INFO - 
=== SYSTEM PROMPT ===
2025-02-23 20:55:43,693 - pipeline.Step_4_generate_commentary - INFO - You are an entertaining commentator. Create humorous commentary that:
- Uses witty observations and jokes
- Maintains light and playful tone
- Includes appropriate humor
- Emphasizes amusing moments
- Keeps engagement through humor
2025-02-23 20:55:43,695 - pipeline.Step_4_generate_commentary - INFO - 
=== USER PROMPT ===
2025-02-23 20:55:43,696 - pipeline.Step_4_generate_commentary - INFO - Generate a VERY SHORT UR commentary (1-2 lines maximum) for this video in funny style.

VIDEO CONTENT:
Title: Nature is Amazing â˜˜ï¸ - The chicken has figured out how her feeder works Now closes it in time so the alpacas don't eat all the food.
Description: The chicken has figured out how her feeder works Now closes it in time so the alpacas don't eat all the food. https://t.co/GVBsJu9Lr9

VISUAL ANALYSIS:

Key visual elements (with confidence):
- Camelids (0.96)
- Alpaca (0.91)
- Llama (0.91)
- Terrestrial animal (0.89)
- Deer (0.82)
- Lawn (0.73)
- Livestock (0.71)

Detailed scene descriptions:
- 1. **Main Focus or Subject:**
   The main focus of the frame is on the interaction between the chicken and the alpaca. The chicken is near the feeder, which implies its role in controlling access to the food. The presence of the alpaca highlights the context of preventing it from consuming the chickenâ€™s feed.

2. **Actions, Movements, or Interactions:**
   The chicken is positioned near the feeder, suggesting it might be in the act of manipulating it. The alpaca stands close by, indicating its interest in the food and possibly waiting for an opportunity to eat.

3. **Significant Details:**
   - The chickenâ€™s proximity to the feeder implies it has learned how to operate it, aligning with the narrative of the chicken controlling food access.
   - The alpaca's attentive posture suggests it recognizes the feeding opportunity, which the chicken is managing.

4. **Connection to Overall Story:**
   This moment captures the cleverness of the chicken in managing its food resources, a key element of the video's narrative. The described action of closing the feeder is emblematic of the chickenâ€™s ingenuity in protecting its food from the alpaca.

5. **Correcting Potential Misidentifications:**
   The presence of an alpaca is correctly noted; however, if other similar animals like llamas were mentioned, the visual indicates this is indeed an alpaca due to its size and woolly coat.

6. **Attention to Animal Distinction:**
   Distingu
- 1. **Main Focus or Subject**: The main focus of the frame is the interaction between the chicken and the nearby alpaca. The chicken is near a feeder, which, according to the videoâ€™s context, it has learned to operate in order to protect its food from the alpacas.

2. **Actions, Movements, or Interactions**: The frame captures a chicken at the feeder and an alpaca looking towards it. The action, based on the context, involves the chicken possibly manipulating the feeder mechanism. The alpacaâ€™s presence indicates its interest in the food.

3. **Significant Details**: Notable details include the contrast between the chickenâ€™s small size and the larger alpaca, emphasizing the chicken's cleverness in managing its resources. The positioning near the feeder highlights the narrative of the chicken using its understanding to close the feeder.

4. **Connection to the Videoâ€™s Story**: This moment illustrates the clever behavior of the chicken as described in the video title and description. The presence of the alpaca reinforces the narrative of the chickenâ€™s strategic action to prevent the alpaca from accessing the food.

5. **Potential Misidentifications**: The computer vision analysis suggested the presence of multiple similar animals. In this case, the animal is most accurately identified as an alpaca, not a camelid, llama, or deer, given the animal's features and the context.

6. **Distinguishing Features**: The alpaca is distinguished by its woolly


STRICT REQUIREMENTS:
1. MUST be 1-2 lines only - no exceptions
2. Focus on combining the video description with what is actually shown in the video
3. If there is text in the video, incorporate it naturally
4. Match the funny style while staying extremely brief
5. Make it engaging but concise
6. Format for ur
7. Ensure commentary reflects both visual content and video description
8. Correct any obvious errors in object detection (e.g., if a deer was labeled as a dog)
9. Use proper Urdu script and punctuation (Û”ØŒ ØŸ)
2025-02-23 20:55:43,711 - pipeline.Step_4_generate_commentary - INFO - 
=== GENERATING COMMENTARY ===
2025-02-23 20:55:44,807 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-23 20:55:44,816 - pipeline.Step_4_generate_commentary - INFO - 
=== RAW GENERATED COMMENTARY ===
2025-02-23 20:55:44,818 - pipeline.Step_4_generate_commentary - INFO - Ú†Ú©Ù† Ù†Û’ Ú©Ú¾Ø§Ù†Û’ Ú©ÛŒ Ø¢Ú‘ Ù…ÛŒÚº Ø§Ù„Ú¯Ø§Ù¾Ø§ Ú©Ùˆ Ú†Ú©Ù…Ø§ Ø¯ÛŒØ§! Ú©ÛŒØ§ ÛŒÛ Ø³Ú† Ù…ÛŒÚº "Ú†Ú©Ù† Ú©ÛŒ Ú†Ø§Ù„Ø§Ú©ÛŒ" ÛÛ’ ÛŒØ§ "Ù¾Ú¾Ù„ÙˆÚº Ú©Ø§ ÙÙ†"ØŸ ğŸ˜‚ğŸ¥³
2025-02-23 20:55:44,821 - pipeline.Step_4_generate_commentary - INFO - 
=== PROCESSED COMMENTARY ===
2025-02-23 20:55:44,823 - pipeline.Step_4_generate_commentary - INFO - Ú†Ú©Ù† Ù†Û’ Ú©Ú¾Ø§Ù†Û’ Ú©ÛŒ Ø¢Ú‘ Ù…ÛŒÚº Ø§Ù„Ú¯Ø§Ù¾Ø§ Ú©Ùˆ Ú†Ú©Ù…Ø§ Ø¯ÛŒØ§! Ú©ÛŒØ§ ÛŒÛ Ø³Ú† Ù…ÛŒÚº "Ú†Ú©Ù† Ú©ÛŒ Ú†Ø§Ù„Ø§Ú©ÛŒ" ÛÛ’ ÛŒØ§ "Ù¾Ú¾Ù„ÙˆÚº Ú©Ø§ ÙÙ†"ØŸ ğŸ˜‚ğŸ¥³
2025-02-23 20:55:44,826 - pipeline.Step_4_generate_commentary - INFO - 
=== FINAL COMMENTARY OBJECT ===
2025-02-23 20:55:44,827 - pipeline.Step_4_generate_commentary - INFO - {
  "style": "funny",
  "commentary": "Ú†Ú©Ù† Ù†Û’ Ú©Ú¾Ø§Ù†Û’ Ú©ÛŒ Ø¢Ú‘ Ù…ÛŒÚº Ø§Ù„Ú¯Ø§Ù¾Ø§ Ú©Ùˆ Ú†Ú©Ù…Ø§ Ø¯ÛŒØ§! Ú©ÛŒØ§ ÛŒÛ Ø³Ú† Ù…ÛŒÚº \"Ú†Ú©Ù† Ú©ÛŒ Ú†Ø§Ù„Ø§Ú©ÛŒ\" ÛÛ’ ÛŒØ§ \"Ù¾Ú¾Ù„ÙˆÚº Ú©Ø§ ÙÙ†\"ØŸ ğŸ˜‚ğŸ¥³",
  "metadata": {
    "title": "Nature is Amazing â˜˜ï¸ - The chicken has figured out how her feeder works Now closes it in time so the alpacas don't eat all the food.",
    "duration": 33.43333333333333,
    "description": "The chicken has figured out how her feeder works Now closes it in time so the alpacas don't eat all the food. https://t.co/GVBsJu9Lr9",
    "uploader": "Nature is Amazing â˜˜ï¸",
    "view_count": null,
    "like_count": 141277,
    "upload_date": "20250203",
    "scene_changes": [],
    "motion_scores": [
      [
        "output_0\\frames\\frame_0.30s.jpg",
        2.4328114986419678
      ],
      [
        "output_0\\frames\\frame_0.40s.jpg",
        2.40671443939209
      ],
      [
        "output_0\\frames\\frame_0.50s.jpg",
        2.242037296295166
      ],
      [
        "output_0\\frames\\frame_0.60s.jpg",
        2.093170404434204
      ],
      [
        "output_0\\frames\\frame_2.70s.jpg",
        2.2306339740753174
      ],
      [
        "output_0\\frames\\frame_2.80s.jpg",
        2.085573196411133
      ],
      [
        "output_0\\frames\\frame_2.90s.jpg",
        2.167114019393921
      ],
      [
        "output_0\\frames\\frame_16.10s.jpg",
        2.091686248779297
      ],
      [
        "output_0\\frames\\frame_16.20s.jpg",
        2.42148494720459
      ],
      [
        "output_0\\frames\\frame_16.30s.jpg",
        2.7960448265075684
      ],
      [
        "output_0\\frames\\frame_16.40s.jpg",
        3.0180258750915527
      ],
      [
        "output_0\\frames\\frame_16.50s.jpg",
        3.00411319732666
      ],
      [
        "output_0\\frames\\frame_16.60s.jpg",
        2.7661421298980713
      ],
      [
        "output_0\\frames\\frame_16.70s.jpg",
        2.6690316200256348
      ],
      [
        "output_0\\frames\\frame_16.80s.jpg",
        2.4878687858581543
      ],
      [
        "output_0\\frames\\frame_16.90s.jpg",
        2.0821049213409424
      ]
    ],
    "language": "ur"
  },
  "language": "ur"
}
2025-02-23 20:55:44,857 - pipeline.Step_4_generate_commentary - INFO - 
=== PROCESSING FOR AUDIO ===
2025-02-23 20:55:44,858 - pipeline.Step_4_generate_commentary - INFO - Language: ur
2025-02-23 20:55:44,860 - pipeline.Step_4_generate_commentary - INFO - 
=== FINAL AUDIO SCRIPT ===
2025-02-23 20:55:44,861 - pipeline.Step_4_generate_commentary - INFO - Ú†Ú©Ù† Ù†Û’ Ú©Ú¾Ø§Ù†Û’ Ú©ÛŒ Ø¢Ú‘ Ù…ÛŒÚº Ø§Ù„Ú¯Ø§Ù¾Ø§ Ú©Ùˆ Ú†Ú©Ù…Ø§ Ø¯ÛŒØ§! Ú©ÛŒØ§ ÛŒÛ Ø³Ú† Ù…ÛŒÚº Ú†Ú©Ù† Ú©ÛŒ Ú†Ø§Ù„Ø§Ú©ÛŒ ÛÛ’ ÛŒØ§ Ù¾Ú¾Ù„ÙˆÚº Ú©Ø§ ÙÙ†ØŸ<break time="0.8s"/>
2025-02-23 20:55:44,864 - new_bot - INFO - Generating audio in ur...
2025-02-23 20:55:44,865 - __main__ - INFO - Status update: ğŸ™ï¸ Synthesizing voice...

80% â–°â–°â–°â–°â–°â–°â–°â–°â–±â–±
2025-02-23 20:55:44,880 - pipeline.Step_5_generate_audio - INFO - Generating audio for text: Ú†Ú©Ù† Ù†Û’ Ú©Ú¾Ø§Ù†Û’ Ú©ÛŒ Ø¢Ú‘ Ù…ÛŒÚº Ø§Ù„Ú¯Ø§Ù¾Ø§ Ú©Ùˆ Ú†Ú©Ù…Ø§ Ø¯ÛŒØ§! Ú©ÛŒØ§ ÛŒÛ Ø³Ú† Ù…ÛŒÚº "Ú†Ú©Ù† Ú©ÛŒ Ú†Ø§Ù„Ø§Ú©ÛŒ" ÛÛ’ ÛŒØ§ "Ù¾Ú¾Ù„ÙˆÚº Ú©Ø§ ÙÙ†"ØŸ ğŸ˜‚ğŸ¥³...
2025-02-23 20:55:45,533 - pipeline.Step_5_generate_audio - INFO - Successfully generated audio file: output_0\commentary_funny.wav
2025-02-23 20:55:45,535 - new_bot - INFO - Generating final video...
2025-02-23 20:55:45,536 - __main__ - INFO - Status update: ğŸ¥ Creating final video...

85% â–°â–°â–°â–°â–°â–°â–°â–°â–°â–±
2025-02-23 20:55:45,585 - pipeline.Step_6_video_generation - INFO - FFmpeg verified successfully
2025-02-23 20:55:45,630 - pipeline.Step_6_video_generation - WARNING - No logo found for style funny
2025-02-23 20:55:45,630 - pipeline.Step_6_video_generation - INFO - FFmpeg command: ffmpeg -y -i temp_0\video\video_20250223_205448.mp4 -i output_0\commentary_funny.wav -c:v libx264 -preset medium -crf 23 -c:a aac -b:a 192k -shortest -filter_complex [0:v]pad=636:1130:0:385:white[padded] -map [padded] -map 2:a output_0\final_video_funny.mp4
2025-02-23 20:55:45,692 - pipeline.Step_6_video_generation - ERROR - Error generating video: Command '['ffmpeg', '-y', '-i', 'temp_0\\video\\video_20250223_205448.mp4', '-i', 'output_0\\commentary_funny.wav', '-c:v', 'libx264', '-preset', 'medium', '-crf', '23', '-c:a', 'aac', '-b:a', '192k', '-shortest', '-filter_complex', '[0:v]pad=636:1130:0:385:white[padded]', '-map', '[padded]', '-map', '2:a', 'output_0\\final_video_funny.mp4']' returned non-zero exit status 4294967274.
2025-02-23 20:55:45,707 - new_bot - ERROR - Error processing video file: Failed to generate final video
2025-02-23 20:55:45,708 - __main__ - INFO - Status update: âŒ Error processing video: Failed to generate final video
Please try again or contact support.
2025-02-23 20:55:45,713 - __main__ - ERROR - No video data found after processing
2025-02-23 20:55:45,850 - __main__ - INFO - Cleanup completed successfully
2025-02-23 20:57:09,916 - __main__ - INFO - Checking environment variables...
2025-02-23 20:57:09,916 - __main__ - INFO - âœ“ Found OPENAI_API_KEY in environment
2025-02-23 20:57:09,917 - __main__ - INFO - âœ“ Found DEEPSEEK_API_KEY in environment
2025-02-23 20:57:09,917 - __main__ - INFO - âœ“ Found GOOGLE_APPLICATION_CREDENTIALS_JSON in environment
2025-02-23 20:57:09,918 - __main__ - INFO - Attempting to parse Google credentials...
2025-02-23 20:57:09,918 - __main__ - WARNING - Direct JSON parsing failed: Invalid control character at: line 1 column 175 (char 174)
2025-02-23 20:57:09,920 - __main__ - INFO - âœ“ Google credentials configured successfully
2025-02-23 20:57:09,921 - __main__ - INFO - âœ“ Configuration loaded successfully
2025-02-23 20:57:09,924 - new_bot - INFO - Checking environment variables...
2025-02-23 20:57:09,925 - new_bot - INFO - âœ“ Found OPENAI_API_KEY in environment
2025-02-23 20:57:09,925 - new_bot - INFO - âœ“ Found DEEPSEEK_API_KEY in environment
2025-02-23 20:57:09,925 - new_bot - INFO - âœ“ Found GOOGLE_APPLICATION_CREDENTIALS_JSON in environment
2025-02-23 20:57:09,926 - new_bot - INFO - Attempting to parse Google credentials...
2025-02-23 20:57:09,927 - new_bot - WARNING - Direct JSON parsing failed: Invalid control character at: line 1 column 175 (char 174)
2025-02-23 20:57:09,928 - new_bot - INFO - âœ“ Google credentials configured successfully
2025-02-23 20:57:40,831 - __main__ - INFO - Checking environment variables...
2025-02-23 20:57:40,834 - __main__ - INFO - âœ“ Found OPENAI_API_KEY in environment
2025-02-23 20:57:40,836 - __main__ - INFO - âœ“ Found DEEPSEEK_API_KEY in environment
2025-02-23 20:57:40,838 - __main__ - INFO - âœ“ Found GOOGLE_APPLICATION_CREDENTIALS_JSON in environment
2025-02-23 20:57:40,842 - __main__ - INFO - Attempting to parse Google credentials...
2025-02-23 20:57:40,843 - __main__ - WARNING - Direct JSON parsing failed: Invalid control character at: line 1 column 175 (char 174)
2025-02-23 20:57:40,851 - __main__ - INFO - âœ“ Google credentials configured successfully
2025-02-23 20:57:40,853 - __main__ - INFO - âœ“ Configuration loaded successfully
2025-02-23 20:57:40,894 - __main__ - INFO - Initializing StreamlitUpdate
2025-02-23 20:57:40,899 - __main__ - INFO - Initializing StreamlitContext
2025-02-23 20:57:40,906 - __main__ - INFO - Processing video URL: https://x.com/AMAZlNGNATURE/status/1886229103587602773
2025-02-23 20:57:40,911 - __main__ - INFO - Status update: ğŸ¬ Starting video processing...

0% â–±â–±â–±â–±â–±â–±â–±â–±â–±â–±
2025-02-23 20:57:40,918 - __main__ - INFO - Status update: ğŸ“¥ Downloading video...

10% â–°â–±â–±â–±â–±â–±â–±â–±â–±â–±
2025-02-23 20:57:40,921 - new_bot - INFO - Downloading video from: https://x.com/AMAZlNGNATURE/status/1886229103587602773
2025-02-23 20:57:40,923 - pipeline.Step_1_download_video - INFO - Downloading video from: https://twitter.com/AMAZlNGNATURE/status/1886229103587602773
2025-02-23 20:57:52,105 - pipeline.Step_1_download_video - INFO - Download completed
2025-02-23 20:57:52,106 - pipeline.Step_1_download_video - INFO - Downloaded file: temp_0\video\video_20250223_205742.mp4
2025-02-23 20:57:52,139 - new_bot - INFO - Starting video processing...
2025-02-23 20:57:52,140 - new_bot - INFO - Extracting frames...
2025-02-23 20:57:52,140 - __main__ - INFO - Status update: ğŸï¸ Extracting frames...

30% â–°â–°â–°â–±â–±â–±â–±â–±â–±â–±
2025-02-23 20:57:52,184 - pipeline.Step_2_extract_frames - INFO - Analyzing video for key frames...
2025-02-23 20:57:52,205 - pipeline.Step_2_extract_frames - INFO - Progress: 0.0%
2025-02-23 20:57:52,795 - pipeline.Step_2_extract_frames - INFO - Saved frame at 0.30s (scene_change=False, motion=2.43
2025-02-23 20:57:52,948 - pipeline.Step_2_extract_frames - INFO - Saved frame at 0.40s (scene_change=False, motion=2.41
2025-02-23 20:57:53,102 - pipeline.Step_2_extract_frames - INFO - Saved frame at 0.50s (scene_change=False, motion=2.24
2025-02-23 20:57:53,258 - pipeline.Step_2_extract_frames - INFO - Saved frame at 0.60s (scene_change=False, motion=2.09
2025-02-23 20:57:56,685 - pipeline.Step_2_extract_frames - INFO - Saved frame at 2.70s (scene_change=False, motion=2.23
2025-02-23 20:57:56,827 - pipeline.Step_2_extract_frames - INFO - Saved frame at 2.80s (scene_change=False, motion=2.09
2025-02-23 20:57:56,970 - pipeline.Step_2_extract_frames - INFO - Saved frame at 2.90s (scene_change=False, motion=2.17
2025-02-23 20:58:07,675 - pipeline.Step_2_extract_frames - INFO - Progress: 29.9%
2025-02-23 20:58:16,987 - pipeline.Step_2_extract_frames - INFO - Saved frame at 16.10s (scene_change=False, motion=2.09
2025-02-23 20:58:17,130 - pipeline.Step_2_extract_frames - INFO - Saved frame at 16.20s (scene_change=False, motion=2.42
2025-02-23 20:58:17,274 - pipeline.Step_2_extract_frames - INFO - Saved frame at 16.30s (scene_change=False, motion=2.80
2025-02-23 20:58:17,416 - pipeline.Step_2_extract_frames - INFO - Saved frame at 16.40s (scene_change=False, motion=3.02
2025-02-23 20:58:17,559 - pipeline.Step_2_extract_frames - INFO - Saved frame at 16.50s (scene_change=False, motion=3.00
2025-02-23 20:58:17,702 - pipeline.Step_2_extract_frames - INFO - Saved frame at 16.60s (scene_change=False, motion=2.77
2025-02-23 20:58:17,844 - pipeline.Step_2_extract_frames - INFO - Saved frame at 16.70s (scene_change=False, motion=2.67
2025-02-23 20:58:17,988 - pipeline.Step_2_extract_frames - INFO - Saved frame at 16.80s (scene_change=False, motion=2.49
2025-02-23 20:58:18,132 - pipeline.Step_2_extract_frames - INFO - Saved frame at 16.90s (scene_change=False, motion=2.08
2025-02-23 20:58:18,138 - pipeline.Step_2_extract_frames - INFO - Extracted 16 key frames
2025-02-23 20:58:18,139 - new_bot - INFO - Analyzing frames...
2025-02-23 20:58:18,140 - __main__ - INFO - Status update: ğŸ” Analyzing video content...

50% â–°â–°â–°â–°â–°â–±â–±â–±â–±â–±
2025-02-23 20:58:18,904 - pipeline.Step_3_analyze_frames - INFO - Selected 3 key frames for analysis
2025-02-23 20:58:26,950 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-23 20:58:32,272 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-23 20:58:37,598 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-23 20:58:37,620 - pipeline.Step_3_analyze_frames - INFO - Analysis complete. Results saved to output_0\final_analysis.json
2025-02-23 20:58:37,624 - new_bot - INFO - Generating commentary in ur...
2025-02-23 20:58:37,626 - __main__ - INFO - Status update: ğŸ’­ Generating commentary...

70% â–°â–°â–°â–°â–°â–°â–°â–±â–±â–±
2025-02-23 20:58:37,630 - pipeline.Step_4_generate_commentary - INFO - 
=== STARTING COMMENTARY GENERATION ===
2025-02-23 20:58:37,632 - pipeline.Step_4_generate_commentary - INFO - Content Type: funny
2025-02-23 20:58:37,633 - pipeline.Step_4_generate_commentary - INFO - Analysis File: output_0\final_analysis.json
2025-02-23 20:58:38,404 - pipeline.Step_4_generate_commentary - INFO - 
=== VIDEO TEXT FROM METADATA ===
2025-02-23 20:58:38,405 - pipeline.Step_4_generate_commentary - INFO - No text found in metadata
2025-02-23 20:58:38,406 - pipeline.Step_4_generate_commentary - INFO - 
=== SYSTEM PROMPT ===
2025-02-23 20:58:38,407 - pipeline.Step_4_generate_commentary - INFO - You are an entertaining commentator. Create humorous commentary that:
- Uses witty observations and jokes
- Maintains light and playful tone
- Includes appropriate humor
- Emphasizes amusing moments
- Keeps engagement through humor
2025-02-23 20:58:38,409 - pipeline.Step_4_generate_commentary - INFO - 
=== USER PROMPT ===
2025-02-23 20:58:38,410 - pipeline.Step_4_generate_commentary - INFO - Generate a VERY SHORT UR commentary (1-2 lines maximum) for this video in funny style.

VIDEO CONTENT:
Title: Nature is Amazing â˜˜ï¸ - The chicken has figured out how her feeder works Now closes it in time so the alpacas don't eat all the food.
Description: The chicken has figured out how her feeder works Now closes it in time so the alpacas don't eat all the food. https://t.co/GVBsJu9Lr9

VISUAL ANALYSIS:

Key visual elements (with confidence):
- Camelids (0.96)
- Alpaca (0.91)
- Llama (0.91)
- Terrestrial animal (0.89)
- Deer (0.82)
- Lawn (0.73)
- Livestock (0.71)

Detailed scene descriptions:
- 1. **Main Focus or Subject**:
   - The frame highlights an alpaca and a chicken interacting near a feeder in an outdoor setting. This corresponds to the video's context where a chicken cleverly manages its feeder to prevent alpacas from consuming all the food.

2. **Actions, Movements, or Interactions**:
   - The chicken is positioned near the feeder, possibly preparing to close it or having just done so. The alpaca is close by, appearing interested in the feeder, likely drawn by the potential for food.

3. **Significant Details**:
   - The chickenâ€™s proximity to the feeder aligns with the narrative of its cleverness in managing food access. The alpacaâ€™s presence adds to the scenario, demonstrating the potential challenge the chicken faces in protecting its food.

4. **Connection to the Video's Narrative**:
   - This moment visually captures the essence of the video's narrative. It illustrates the interaction between the chicken and the alpaca, emphasizing the chicken's intelligence in safeguarding its food resources by timely closing the feeder.

5. **Correcting Potential Misidentifications**:
   - The analysis mentions camelids, alpacas, llamas, and deer. In this frame, the animal is clearly an alpaca, not a llama or deer. Alpacas have distinct, smaller frames and differ from llamas, which are generally larger.

6. **Distinguishing Details**:
   - The animal is indeed an alpaca, as indicated by its size and
- 1. **Main Focus or Subject:**
   The main focus of this frame is the interaction between the chicken and the alpaca near the feeder. The chicken is at the feeder, likely manipulating it somehow, while an alpaca stands nearby, suggesting a moment of cleverness on the chicken's part to protect its food.

2. **Actions and Interactions:**
   The chicken is positioned at the feeder, potentially using it or preparing to close it. The alpaca stands nearby, possibly interested in the contents of the feeder. This suggests an interaction where the chicken is actively managing access to the food.

3. **Significant Details:**
   - The chicken's proximity to the feeder indicates its control over the food access.
   - The alpacaâ€™s posture and attention towards the feeder highlight its interest, aligning with the narrative of the chicken preventing it from eating.

4. **Connection to the Videoâ€™s Narrative:**
   This moment captures the essence of the video's narrativeâ€”intelligent animal behavior in managing resources. The chicken's understanding of the feeder mechanism is showcased by its actions to protect its food from the alpaca.

5. **Correcting Potential Misidentifications:**
   The frame does indeed feature an alpaca, not a camelid or llama, as suggested by the previous analysis. The mention of a deer seems incorrect in this context, as no deer is visible.

6. **Distinguishing Similar Animals:**
   The animal near the feeder is clearly an alpaca


STRICT REQUIREMENTS:
1. MUST be 1-2 lines only - no exceptions
2. Focus on combining the video description with what is actually shown in the video
3. If there is text in the video, incorporate it naturally
4. Match the funny style while staying extremely brief
5. Make it engaging but concise
6. Format for ur
7. Ensure commentary reflects both visual content and video description
8. Correct any obvious errors in object detection (e.g., if a deer was labeled as a dog)
9. Use proper Urdu script and punctuation (Û”ØŒ ØŸ)
2025-02-23 20:58:38,426 - pipeline.Step_4_generate_commentary - INFO - 
=== GENERATING COMMENTARY ===
2025-02-23 20:58:39,441 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-23 20:58:39,450 - pipeline.Step_4_generate_commentary - INFO - 
=== RAW GENERATED COMMENTARY ===
2025-02-23 20:58:39,452 - pipeline.Step_4_generate_commentary - INFO - ÛŒÛ Ù…Ø±ØºÛŒ ØªÙˆ Ú©Ú¾Ø§Ù†Û’ Ú©Ø§ Ø³ÙÙˆØ¦ÛŒÚ†Ø± ÛÛ’ØŒ Ø¬ÛŒØ³Û’ Ú©Û "Ù…ÙÙˆÚˆ Ø³ÙˆØ¦Ú†" Ù¾Ø± Ú©Ù„Ú© Ú©Ø± Ú©Û’ØŒ Ø§ÛŒÚ© Ø·Ø±Ù Ù…Ø±ØºÛŒØ§Úº Ø§ÙˆØ± Ø¯ÙˆØ³Ø±ÛŒ Ø·Ø±Ù Ø§Ù„ÙˆÚ©ÛŒÙˆÚº Ú©ÛŒ Ù¾Ø§Ø±Ù¹ÛŒ! ğŸ”ğŸ¦™
2025-02-23 20:58:39,456 - pipeline.Step_4_generate_commentary - INFO - 
=== PROCESSED COMMENTARY ===
2025-02-23 20:58:39,458 - pipeline.Step_4_generate_commentary - INFO - ÛŒÛ Ù…Ø±ØºÛŒ ØªÙˆ Ú©Ú¾Ø§Ù†Û’ Ú©Ø§ Ø³ÙÙˆØ¦ÛŒÚ†Ø± ÛÛ’ØŒ<break time="0.5s"/> Ø¬ÛŒØ³Û’ Ú©Û "Ù…ÙÙˆÚˆ Ø³ÙˆØ¦Ú†" Ù¾Ø± Ú©Ù„Ú© Ú©Ø± Ú©Û’ØŒ<break time="0.5s"/> Ø§ÛŒÚ© Ø·Ø±Ù Ù…Ø±ØºÛŒØ§Úº Ø§ÙˆØ± Ø¯ÙˆØ³Ø±ÛŒ Ø·Ø±Ù Ø§Ù„ÙˆÚ©ÛŒÙˆÚº Ú©ÛŒ Ù¾Ø§Ø±Ù¹ÛŒ! ğŸ”ğŸ¦™
2025-02-23 20:58:39,460 - pipeline.Step_4_generate_commentary - INFO - 
=== FINAL COMMENTARY OBJECT ===
2025-02-23 20:58:39,461 - pipeline.Step_4_generate_commentary - INFO - {
  "style": "funny",
  "commentary": "ÛŒÛ Ù…Ø±ØºÛŒ ØªÙˆ Ú©Ú¾Ø§Ù†Û’ Ú©Ø§ Ø³ÙÙˆØ¦ÛŒÚ†Ø± ÛÛ’ØŒ<break time=\"0.5s\"/> Ø¬ÛŒØ³Û’ Ú©Û \"Ù…ÙÙˆÚˆ Ø³ÙˆØ¦Ú†\" Ù¾Ø± Ú©Ù„Ú© Ú©Ø± Ú©Û’ØŒ<break time=\"0.5s\"/> Ø§ÛŒÚ© Ø·Ø±Ù Ù…Ø±ØºÛŒØ§Úº Ø§ÙˆØ± Ø¯ÙˆØ³Ø±ÛŒ Ø·Ø±Ù Ø§Ù„ÙˆÚ©ÛŒÙˆÚº Ú©ÛŒ Ù¾Ø§Ø±Ù¹ÛŒ! ğŸ”ğŸ¦™",
  "metadata": {
    "title": "Nature is Amazing â˜˜ï¸ - The chicken has figured out how her feeder works Now closes it in time so the alpacas don't eat all the food.",
    "duration": 33.43333333333333,
    "description": "The chicken has figured out how her feeder works Now closes it in time so the alpacas don't eat all the food. https://t.co/GVBsJu9Lr9",
    "uploader": "Nature is Amazing â˜˜ï¸",
    "view_count": null,
    "like_count": 141277,
    "upload_date": "20250203",
    "scene_changes": [],
    "motion_scores": [
      [
        "output_0\\frames\\frame_0.30s.jpg",
        2.4328114986419678
      ],
      [
        "output_0\\frames\\frame_0.40s.jpg",
        2.40671443939209
      ],
      [
        "output_0\\frames\\frame_0.50s.jpg",
        2.242037296295166
      ],
      [
        "output_0\\frames\\frame_0.60s.jpg",
        2.093170404434204
      ],
      [
        "output_0\\frames\\frame_2.70s.jpg",
        2.2306339740753174
      ],
      [
        "output_0\\frames\\frame_2.80s.jpg",
        2.085573196411133
      ],
      [
        "output_0\\frames\\frame_2.90s.jpg",
        2.167114019393921
      ],
      [
        "output_0\\frames\\frame_16.10s.jpg",
        2.091686248779297
      ],
      [
        "output_0\\frames\\frame_16.20s.jpg",
        2.42148494720459
      ],
      [
        "output_0\\frames\\frame_16.30s.jpg",
        2.7960448265075684
      ],
      [
        "output_0\\frames\\frame_16.40s.jpg",
        3.0180258750915527
      ],
      [
        "output_0\\frames\\frame_16.50s.jpg",
        3.00411319732666
      ],
      [
        "output_0\\frames\\frame_16.60s.jpg",
        2.7661421298980713
      ],
      [
        "output_0\\frames\\frame_16.70s.jpg",
        2.6690316200256348
      ],
      [
        "output_0\\frames\\frame_16.80s.jpg",
        2.4878687858581543
      ],
      [
        "output_0\\frames\\frame_16.90s.jpg",
        2.0821049213409424
      ]
    ],
    "language": "ur"
  },
  "language": "ur"
}
2025-02-23 20:58:39,488 - pipeline.Step_4_generate_commentary - INFO - 
=== PROCESSING FOR AUDIO ===
2025-02-23 20:58:39,489 - pipeline.Step_4_generate_commentary - INFO - Language: ur
2025-02-23 20:58:39,490 - pipeline.Step_4_generate_commentary - INFO - 
=== FINAL AUDIO SCRIPT ===
2025-02-23 20:58:39,491 - pipeline.Step_4_generate_commentary - INFO - ÛŒÛ Ù…Ø±ØºÛŒ ØªÙˆ Ú©Ú¾Ø§Ù†Û’ Ú©Ø§ Ø³ÙÙˆØ¦ÛŒÚ†Ø± ÛÛ’ØŒ<break time="0.5s"/> Ø¬ÛŒØ³Û’ Ú©Û Ù…ÙÙˆÚˆ Ø³ÙˆØ¦Ú† Ù¾Ø± Ú©Ù„Ú© Ú©Ø± Ú©Û’ØŒ<break time="0.5s"/> Ø§ÛŒÚ© Ø·Ø±Ù Ù…Ø±ØºÛŒØ§Úº Ø§ÙˆØ± Ø¯ÙˆØ³Ø±ÛŒ Ø·Ø±Ù Ø§Ù„ÙˆÚ©ÛŒÙˆÚº Ú©ÛŒ Ù¾Ø§Ø±Ù¹ÛŒ!
2025-02-23 20:58:39,494 - new_bot - INFO - Generating audio in ur...
2025-02-23 20:58:39,495 - __main__ - INFO - Status update: ğŸ™ï¸ Synthesizing voice...

80% â–°â–°â–°â–°â–°â–°â–°â–°â–±â–±
2025-02-23 20:58:39,516 - pipeline.Step_5_generate_audio - INFO - Generating audio for text: ÛŒÛ Ù…Ø±ØºÛŒ ØªÙˆ Ú©Ú¾Ø§Ù†Û’ Ú©Ø§ Ø³ÙÙˆØ¦ÛŒÚ†Ø± ÛÛ’ØŒ<break time="0.5s"/> Ø¬ÛŒØ³Û’ Ú©Û "Ù…ÙÙˆÚˆ Ø³ÙˆØ¦Ú†" Ù¾Ø± Ú©Ù„Ú© Ú©Ø± Ú©Û’ØŒ<break time="0....
2025-02-23 20:58:40,946 - pipeline.Step_5_generate_audio - INFO - Successfully generated audio file: output_0\commentary_funny.wav
2025-02-23 20:58:40,949 - new_bot - INFO - Generating final video...
2025-02-23 20:58:40,952 - __main__ - INFO - Status update: ğŸ¥ Creating final video...

85% â–°â–°â–°â–°â–°â–°â–°â–°â–°â–±
2025-02-23 20:58:41,012 - pipeline.Step_6_video_generation - INFO - FFmpeg verified successfully
2025-02-23 20:58:41,060 - pipeline.Step_6_video_generation - WARNING - No logo found for style funny
2025-02-23 20:58:41,061 - pipeline.Step_6_video_generation - INFO - FFmpeg command: ffmpeg -y -i temp_0\video\video_20250223_205742.mp4 -i output_0\commentary_funny.wav -c:v libx264 -preset medium -crf 23 -c:a aac -b:a 192k -shortest -filter_complex [0:v]pad=636:1130:0:385:white[padded] -map [padded] -map 2:a output_0\final_video_funny.mp4
2025-02-23 20:58:41,160 - pipeline.Step_6_video_generation - ERROR - Error generating video: Command '['ffmpeg', '-y', '-i', 'temp_0\\video\\video_20250223_205742.mp4', '-i', 'output_0\\commentary_funny.wav', '-c:v', 'libx264', '-preset', 'medium', '-crf', '23', '-c:a', 'aac', '-b:a', '192k', '-shortest', '-filter_complex', '[0:v]pad=636:1130:0:385:white[padded]', '-map', '[padded]', '-map', '2:a', 'output_0\\final_video_funny.mp4']' returned non-zero exit status 4294967274.
2025-02-23 20:58:41,172 - new_bot - ERROR - Error processing video file: Failed to generate final video
2025-02-23 20:58:41,173 - __main__ - INFO - Status update: âŒ Error processing video: Failed to generate final video
Please try again or contact support.
2025-02-23 20:58:41,179 - __main__ - ERROR - No video data found after processing
2025-02-23 20:58:41,319 - __main__ - INFO - Cleanup completed successfully
2025-02-23 20:59:20,056 - __main__ - INFO - Checking environment variables...
2025-02-23 20:59:20,057 - __main__ - INFO - âœ“ Found OPENAI_API_KEY in environment
2025-02-23 20:59:20,057 - __main__ - INFO - âœ“ Found DEEPSEEK_API_KEY in environment
2025-02-23 20:59:20,058 - __main__ - INFO - âœ“ Found GOOGLE_APPLICATION_CREDENTIALS_JSON in environment
2025-02-23 20:59:20,058 - __main__ - INFO - Attempting to parse Google credentials...
2025-02-23 20:59:20,059 - __main__ - WARNING - Direct JSON parsing failed: Invalid control character at: line 1 column 175 (char 174)
2025-02-23 20:59:20,061 - __main__ - INFO - âœ“ Google credentials configured successfully
2025-02-23 20:59:20,061 - __main__ - INFO - âœ“ Configuration loaded successfully
2025-02-23 20:59:20,065 - new_bot - INFO - Checking environment variables...
2025-02-23 20:59:20,065 - new_bot - INFO - âœ“ Found OPENAI_API_KEY in environment
2025-02-23 20:59:20,065 - new_bot - INFO - âœ“ Found DEEPSEEK_API_KEY in environment
2025-02-23 20:59:20,066 - new_bot - INFO - âœ“ Found GOOGLE_APPLICATION_CREDENTIALS_JSON in environment
2025-02-23 20:59:20,066 - new_bot - INFO - Attempting to parse Google credentials...
2025-02-23 20:59:20,067 - new_bot - WARNING - Direct JSON parsing failed: Invalid control character at: line 1 column 175 (char 174)
2025-02-23 20:59:20,068 - new_bot - INFO - âœ“ Google credentials configured successfully
2025-02-23 20:59:33,699 - __main__ - INFO - Checking environment variables...
2025-02-23 20:59:33,700 - __main__ - INFO - âœ“ Found OPENAI_API_KEY in environment
2025-02-23 20:59:33,700 - __main__ - INFO - âœ“ Found DEEPSEEK_API_KEY in environment
2025-02-23 20:59:33,701 - __main__ - INFO - âœ“ Found GOOGLE_APPLICATION_CREDENTIALS_JSON in environment
2025-02-23 20:59:33,701 - __main__ - INFO - Attempting to parse Google credentials...
2025-02-23 20:59:33,702 - __main__ - WARNING - Direct JSON parsing failed: Invalid control character at: line 1 column 175 (char 174)
2025-02-23 20:59:33,705 - __main__ - INFO - âœ“ Google credentials configured successfully
2025-02-23 20:59:33,706 - __main__ - INFO - âœ“ Configuration loaded successfully
2025-02-23 20:59:33,709 - new_bot - INFO - Checking environment variables...
2025-02-23 20:59:33,710 - new_bot - INFO - âœ“ Found OPENAI_API_KEY in environment
2025-02-23 20:59:33,711 - new_bot - INFO - âœ“ Found DEEPSEEK_API_KEY in environment
2025-02-23 20:59:33,711 - new_bot - INFO - âœ“ Found GOOGLE_APPLICATION_CREDENTIALS_JSON in environment
2025-02-23 20:59:33,712 - new_bot - INFO - Attempting to parse Google credentials...
2025-02-23 20:59:33,712 - new_bot - WARNING - Direct JSON parsing failed: Invalid control character at: line 1 column 175 (char 174)
2025-02-23 20:59:33,714 - new_bot - INFO - âœ“ Google credentials configured successfully
2025-02-23 20:59:43,831 - __main__ - INFO - Checking environment variables...
2025-02-23 20:59:43,834 - __main__ - INFO - âœ“ Found OPENAI_API_KEY in environment
2025-02-23 20:59:43,837 - __main__ - INFO - âœ“ Found DEEPSEEK_API_KEY in environment
2025-02-23 20:59:43,839 - __main__ - INFO - âœ“ Found GOOGLE_APPLICATION_CREDENTIALS_JSON in environment
2025-02-23 20:59:43,843 - __main__ - INFO - Attempting to parse Google credentials...
2025-02-23 20:59:43,846 - __main__ - WARNING - Direct JSON parsing failed: Invalid control character at: line 1 column 175 (char 174)
2025-02-23 20:59:43,855 - __main__ - INFO - âœ“ Google credentials configured successfully
2025-02-23 20:59:43,857 - __main__ - INFO - âœ“ Configuration loaded successfully
2025-02-23 20:59:43,900 - __main__ - INFO - Initializing StreamlitUpdate
2025-02-23 20:59:43,907 - __main__ - INFO - Initializing StreamlitContext
2025-02-23 20:59:43,913 - __main__ - INFO - Processing video URL: https://x.com/AMAZlNGNATURE/status/1886229103587602773
2025-02-23 20:59:43,917 - __main__ - INFO - Status update: ğŸ¬ Starting video processing...

0% â–±â–±â–±â–±â–±â–±â–±â–±â–±â–±
2025-02-23 20:59:43,922 - __main__ - INFO - Status update: ğŸ“¥ Downloading video...

10% â–°â–±â–±â–±â–±â–±â–±â–±â–±â–±
2025-02-23 20:59:43,925 - new_bot - INFO - Downloading video from: https://x.com/AMAZlNGNATURE/status/1886229103587602773
2025-02-23 20:59:43,927 - pipeline.Step_1_download_video - INFO - Downloading video from: https://twitter.com/AMAZlNGNATURE/status/1886229103587602773
2025-02-23 20:59:50,922 - pipeline.Step_1_download_video - INFO - Download completed
2025-02-23 20:59:50,923 - pipeline.Step_1_download_video - INFO - Downloaded file: temp_0\video\video_20250223_205945.mp4
2025-02-23 20:59:50,956 - new_bot - INFO - Starting video processing...
2025-02-23 20:59:50,957 - new_bot - INFO - Extracting frames...
2025-02-23 20:59:50,958 - __main__ - INFO - Status update: ğŸï¸ Extracting frames...

30% â–°â–°â–°â–±â–±â–±â–±â–±â–±â–±
2025-02-23 20:59:51,003 - pipeline.Step_2_extract_frames - INFO - Analyzing video for key frames...
2025-02-23 20:59:51,025 - pipeline.Step_2_extract_frames - INFO - Progress: 0.0%
2025-02-23 20:59:51,609 - pipeline.Step_2_extract_frames - INFO - Saved frame at 0.30s (scene_change=False, motion=2.43
2025-02-23 20:59:51,754 - pipeline.Step_2_extract_frames - INFO - Saved frame at 0.40s (scene_change=False, motion=2.41
2025-02-23 20:59:51,900 - pipeline.Step_2_extract_frames - INFO - Saved frame at 0.50s (scene_change=False, motion=2.24
2025-02-23 20:59:52,054 - pipeline.Step_2_extract_frames - INFO - Saved frame at 0.60s (scene_change=False, motion=2.09
2025-02-23 20:59:55,715 - pipeline.Step_2_extract_frames - INFO - Saved frame at 2.70s (scene_change=False, motion=2.23
2025-02-23 20:59:55,865 - pipeline.Step_2_extract_frames - INFO - Saved frame at 2.80s (scene_change=False, motion=2.09
2025-02-23 20:59:56,009 - pipeline.Step_2_extract_frames - INFO - Saved frame at 2.90s (scene_change=False, motion=2.17
2025-02-23 21:00:06,846 - pipeline.Step_2_extract_frames - INFO - Progress: 29.9%
2025-02-23 21:00:16,180 - pipeline.Step_2_extract_frames - INFO - Saved frame at 16.10s (scene_change=False, motion=2.09
2025-02-23 21:00:16,326 - pipeline.Step_2_extract_frames - INFO - Saved frame at 16.20s (scene_change=False, motion=2.42
2025-02-23 21:00:16,471 - pipeline.Step_2_extract_frames - INFO - Saved frame at 16.30s (scene_change=False, motion=2.80
2025-02-23 21:00:16,616 - pipeline.Step_2_extract_frames - INFO - Saved frame at 16.40s (scene_change=False, motion=3.02
2025-02-23 21:00:16,760 - pipeline.Step_2_extract_frames - INFO - Saved frame at 16.50s (scene_change=False, motion=3.00
2025-02-23 21:00:16,903 - pipeline.Step_2_extract_frames - INFO - Saved frame at 16.60s (scene_change=False, motion=2.77
2025-02-23 21:00:17,045 - pipeline.Step_2_extract_frames - INFO - Saved frame at 16.70s (scene_change=False, motion=2.67
2025-02-23 21:00:17,187 - pipeline.Step_2_extract_frames - INFO - Saved frame at 16.80s (scene_change=False, motion=2.49
2025-02-23 21:00:17,334 - pipeline.Step_2_extract_frames - INFO - Saved frame at 16.90s (scene_change=False, motion=2.08
2025-02-23 21:00:17,340 - pipeline.Step_2_extract_frames - INFO - Extracted 16 key frames
2025-02-23 21:00:17,341 - new_bot - INFO - Analyzing frames...
2025-02-23 21:00:17,342 - __main__ - INFO - Status update: ğŸ” Analyzing video content...

50% â–°â–°â–°â–°â–°â–±â–±â–±â–±â–±
2025-02-23 21:00:18,079 - pipeline.Step_3_analyze_frames - INFO - Selected 3 key frames for analysis
2025-02-23 21:00:26,246 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-23 21:00:31,158 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-23 21:00:36,996 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-23 21:00:37,016 - pipeline.Step_3_analyze_frames - INFO - Analysis complete. Results saved to output_0\final_analysis.json
2025-02-23 21:00:37,020 - new_bot - INFO - Generating commentary in ur...
2025-02-23 21:00:37,022 - __main__ - INFO - Status update: ğŸ’­ Generating commentary...

70% â–°â–°â–°â–°â–°â–°â–°â–±â–±â–±
2025-02-23 21:00:37,026 - pipeline.Step_4_generate_commentary - INFO - 
=== STARTING COMMENTARY GENERATION ===
2025-02-23 21:00:37,028 - pipeline.Step_4_generate_commentary - INFO - Content Type: funny
2025-02-23 21:00:37,029 - pipeline.Step_4_generate_commentary - INFO - Analysis File: output_0\final_analysis.json
2025-02-23 21:00:37,781 - pipeline.Step_4_generate_commentary - INFO - 
=== VIDEO TEXT FROM METADATA ===
2025-02-23 21:00:37,782 - pipeline.Step_4_generate_commentary - INFO - No text found in metadata
2025-02-23 21:00:37,783 - pipeline.Step_4_generate_commentary - INFO - 
=== SYSTEM PROMPT ===
2025-02-23 21:00:37,784 - pipeline.Step_4_generate_commentary - INFO - You are an entertaining commentator. Create humorous commentary that:
- Uses witty observations and jokes
- Maintains light and playful tone
- Includes appropriate humor
- Emphasizes amusing moments
- Keeps engagement through humor
2025-02-23 21:00:37,785 - pipeline.Step_4_generate_commentary - INFO - 
=== USER PROMPT ===
2025-02-23 21:00:37,786 - pipeline.Step_4_generate_commentary - INFO - Generate a VERY SHORT UR commentary (1-2 lines maximum) for this video in funny style.

VIDEO CONTENT:
Title: Nature is Amazing â˜˜ï¸ - The chicken has figured out how her feeder works Now closes it in time so the alpacas don't eat all the food.
Description: The chicken has figured out how her feeder works Now closes it in time so the alpacas don't eat all the food. https://t.co/GVBsJu9Lr9

VISUAL ANALYSIS:

Key visual elements (with confidence):
- Camelids (0.96)
- Alpaca (0.91)
- Llama (0.91)
- Terrestrial animal (0.89)
- Deer (0.82)
- Lawn (0.73)
- Livestock (0.71)

Detailed scene descriptions:
- 1. **Main Focus/Subject:**
   The main subject of this frame is the chicken near a feeder, with an alpaca nearby. The chicken appears to be interacting with the feeder, which aligns with the videoâ€™s title and context about the chicken having learned how to operate the feeder to prevent the alpaca from eating its food.

2. **Actions/Interactions:**
   The chicken seems engaged with the feeder, possibly in the act of closing it, as mentioned in the videoâ€™s description. The alpaca stands close by, suggesting an interest in the food. The interaction hints at a dynamic where the chicken is actively managing access to the food.

3. **Significant Details:**
   - The setting is outdoors, showcasing a grassy area, consistent with a natural farm-like environment.
   - The feeder is positioned low to the ground, making it accessible to the chicken.
   - The chicken's proximity to the feeder indicates its control over the feeding process.
   - The alpacaâ€™s posture suggests attentiveness or expectancy, possibly indicating its intent to access the food.

4. **Connection to Narrative:**
   This moment highlights the intelligence of the chicken in managing its resources. It showcases the chickenâ€™s learned behavior in controlling the feeder mechanism, a pivotal aspect of the narrative about animal intelligence and resourcefulness.

5. **Correcting Misidentifications:**
   The alpaca is correctly identified; there are no llamas or deer in the frame. The description matches the presence of
- 1. **Main Focus or Subject:**
   The main focus of this frame is the interaction between the chicken and the alpaca near the feeder. The chicken is in the process of managing the feeder, which aligns with the video's title and description, emphasizing the chicken's clever behavior.

2. **Actions, Movements, or Interactions:**
   The chicken is positioned near the feeder, likely engaging with it to manipulate access to the food. The alpaca stands nearby, seemingly observing or waiting, which supports the described dynamic of the chicken preventing the alpaca from accessing the food.

3. **Significant Details:**
   - The chicken's placement at the feeder highlights its role in controlling food access.
   - The alpacaâ€™s proximity suggests its interest in the food while illustrating its reliance on the chickenâ€™s actions.

4. **Connection to Overall Story:**
   This moment captures a pivotal aspect of the narrative: the chickenâ€™s intelligence in managing the feeder. It showcases animal behavior and interaction, underlining the video's theme of nature being amazing.

5. **Potential Misidentifications:**
   - The computer vision analysis correctly identified the alpaca. There are no visible signs of other camelids or deer, which may have been incorrect suggestions in prior frames.
   - The mention of a deer is likely a misidentification as there are no deer present.

6. **Animal Distinction:**
   The alpaca is distinguishable from similar animals like llamas through its size,


STRICT REQUIREMENTS:
1. MUST be 1-2 lines only - no exceptions
2. Focus on combining the video description with what is actually shown in the video
3. If there is text in the video, incorporate it naturally
4. Match the funny style while staying extremely brief
5. Make it engaging but concise
6. Format for ur
7. Ensure commentary reflects both visual content and video description
8. Correct any obvious errors in object detection (e.g., if a deer was labeled as a dog)
9. Use proper Urdu script and punctuation (Û”ØŒ ØŸ)
2025-02-23 21:00:37,802 - pipeline.Step_4_generate_commentary - INFO - 
=== GENERATING COMMENTARY ===
2025-02-23 21:00:39,762 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-23 21:00:39,772 - pipeline.Step_4_generate_commentary - INFO - 
=== RAW GENERATED COMMENTARY ===
2025-02-23 21:00:39,774 - pipeline.Step_4_generate_commentary - INFO - ÛŒÛ Ù…Ø±ØºÛŒ ØªÙˆ Ø§ÛŒÙÙ„ Ù¹Ø§ÙˆØ± Ú©ÛŒ Ø·Ø±Ø­ Ú©Ú¾Ú‘ÛŒ ÛÛ’ØŒ Ø³ÙˆÚ† Ø±ÛÛŒ ÛÛ’: "Ú©Ú¾Ø§Ù†Ø§ Ú©Ú¾Ø§Ù†Û’ Ú©Ø§ ÙˆÙ‚Øª ÛÛ’ØŒ Ù„ÛŒÚ©Ù† Ù…ÛŒØ±Û’ Ø§Ù„ÙØ§Ø¸ Ø³Ù†ÙˆØŒ Ø§ÛŒÙ†Úˆ Ú¯ÛŒÙ… Ù…ÛŒÚº Ù…ÛŒÚº Ø¬ÛŒØª Ø±ÛÛŒ ÛÙˆÚº!" ğŸ”ğŸ’ªğŸ¥³
2025-02-23 21:00:39,777 - pipeline.Step_4_generate_commentary - INFO - 
=== PROCESSED COMMENTARY ===
2025-02-23 21:00:39,779 - pipeline.Step_4_generate_commentary - INFO - ÛŒÛ Ù…Ø±ØºÛŒ ØªÙˆ Ø§ÛŒÙÙ„ Ù¹Ø§ÙˆØ± Ú©ÛŒ Ø·Ø±Ø­ Ú©Ú¾Ú‘ÛŒ ÛÛ’ØŒ<break time="0.5s"/> Ø³ÙˆÚ† Ø±ÛÛŒ ÛÛ’: "Ú©Ú¾Ø§Ù†Ø§ Ú©Ú¾Ø§Ù†Û’ Ú©Ø§ ÙˆÙ‚Øª ÛÛ’ØŒ<break time="0.5s"/> Ù„ÛŒÚ©Ù† Ù…ÛŒØ±Û’ Ø§Ù„ÙØ§Ø¸ Ø³Ù†ÙˆØŒ<break time="0.5s"/> Ø§ÛŒÙ†Úˆ Ú¯ÛŒÙ… Ù…ÛŒÚº Ù…ÛŒÚº Ø¬ÛŒØª Ø±ÛÛŒ ÛÙˆÚº!" ğŸ”ğŸ’ªğŸ¥³
2025-02-23 21:00:39,782 - pipeline.Step_4_generate_commentary - INFO - 
=== FINAL COMMENTARY OBJECT ===
2025-02-23 21:00:39,785 - pipeline.Step_4_generate_commentary - INFO - {
  "style": "funny",
  "commentary": "ÛŒÛ Ù…Ø±ØºÛŒ ØªÙˆ Ø§ÛŒÙÙ„ Ù¹Ø§ÙˆØ± Ú©ÛŒ Ø·Ø±Ø­ Ú©Ú¾Ú‘ÛŒ ÛÛ’ØŒ<break time=\"0.5s\"/> Ø³ÙˆÚ† Ø±ÛÛŒ ÛÛ’: \"Ú©Ú¾Ø§Ù†Ø§ Ú©Ú¾Ø§Ù†Û’ Ú©Ø§ ÙˆÙ‚Øª ÛÛ’ØŒ<break time=\"0.5s\"/> Ù„ÛŒÚ©Ù† Ù…ÛŒØ±Û’ Ø§Ù„ÙØ§Ø¸ Ø³Ù†ÙˆØŒ<break time=\"0.5s\"/> Ø§ÛŒÙ†Úˆ Ú¯ÛŒÙ… Ù…ÛŒÚº Ù…ÛŒÚº Ø¬ÛŒØª Ø±ÛÛŒ ÛÙˆÚº!\" ğŸ”ğŸ’ªğŸ¥³",
  "metadata": {
    "title": "Nature is Amazing â˜˜ï¸ - The chicken has figured out how her feeder works Now closes it in time so the alpacas don't eat all the food.",
    "duration": 33.43333333333333,
    "description": "The chicken has figured out how her feeder works Now closes it in time so the alpacas don't eat all the food. https://t.co/GVBsJu9Lr9",
    "uploader": "Nature is Amazing â˜˜ï¸",
    "view_count": null,
    "like_count": 141277,
    "upload_date": "20250203",
    "scene_changes": [],
    "motion_scores": [
      [
        "output_0\\frames\\frame_0.30s.jpg",
        2.4328114986419678
      ],
      [
        "output_0\\frames\\frame_0.40s.jpg",
        2.40671443939209
      ],
      [
        "output_0\\frames\\frame_0.50s.jpg",
        2.242037296295166
      ],
      [
        "output_0\\frames\\frame_0.60s.jpg",
        2.093170404434204
      ],
      [
        "output_0\\frames\\frame_2.70s.jpg",
        2.2306339740753174
      ],
      [
        "output_0\\frames\\frame_2.80s.jpg",
        2.085573196411133
      ],
      [
        "output_0\\frames\\frame_2.90s.jpg",
        2.167114019393921
      ],
      [
        "output_0\\frames\\frame_16.10s.jpg",
        2.091686248779297
      ],
      [
        "output_0\\frames\\frame_16.20s.jpg",
        2.42148494720459
      ],
      [
        "output_0\\frames\\frame_16.30s.jpg",
        2.7960448265075684
      ],
      [
        "output_0\\frames\\frame_16.40s.jpg",
        3.0180258750915527
      ],
      [
        "output_0\\frames\\frame_16.50s.jpg",
        3.00411319732666
      ],
      [
        "output_0\\frames\\frame_16.60s.jpg",
        2.7661421298980713
      ],
      [
        "output_0\\frames\\frame_16.70s.jpg",
        2.6690316200256348
      ],
      [
        "output_0\\frames\\frame_16.80s.jpg",
        2.4878687858581543
      ],
      [
        "output_0\\frames\\frame_16.90s.jpg",
        2.0821049213409424
      ]
    ],
    "language": "ur"
  },
  "language": "ur"
}
2025-02-23 21:00:39,824 - pipeline.Step_4_generate_commentary - INFO - 
=== PROCESSING FOR AUDIO ===
2025-02-23 21:00:39,825 - pipeline.Step_4_generate_commentary - INFO - Language: ur
2025-02-23 21:00:39,826 - pipeline.Step_4_generate_commentary - INFO - 
=== FINAL AUDIO SCRIPT ===
2025-02-23 21:00:39,827 - pipeline.Step_4_generate_commentary - INFO - ÛŒÛ Ù…Ø±ØºÛŒ ØªÙˆ Ø§ÛŒÙÙ„ Ù¹Ø§ÙˆØ± Ú©ÛŒ Ø·Ø±Ø­ Ú©Ú¾Ú‘ÛŒ ÛÛ’ØŒ<break time="0.5s"/> Ø³ÙˆÚ† Ø±ÛÛŒ ÛÛ’ Ú©Ú¾Ø§Ù†Ø§ Ú©Ú¾Ø§Ù†Û’ Ú©Ø§ ÙˆÙ‚Øª ÛÛ’ØŒ<break time="0.5s"/> Ù„ÛŒÚ©Ù† Ù…ÛŒØ±Û’ Ø§Ù„ÙØ§Ø¸ Ø³Ù†ÙˆØŒ<break time="0.5s"/> Ø§ÛŒÙ†Úˆ Ú¯ÛŒÙ… Ù…ÛŒÚº Ù…ÛŒÚº Ø¬ÛŒØª Ø±ÛÛŒ ÛÙˆÚº!
2025-02-23 21:00:39,829 - new_bot - INFO - Generating audio in ur...
2025-02-23 21:00:39,830 - __main__ - INFO - Status update: ğŸ™ï¸ Synthesizing voice...

80% â–°â–°â–°â–°â–°â–°â–°â–°â–±â–±
2025-02-23 21:00:39,854 - pipeline.Step_5_generate_audio - INFO - Generating audio for text: ÛŒÛ Ù…Ø±ØºÛŒ ØªÙˆ Ø§ÛŒÙÙ„ Ù¹Ø§ÙˆØ± Ú©ÛŒ Ø·Ø±Ø­ Ú©Ú¾Ú‘ÛŒ ÛÛ’ØŒ<break time="0.5s"/> Ø³ÙˆÚ† Ø±ÛÛŒ ÛÛ’: "Ú©Ú¾Ø§Ù†Ø§ Ú©Ú¾Ø§Ù†Û’ Ú©Ø§ ÙˆÙ‚Øª ÛÛ’ØŒ<break t...
2025-02-23 21:00:41,163 - pipeline.Step_5_generate_audio - INFO - Successfully generated audio file: output_0\commentary_funny.wav
2025-02-23 21:00:41,164 - new_bot - INFO - Generating final video...
2025-02-23 21:00:41,165 - __main__ - INFO - Status update: ğŸ¥ Creating final video...

85% â–°â–°â–°â–°â–°â–°â–°â–°â–°â–±
2025-02-23 21:00:41,229 - pipeline.Step_6_video_generation - INFO - FFmpeg verified successfully
2025-02-23 21:00:41,279 - pipeline.Step_6_video_generation - WARNING - No logo found for style funny
2025-02-23 21:00:41,280 - pipeline.Step_6_video_generation - INFO - FFmpeg command: ffmpeg -y -i temp_0\video\video_20250223_205945.mp4 -i output_0\commentary_funny.wav -c:v libx264 -preset medium -crf 23 -c:a aac -b:a 192k -shortest -filter_complex [0:v]pad=636:1130:0:385:white[padded] -map [padded] -map 2:a output_0\final_video_funny.mp4
2025-02-23 21:00:41,341 - pipeline.Step_6_video_generation - ERROR - Error generating video: Command '['ffmpeg', '-y', '-i', 'temp_0\\video\\video_20250223_205945.mp4', '-i', 'output_0\\commentary_funny.wav', '-c:v', 'libx264', '-preset', 'medium', '-crf', '23', '-c:a', 'aac', '-b:a', '192k', '-shortest', '-filter_complex', '[0:v]pad=636:1130:0:385:white[padded]', '-map', '[padded]', '-map', '2:a', 'output_0\\final_video_funny.mp4']' returned non-zero exit status 4294967274.
2025-02-23 21:00:41,347 - new_bot - ERROR - Error processing video file: Failed to generate final video
2025-02-23 21:00:41,348 - __main__ - INFO - Status update: âŒ Error processing video: Failed to generate final video
Please try again or contact support.
2025-02-23 21:00:41,351 - __main__ - ERROR - No video data found after processing
2025-02-23 21:00:41,498 - __main__ - INFO - Cleanup completed successfully
2025-02-23 21:01:52,260 - __main__ - INFO - Checking environment variables...
2025-02-23 21:01:52,261 - __main__ - INFO - âœ“ Found OPENAI_API_KEY in environment
2025-02-23 21:01:52,261 - __main__ - INFO - âœ“ Found DEEPSEEK_API_KEY in environment
2025-02-23 21:01:52,262 - __main__ - INFO - âœ“ Found GOOGLE_APPLICATION_CREDENTIALS_JSON in environment
2025-02-23 21:01:52,263 - __main__ - INFO - Attempting to parse Google credentials...
2025-02-23 21:01:52,263 - __main__ - WARNING - Direct JSON parsing failed: Invalid control character at: line 1 column 175 (char 174)
2025-02-23 21:01:52,266 - __main__ - INFO - âœ“ Google credentials configured successfully
2025-02-23 21:01:52,266 - __main__ - INFO - âœ“ Configuration loaded successfully
2025-02-23 21:01:52,270 - new_bot - INFO - Checking environment variables...
2025-02-23 21:01:52,270 - new_bot - INFO - âœ“ Found OPENAI_API_KEY in environment
2025-02-23 21:01:52,270 - new_bot - INFO - âœ“ Found DEEPSEEK_API_KEY in environment
2025-02-23 21:01:52,271 - new_bot - INFO - âœ“ Found GOOGLE_APPLICATION_CREDENTIALS_JSON in environment
2025-02-23 21:01:52,271 - new_bot - INFO - Attempting to parse Google credentials...
2025-02-23 21:01:52,272 - new_bot - WARNING - Direct JSON parsing failed: Invalid control character at: line 1 column 175 (char 174)
2025-02-23 21:01:52,274 - new_bot - INFO - âœ“ Google credentials configured successfully
2025-02-23 21:02:12,813 - __main__ - INFO - Checking environment variables...
2025-02-23 21:02:12,819 - __main__ - INFO - âœ“ Found OPENAI_API_KEY in environment
2025-02-23 21:02:12,821 - __main__ - INFO - âœ“ Found DEEPSEEK_API_KEY in environment
2025-02-23 21:02:12,823 - __main__ - INFO - âœ“ Found GOOGLE_APPLICATION_CREDENTIALS_JSON in environment
2025-02-23 21:02:12,828 - __main__ - INFO - Attempting to parse Google credentials...
2025-02-23 21:02:12,830 - __main__ - WARNING - Direct JSON parsing failed: Invalid control character at: line 1 column 175 (char 174)
2025-02-23 21:02:12,840 - __main__ - INFO - âœ“ Google credentials configured successfully
2025-02-23 21:02:12,842 - __main__ - INFO - âœ“ Configuration loaded successfully
2025-02-23 21:02:12,896 - __main__ - INFO - Initializing StreamlitUpdate
2025-02-23 21:02:12,902 - __main__ - INFO - Initializing StreamlitContext
2025-02-23 21:02:12,905 - __main__ - INFO - Processing video URL: https://x.com/AMAZlNGNATURE/status/1886229103587602773
2025-02-23 21:02:12,906 - __main__ - INFO - Status update: ğŸ¬ Starting video processing...

0% â–±â–±â–±â–±â–±â–±â–±â–±â–±â–±
2025-02-23 21:02:12,910 - __main__ - INFO - Status update: ğŸ“¥ Downloading video...

10% â–°â–±â–±â–±â–±â–±â–±â–±â–±â–±
2025-02-23 21:02:12,912 - new_bot - INFO - Downloading video from: https://x.com/AMAZlNGNATURE/status/1886229103587602773
2025-02-23 21:02:12,914 - pipeline.Step_1_download_video - INFO - Downloading video from: https://twitter.com/AMAZlNGNATURE/status/1886229103587602773
2025-02-23 21:02:22,434 - pipeline.Step_1_download_video - INFO - Download completed
2025-02-23 21:02:22,435 - pipeline.Step_1_download_video - INFO - Downloaded file: temp_0\video\video_20250223_210214.mp4
2025-02-23 21:02:22,456 - new_bot - INFO - Starting video processing...
2025-02-23 21:02:22,458 - new_bot - INFO - Extracting frames...
2025-02-23 21:02:22,458 - __main__ - INFO - Status update: ğŸï¸ Extracting frames...

30% â–°â–°â–°â–±â–±â–±â–±â–±â–±â–±
2025-02-23 21:02:22,505 - pipeline.Step_2_extract_frames - INFO - Analyzing video for key frames...
2025-02-23 21:02:22,518 - pipeline.Step_2_extract_frames - INFO - Progress: 0.0%
2025-02-23 21:02:22,790 - pipeline.Step_2_extract_frames - INFO - Saved frame at 0.30s (scene_change=False, motion=2.43
2025-02-23 21:02:22,856 - pipeline.Step_2_extract_frames - INFO - Saved frame at 0.40s (scene_change=False, motion=2.41
2025-02-23 21:02:22,924 - pipeline.Step_2_extract_frames - INFO - Saved frame at 0.50s (scene_change=False, motion=2.24
2025-02-23 21:02:23,004 - pipeline.Step_2_extract_frames - INFO - Saved frame at 0.60s (scene_change=False, motion=2.09
2025-02-23 21:02:24,690 - pipeline.Step_2_extract_frames - INFO - Saved frame at 2.70s (scene_change=False, motion=2.23
2025-02-23 21:02:24,760 - pipeline.Step_2_extract_frames - INFO - Saved frame at 2.80s (scene_change=False, motion=2.09
2025-02-23 21:02:24,828 - pipeline.Step_2_extract_frames - INFO - Saved frame at 2.90s (scene_change=False, motion=2.17
2025-02-23 21:02:31,065 - pipeline.Step_2_extract_frames - INFO - Progress: 29.9%
2025-02-23 21:02:36,123 - pipeline.Step_2_extract_frames - INFO - Saved frame at 16.10s (scene_change=False, motion=2.09
2025-02-23 21:02:36,201 - pipeline.Step_2_extract_frames - INFO - Saved frame at 16.20s (scene_change=False, motion=2.42
2025-02-23 21:02:36,278 - pipeline.Step_2_extract_frames - INFO - Saved frame at 16.30s (scene_change=False, motion=2.80
2025-02-23 21:02:36,356 - pipeline.Step_2_extract_frames - INFO - Saved frame at 16.40s (scene_change=False, motion=3.02
2025-02-23 21:02:36,434 - pipeline.Step_2_extract_frames - INFO - Saved frame at 16.50s (scene_change=False, motion=3.00
2025-02-23 21:02:36,505 - pipeline.Step_2_extract_frames - INFO - Saved frame at 16.60s (scene_change=False, motion=2.77
2025-02-23 21:02:36,578 - pipeline.Step_2_extract_frames - INFO - Saved frame at 16.70s (scene_change=False, motion=2.67
2025-02-23 21:02:36,652 - pipeline.Step_2_extract_frames - INFO - Saved frame at 16.80s (scene_change=False, motion=2.49
2025-02-23 21:02:36,724 - pipeline.Step_2_extract_frames - INFO - Saved frame at 16.90s (scene_change=False, motion=2.08
2025-02-23 21:02:36,729 - pipeline.Step_2_extract_frames - INFO - Extracted 16 key frames
2025-02-23 21:02:36,730 - new_bot - INFO - Analyzing frames...
2025-02-23 21:02:36,731 - __main__ - INFO - Status update: ğŸ” Analyzing video content...

50% â–°â–°â–°â–°â–°â–±â–±â–±â–±â–±
2025-02-23 21:02:37,108 - pipeline.Step_3_analyze_frames - INFO - Selected 3 key frames for analysis
2025-02-23 21:02:49,770 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-23 21:02:55,027 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-23 21:02:59,843 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-23 21:02:59,858 - pipeline.Step_3_analyze_frames - INFO - Analysis complete. Results saved to output_0\final_analysis.json
2025-02-23 21:02:59,862 - new_bot - INFO - Generating commentary in ur...
2025-02-23 21:02:59,864 - __main__ - INFO - Status update: ğŸ’­ Generating commentary...

70% â–°â–°â–°â–°â–°â–°â–°â–±â–±â–±
2025-02-23 21:02:59,870 - pipeline.Step_4_generate_commentary - INFO - 
=== STARTING COMMENTARY GENERATION ===
2025-02-23 21:02:59,871 - pipeline.Step_4_generate_commentary - INFO - Content Type: funny
2025-02-23 21:02:59,872 - pipeline.Step_4_generate_commentary - INFO - Analysis File: output_0\final_analysis.json
2025-02-23 21:03:00,216 - pipeline.Step_4_generate_commentary - INFO - 
=== VIDEO TEXT FROM METADATA ===
2025-02-23 21:03:00,217 - pipeline.Step_4_generate_commentary - INFO - No text found in metadata
2025-02-23 21:03:00,218 - pipeline.Step_4_generate_commentary - INFO - 
=== SYSTEM PROMPT ===
2025-02-23 21:03:00,220 - pipeline.Step_4_generate_commentary - INFO - You are an entertaining commentator. Create humorous commentary that:
- Uses witty observations and jokes
- Maintains light and playful tone
- Includes appropriate humor
- Emphasizes amusing moments
- Keeps engagement through humor
2025-02-23 21:03:00,222 - pipeline.Step_4_generate_commentary - INFO - 
=== USER PROMPT ===
2025-02-23 21:03:00,222 - pipeline.Step_4_generate_commentary - INFO - Generate a VERY SHORT UR commentary (1-2 lines maximum) for this video in funny style.

VIDEO CONTENT:
Title: Nature is Amazing â˜˜ï¸ - The chicken has figured out how her feeder works Now closes it in time so the alpacas don't eat all the food.
Description: The chicken has figured out how her feeder works Now closes it in time so the alpacas don't eat all the food. https://t.co/GVBsJu9Lr9

VISUAL ANALYSIS:

Key visual elements (with confidence):
- Camelids (0.96)
- Alpaca (0.91)
- Llama (0.91)
- Terrestrial animal (0.89)
- Deer (0.82)
- Lawn (0.73)
- Livestock (0.71)

Detailed scene descriptions:
- 1. **Main Focus or Subject:**
   The primary focus of this frame is the interaction between the chicken and the alpaca. The scene is set outdoors on a grassy area with visible vegetation and a feeder next to the chicken.

2. **Actions, Movements, or Interactions:**
   The chicken is positioned next to a feeder, suggesting the action related to the videoâ€™s narrative where it allegedly manipulates the feeder to control access to the food. The alpaca stands nearby on the lawn, likely trying to access the feeder, which aligns with the video's context of preventing alpacas from eating the chicken's food.

3. **Significant Details:**
   - The chicken is close to the feeder, implying its role in managing the feeder operation.
   - The presence of the alpaca supports the narrative of the chicken engaging with the feeder to prevent the alpaca from eating the food.

4. **Connection to Overall Story:**
   This moment exemplifies the intelligence and behavior described in the video where the chicken actively participates in managing her resources against the larger animal, the alpaca. It visually represents the clever interaction and problem-solving ability of the chicken, making it a pivotal moment in illustrating the video's amusing theme.

5. **Correcting Potential Misidentifications:**
   - The frame does indeed show an alpaca, which matches the initial computer vision analysis. The presence of a chicken should have been noted as well, as it plays a crucial role in the videoâ€™s story
- 1. **Main Focus/Subject**: The primary focus of this frame is on the interaction between the chicken and the feeder, with the alpaca observing from nearby. The frame illustrates the chicken's cleverness in managing its food source, aligning with the video title and description.

2. **Actions/Movements/Interactions**: In the frame, the chicken is positioned next to a feeder, likely involved in opening or closing it. The alpaca stands to the right, seemingly interested in the feeder but unable (or not yet attempting) to access it due to the chicken's actions.

3. **Significant Details**: The setting includes a grassy area with a fenced backdrop, suggesting a domestic or farm environment. The presence of the feeder and the interaction between species emphasize the videoâ€™s narrative of resource management and interspecies dynamics.

4. **Connection to Overall Story**: This moment captures the essence of the videoâ€™s storyâ€”a chicken using its wit to control food access and prevent the alpacas from eating the feed. The image highlights the chickenâ€™s intelligence and initiative, central to the narrative.

5. **Correcting Misidentifications**: The presence of an alpaca is correctly identified. Though llamas and camels were detected with high confidence, no such animals appear in the frame. There is also no indication of deer; the focus remains on the chicken and alpaca interaction.

6. **Distinguishing Between Similar Animals**: The animal to the right is indeed an alp


STRICT REQUIREMENTS:
1. MUST be 1-2 lines only - no exceptions
2. Focus on combining the video description with what is actually shown in the video
3. If there is text in the video, incorporate it naturally
4. Match the funny style while staying extremely brief
5. Make it engaging but concise
6. Format for ur
7. Ensure commentary reflects both visual content and video description
8. Correct any obvious errors in object detection (e.g., if a deer was labeled as a dog)
9. Use proper Urdu script and punctuation (Û”ØŒ ØŸ)
2025-02-23 21:03:00,236 - pipeline.Step_4_generate_commentary - INFO - 
=== GENERATING COMMENTARY ===
2025-02-23 21:03:02,198 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-23 21:03:02,201 - pipeline.Step_4_generate_commentary - INFO - 
=== RAW GENERATED COMMENTARY ===
2025-02-23 21:03:02,201 - pipeline.Step_4_generate_commentary - INFO - Ú†Ú©Ù† Ù†Û’ Ø¢Ù„ÙˆÚ©ÙˆÚº Ú©Û’ Ø¨Ú¾ÙˆÚ©Û’ Ø¯Ù„ÙˆÚº Ú©Ùˆ Ø³Ù†Ø¨Ú¾Ø§Ù„ Ù„ÛŒØ§! Ø§Ø¨ ÙˆÛ Ø§Ù¾Ù†Û’ ÙÛŒÚˆØ± Ú©Ø§ "Ú†Ú©Ù† Ú©ÛŒ Ø­ÙØ§Ø¸Øª" Ù…ÙˆÚˆ Ú†Ù„Ø§ Ø±ÛÛŒ ÛÛ’ØŒ Ú©ÛŒØ§ Ú©ÙˆØ¦ÛŒ Ø§Ø³Û’ "Ù…Ø§Úº" Ú©ÛÛ’ Ú¯Ø§ØŸ ğŸ˜„ğŸ”âœ¨
2025-02-23 21:03:02,202 - pipeline.Step_4_generate_commentary - INFO - 
=== PROCESSED COMMENTARY ===
2025-02-23 21:03:02,203 - pipeline.Step_4_generate_commentary - INFO - Ú†Ú©Ù† Ù†Û’ Ø¢Ù„ÙˆÚ©ÙˆÚº Ú©Û’ Ø¨Ú¾ÙˆÚ©Û’ Ø¯Ù„ÙˆÚº Ú©Ùˆ Ø³Ù†Ø¨Ú¾Ø§Ù„ Ù„ÛŒØ§! Ø§Ø¨ ÙˆÛ Ø§Ù¾Ù†Û’ ÙÛŒÚˆØ± Ú©Ø§ "Ú†Ú©Ù† Ú©ÛŒ Ø­ÙØ§Ø¸Øª" Ù…ÙˆÚˆ Ú†Ù„Ø§ Ø±ÛÛŒ ÛÛ’ØŒ<break time="0.5s"/> Ú©ÛŒØ§ Ú©ÙˆØ¦ÛŒ Ø§Ø³Û’ "Ù…Ø§Úº" Ú©ÛÛ’ Ú¯Ø§ØŸ ğŸ˜„ğŸ”âœ¨
2025-02-23 21:03:02,203 - pipeline.Step_4_generate_commentary - INFO - 
=== FINAL COMMENTARY OBJECT ===
2025-02-23 21:03:02,204 - pipeline.Step_4_generate_commentary - INFO - {
  "style": "funny",
  "commentary": "Ú†Ú©Ù† Ù†Û’ Ø¢Ù„ÙˆÚ©ÙˆÚº Ú©Û’ Ø¨Ú¾ÙˆÚ©Û’ Ø¯Ù„ÙˆÚº Ú©Ùˆ Ø³Ù†Ø¨Ú¾Ø§Ù„ Ù„ÛŒØ§! Ø§Ø¨ ÙˆÛ Ø§Ù¾Ù†Û’ ÙÛŒÚˆØ± Ú©Ø§ \"Ú†Ú©Ù† Ú©ÛŒ Ø­ÙØ§Ø¸Øª\" Ù…ÙˆÚˆ Ú†Ù„Ø§ Ø±ÛÛŒ ÛÛ’ØŒ<break time=\"0.5s\"/> Ú©ÛŒØ§ Ú©ÙˆØ¦ÛŒ Ø§Ø³Û’ \"Ù…Ø§Úº\" Ú©ÛÛ’ Ú¯Ø§ØŸ ğŸ˜„ğŸ”âœ¨",
  "metadata": {
    "title": "Nature is Amazing â˜˜ï¸ - The chicken has figured out how her feeder works Now closes it in time so the alpacas don't eat all the food.",
    "duration": 33.43333333333333,
    "description": "The chicken has figured out how her feeder works Now closes it in time so the alpacas don't eat all the food. https://t.co/GVBsJu9Lr9",
    "uploader": "Nature is Amazing â˜˜ï¸",
    "view_count": null,
    "like_count": 141278,
    "upload_date": "20250203",
    "scene_changes": [],
    "motion_scores": [
      [
        "output_0\\frames\\frame_0.30s.jpg",
        2.4328114986419678
      ],
      [
        "output_0\\frames\\frame_0.40s.jpg",
        2.40671443939209
      ],
      [
        "output_0\\frames\\frame_0.50s.jpg",
        2.242037296295166
      ],
      [
        "output_0\\frames\\frame_0.60s.jpg",
        2.093170404434204
      ],
      [
        "output_0\\frames\\frame_2.70s.jpg",
        2.2306339740753174
      ],
      [
        "output_0\\frames\\frame_2.80s.jpg",
        2.085573196411133
      ],
      [
        "output_0\\frames\\frame_2.90s.jpg",
        2.167114019393921
      ],
      [
        "output_0\\frames\\frame_16.10s.jpg",
        2.091686248779297
      ],
      [
        "output_0\\frames\\frame_16.20s.jpg",
        2.42148494720459
      ],
      [
        "output_0\\frames\\frame_16.30s.jpg",
        2.7960448265075684
      ],
      [
        "output_0\\frames\\frame_16.40s.jpg",
        3.0180258750915527
      ],
      [
        "output_0\\frames\\frame_16.50s.jpg",
        3.00411319732666
      ],
      [
        "output_0\\frames\\frame_16.60s.jpg",
        2.7661421298980713
      ],
      [
        "output_0\\frames\\frame_16.70s.jpg",
        2.6690316200256348
      ],
      [
        "output_0\\frames\\frame_16.80s.jpg",
        2.4878687858581543
      ],
      [
        "output_0\\frames\\frame_16.90s.jpg",
        2.0821049213409424
      ]
    ],
    "language": "ur"
  },
  "language": "ur"
}
2025-02-23 21:03:02,212 - pipeline.Step_4_generate_commentary - INFO - 
=== PROCESSING FOR AUDIO ===
2025-02-23 21:03:02,212 - pipeline.Step_4_generate_commentary - INFO - Language: ur
2025-02-23 21:03:02,214 - pipeline.Step_4_generate_commentary - INFO - 
=== FINAL AUDIO SCRIPT ===
2025-02-23 21:03:02,215 - pipeline.Step_4_generate_commentary - INFO - Ú†Ú©Ù† Ù†Û’ Ø¢Ù„ÙˆÚ©ÙˆÚº Ú©Û’ Ø¨Ú¾ÙˆÚ©Û’ Ø¯Ù„ÙˆÚº Ú©Ùˆ Ø³Ù†Ø¨Ú¾Ø§Ù„ Ù„ÛŒØ§! Ø§Ø¨ ÙˆÛ Ø§Ù¾Ù†Û’ ÙÛŒÚˆØ± Ú©Ø§ Ú†Ú©Ù† Ú©ÛŒ Ø­ÙØ§Ø¸Øª Ù…ÙˆÚˆ Ú†Ù„Ø§ Ø±ÛÛŒ ÛÛ’ØŒ<break time="0.5s"/> Ú©ÛŒØ§ Ú©ÙˆØ¦ÛŒ Ø§Ø³Û’ Ù…Ø§Úº Ú©ÛÛ’ Ú¯Ø§ØŸ<break time="0.8s"/>
2025-02-23 21:03:02,217 - new_bot - INFO - Generating audio in ur...
2025-02-23 21:03:02,217 - __main__ - INFO - Status update: ğŸ™ï¸ Synthesizing voice...

80% â–°â–°â–°â–°â–°â–°â–°â–°â–±â–±
2025-02-23 21:03:02,232 - pipeline.Step_5_generate_audio - INFO - Generating audio for text: Ú†Ú©Ù† Ù†Û’ Ø¢Ù„ÙˆÚ©ÙˆÚº Ú©Û’ Ø¨Ú¾ÙˆÚ©Û’ Ø¯Ù„ÙˆÚº Ú©Ùˆ Ø³Ù†Ø¨Ú¾Ø§Ù„ Ù„ÛŒØ§! Ø§Ø¨ ÙˆÛ Ø§Ù¾Ù†Û’ ÙÛŒÚˆØ± Ú©Ø§ "Ú†Ú©Ù† Ú©ÛŒ Ø­ÙØ§Ø¸Øª" Ù…ÙˆÚˆ Ú†Ù„Ø§ Ø±ÛÛŒ ÛÛ’ØŒ<break t...
2025-02-23 21:03:02,943 - pipeline.Step_5_generate_audio - INFO - Successfully generated audio file: output_0\commentary_funny.wav
2025-02-23 21:03:02,943 - new_bot - INFO - Generating final video...
2025-02-23 21:03:02,944 - __main__ - INFO - Status update: ğŸ¥ Creating final video...

85% â–°â–°â–°â–°â–°â–°â–°â–°â–°â–±
2025-02-23 21:03:02,986 - pipeline.Step_6_video_generation - INFO - FFmpeg verified successfully
2025-02-23 21:03:03,049 - pipeline.Step_6_video_generation - WARNING - No logo found for style funny
2025-02-23 21:03:03,050 - pipeline.Step_6_video_generation - INFO - FFmpeg command: ffmpeg -y -i temp_0\video\video_20250223_210214.mp4 -i output_0\commentary_funny.wav -c:v libx264 -preset medium -crf 23 -c:a aac -b:a 192k -shortest -filter_complex [0:v]pad=636:1130:0:385:white[padded] -map [padded] -map 2:a output_0\final_video_funny.mp4
2025-02-23 21:03:03,138 - pipeline.Step_6_video_generation - ERROR - Error generating video: Command '['ffmpeg', '-y', '-i', 'temp_0\\video\\video_20250223_210214.mp4', '-i', 'output_0\\commentary_funny.wav', '-c:v', 'libx264', '-preset', 'medium', '-crf', '23', '-c:a', 'aac', '-b:a', '192k', '-shortest', '-filter_complex', '[0:v]pad=636:1130:0:385:white[padded]', '-map', '[padded]', '-map', '2:a', 'output_0\\final_video_funny.mp4']' returned non-zero exit status 4294967274.
2025-02-23 21:03:03,149 - new_bot - ERROR - Error processing video file: Failed to generate final video
2025-02-23 21:03:03,149 - __main__ - INFO - Status update: âŒ Error processing video: Failed to generate final video
Please try again or contact support.
2025-02-23 21:03:03,153 - __main__ - ERROR - No video data found after processing
2025-02-23 21:03:03,257 - __main__ - INFO - Cleanup completed successfully
2025-02-23 21:20:21,399 - __main__ - INFO - Checking environment variables...
2025-02-23 21:20:21,399 - __main__ - INFO - âœ“ Found OPENAI_API_KEY in environment
2025-02-23 21:20:21,400 - __main__ - INFO - âœ“ Found DEEPSEEK_API_KEY in environment
2025-02-23 21:20:21,401 - __main__ - INFO - âœ“ Found GOOGLE_APPLICATION_CREDENTIALS_JSON in environment
2025-02-23 21:20:21,402 - __main__ - INFO - Attempting to parse Google credentials...
2025-02-23 21:20:21,403 - __main__ - WARNING - Direct JSON parsing failed: Invalid control character at: line 1 column 175 (char 174)
2025-02-23 21:20:21,405 - __main__ - INFO - âœ“ Google credentials configured successfully
2025-02-23 21:20:21,407 - __main__ - INFO - âœ“ Configuration loaded successfully
2025-02-23 21:20:21,413 - new_bot - INFO - Checking environment variables...
2025-02-23 21:20:21,414 - new_bot - INFO - âœ“ Found OPENAI_API_KEY in environment
2025-02-23 21:20:21,414 - new_bot - INFO - âœ“ Found DEEPSEEK_API_KEY in environment
2025-02-23 21:20:21,415 - new_bot - INFO - âœ“ Found GOOGLE_APPLICATION_CREDENTIALS_JSON in environment
2025-02-23 21:20:21,416 - new_bot - INFO - Attempting to parse Google credentials...
2025-02-23 21:20:21,417 - new_bot - WARNING - Direct JSON parsing failed: Invalid control character at: line 1 column 175 (char 174)
2025-02-23 21:20:21,419 - new_bot - INFO - âœ“ Google credentials configured successfully
2025-02-23 21:20:52,705 - __main__ - INFO - Checking environment variables...
2025-02-23 21:20:52,708 - __main__ - INFO - âœ“ Found OPENAI_API_KEY in environment
2025-02-23 21:20:52,711 - __main__ - INFO - âœ“ Found DEEPSEEK_API_KEY in environment
2025-02-23 21:20:52,713 - __main__ - INFO - âœ“ Found GOOGLE_APPLICATION_CREDENTIALS_JSON in environment
2025-02-23 21:20:52,716 - __main__ - INFO - Attempting to parse Google credentials...
2025-02-23 21:20:52,717 - __main__ - WARNING - Direct JSON parsing failed: Invalid control character at: line 1 column 175 (char 174)
2025-02-23 21:20:52,724 - __main__ - INFO - âœ“ Google credentials configured successfully
2025-02-23 21:20:52,725 - __main__ - INFO - âœ“ Configuration loaded successfully
2025-02-23 21:20:52,770 - __main__ - INFO - Initializing StreamlitUpdate
2025-02-23 21:20:52,777 - __main__ - INFO - Initializing StreamlitContext
2025-02-23 21:20:52,790 - __main__ - INFO - Processing video URL: https://x.com/AMAZlNGNATURE/status/1886229103587602773
2025-02-23 21:20:52,795 - __main__ - INFO - Status update: ğŸ¬ Starting video processing...

0% â–±â–±â–±â–±â–±â–±â–±â–±â–±â–±
2025-02-23 21:20:52,804 - __main__ - INFO - Status update: ğŸ“¥ Downloading video...

10% â–°â–±â–±â–±â–±â–±â–±â–±â–±â–±
2025-02-23 21:20:52,810 - new_bot - INFO - Downloading video from: https://x.com/AMAZlNGNATURE/status/1886229103587602773
2025-02-23 21:20:52,812 - pipeline.Step_1_download_video - INFO - Downloading video from: https://twitter.com/AMAZlNGNATURE/status/1886229103587602773
2025-02-23 21:21:02,795 - pipeline.Step_1_download_video - INFO - Download completed
2025-02-23 21:21:02,796 - pipeline.Step_1_download_video - INFO - Downloaded file: temp_0\video\video_20250223_212054.mp4
2025-02-23 21:21:02,822 - new_bot - INFO - Starting video processing...
2025-02-23 21:21:02,823 - new_bot - INFO - Extracting frames...
2025-02-23 21:21:02,824 - __main__ - INFO - Status update: ğŸï¸ Extracting frames...

30% â–°â–°â–°â–±â–±â–±â–±â–±â–±â–±
2025-02-23 21:21:02,884 - pipeline.Step_2_extract_frames - INFO - Analyzing video for key frames...
2025-02-23 21:21:02,910 - pipeline.Step_2_extract_frames - INFO - Progress: 0.0%
2025-02-23 21:21:03,479 - pipeline.Step_2_extract_frames - INFO - Saved frame at 0.30s (scene_change=False, motion=2.43
2025-02-23 21:21:03,634 - pipeline.Step_2_extract_frames - INFO - Saved frame at 0.40s (scene_change=False, motion=2.41
2025-02-23 21:21:03,784 - pipeline.Step_2_extract_frames - INFO - Saved frame at 0.50s (scene_change=False, motion=2.24
2025-02-23 21:21:03,940 - pipeline.Step_2_extract_frames - INFO - Saved frame at 0.60s (scene_change=False, motion=2.09
2025-02-23 21:21:07,193 - pipeline.Step_2_extract_frames - INFO - Saved frame at 2.70s (scene_change=False, motion=2.23
2025-02-23 21:21:07,338 - pipeline.Step_2_extract_frames - INFO - Saved frame at 2.80s (scene_change=False, motion=2.09
2025-02-23 21:21:07,480 - pipeline.Step_2_extract_frames - INFO - Saved frame at 2.90s (scene_change=False, motion=2.17
2025-02-23 21:21:18,063 - pipeline.Step_2_extract_frames - INFO - Progress: 29.9%
2025-02-23 21:21:27,420 - pipeline.Step_2_extract_frames - INFO - Saved frame at 16.10s (scene_change=False, motion=2.09
2025-02-23 21:21:27,570 - pipeline.Step_2_extract_frames - INFO - Saved frame at 16.20s (scene_change=False, motion=2.42
2025-02-23 21:21:27,713 - pipeline.Step_2_extract_frames - INFO - Saved frame at 16.30s (scene_change=False, motion=2.80
2025-02-23 21:21:27,854 - pipeline.Step_2_extract_frames - INFO - Saved frame at 16.40s (scene_change=False, motion=3.02
2025-02-23 21:21:27,996 - pipeline.Step_2_extract_frames - INFO - Saved frame at 16.50s (scene_change=False, motion=3.00
2025-02-23 21:21:28,146 - pipeline.Step_2_extract_frames - INFO - Saved frame at 16.60s (scene_change=False, motion=2.77
2025-02-23 21:21:28,297 - pipeline.Step_2_extract_frames - INFO - Saved frame at 16.70s (scene_change=False, motion=2.67
2025-02-23 21:21:28,440 - pipeline.Step_2_extract_frames - INFO - Saved frame at 16.80s (scene_change=False, motion=2.49
2025-02-23 21:21:28,584 - pipeline.Step_2_extract_frames - INFO - Saved frame at 16.90s (scene_change=False, motion=2.08
2025-02-23 21:21:28,590 - pipeline.Step_2_extract_frames - INFO - Extracted 16 key frames
2025-02-23 21:21:28,591 - new_bot - INFO - Analyzing frames...
2025-02-23 21:21:28,592 - __main__ - INFO - Status update: ğŸ” Analyzing video content...

50% â–°â–°â–°â–°â–°â–±â–±â–±â–±â–±
2025-02-23 21:21:29,325 - pipeline.Step_3_analyze_frames - INFO - Selected 3 key frames for analysis
2025-02-23 21:21:43,780 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-23 21:21:48,797 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-23 21:21:54,097 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-23 21:21:54,116 - pipeline.Step_3_analyze_frames - INFO - Analysis complete. Results saved to output_0\final_analysis.json
2025-02-23 21:21:54,119 - new_bot - INFO - Generating commentary in ur...
2025-02-23 21:21:54,122 - __main__ - INFO - Status update: ğŸ’­ Generating commentary...

70% â–°â–°â–°â–°â–°â–°â–°â–±â–±â–±
2025-02-23 21:21:54,127 - pipeline.Step_4_generate_commentary - INFO - 
=== STARTING COMMENTARY GENERATION ===
2025-02-23 21:21:54,129 - pipeline.Step_4_generate_commentary - INFO - Content Type: funny
2025-02-23 21:21:54,130 - pipeline.Step_4_generate_commentary - INFO - Analysis File: output_0\final_analysis.json
2025-02-23 21:21:54,891 - pipeline.Step_4_generate_commentary - INFO - 
=== VIDEO TEXT FROM METADATA ===
2025-02-23 21:21:54,892 - pipeline.Step_4_generate_commentary - INFO - No text found in metadata
2025-02-23 21:21:54,893 - pipeline.Step_4_generate_commentary - INFO - 
=== SYSTEM PROMPT ===
2025-02-23 21:21:54,893 - pipeline.Step_4_generate_commentary - INFO - You are an entertaining commentator. Create humorous commentary that:
- Uses witty observations and jokes
- Maintains light and playful tone
- Includes appropriate humor
- Emphasizes amusing moments
- Keeps engagement through humor
2025-02-23 21:21:54,895 - pipeline.Step_4_generate_commentary - INFO - 
=== USER PROMPT ===
2025-02-23 21:21:54,896 - pipeline.Step_4_generate_commentary - INFO - Generate a VERY SHORT UR commentary (1-2 lines maximum) for this video in funny style.

VIDEO CONTENT:
Title: Nature is Amazing â˜˜ï¸ - The chicken has figured out how her feeder works Now closes it in time so the alpacas don't eat all the food.
Description: The chicken has figured out how her feeder works Now closes it in time so the alpacas don't eat all the food. https://t.co/GVBsJu9Lr9

VISUAL ANALYSIS:

Key visual elements (with confidence):
- Camelids (0.96)
- Alpaca (0.91)
- Llama (0.91)
- Terrestrial animal (0.89)
- Deer (0.82)
- Lawn (0.73)
- Livestock (0.71)

Detailed scene descriptions:
- 1. **Main Focus/Subject**: The central focus of the frame is on the interaction between the chicken and the alpaca. This relates to the video's context, where the chicken has learned to manage her feeder to prevent the alpacas from consuming her food.

2. **Actions and Interactions**: In this frame, the chicken is near a feeder, likely involved in closing it, as indicated by the context. The alpaca is standing close, possibly observing or waiting for the opportunity to access the food.

3. **Significant Details**: 
   - The feeder's proximity to the chicken suggests that she is actively managing access to it.
   - The presence of the alpaca gives context to the chicken's actions, highlighting its intelligence and resourcefulness as described in the video.

4. **Connection to Overall Story**: This moment visually demonstrates the video's narrative of the chicken's cleverness in managing her food source, showcasing her understanding of the feeder mechanism and her ability to act to safeguard her food.

5. **Correcting Misidentifications**: The computer vision analysis has correctly identified an alpaca, which aligns with the scene's context. There are no deer or llamas in this frame, correcting any potential misidentifications that were previously noted.

6. **Similar Animals**: The animal in question is indeed an alpaca, not a llama or deer, considering its physical features and environment, confirming the accuracy within the given context. 

This frame exemplifies the
- ### Analysis of the Frame:

1. **Main Focus/Subject:**
   - The main focus of the frame is a chicken near a feeder with an alpaca approaching. This setup directly relates to the video title and description, emphasizing the chicken's cleverness in managing the feeder to prevent the alpacas from consuming all the food.

2. **Actions and Interactions:**
   - The chicken is positioned at the feeder, presumably interacting with it, either to access or close it. The alpaca appears to be approaching the feeder, likely attracted by the prospect of food.

3. **Significant Details:**
   - The frame captures a pastoral scene with elements like grass and a few structures, indicating a rural or farm-like setting.
   - The feeder is a crucial detail, consistent with the narrative that the chicken is actively managing it.

4. **Connection to the Narrative:**
   - This moment is pivotal in demonstrating the chicken's intelligence and timely actions. The chicken figures out the feeder's mechanism and prevents the alpacas from consuming the food, which forms the crux of the story being highlighted.

5. **Corrections to Computer Vision Analysis:**
   - The presence of an alpaca is correctly identified. However, the mention of llamas and deer seems out of context as there aren't any visible in this frame.

6. **Distinguishing Details:**
   - There is a clear visual difference between the chicken and the larger alpaca, which is important in understanding


STRICT REQUIREMENTS:
1. MUST be 1-2 lines only - no exceptions
2. Focus on combining the video description with what is actually shown in the video
3. If there is text in the video, incorporate it naturally
4. Match the funny style while staying extremely brief
5. Make it engaging but concise
6. Format for ur
7. Ensure commentary reflects both visual content and video description
8. Correct any obvious errors in object detection (e.g., if a deer was labeled as a dog)
9. Use proper Urdu script and punctuation (Û”ØŒ ØŸ)
2025-02-23 21:21:54,917 - pipeline.Step_4_generate_commentary - INFO - 
=== GENERATING COMMENTARY ===
2025-02-23 21:21:56,990 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-23 21:21:56,999 - pipeline.Step_4_generate_commentary - INFO - 
=== RAW GENERATED COMMENTARY ===
2025-02-23 21:21:57,001 - pipeline.Step_4_generate_commentary - INFO - Ú†Ú©Ù† Ù†Û’ Ø§Ù¾Ù†Û’ Ú©Ú¾Ø§Ù†Û’ Ú©Ø§ Ø¨Ù†Ø¯ÙˆØ¨Ø³Øª Ú©Ø± Ù„ÛŒØ§ ÛÛ’ØŒ Ø§Ø¨ Ø§Ù„Ù¾Ø§Ú©Ø§ ØµØ±Ù "Ú©Ú¾Ø§ Ù„ÛŒÙ†Û’" Ú©ÛŒ Ú©ÙˆØ´Ø´ Ú©Ø± Ø³Ú©ØªØ§ ÛÛ’ØŒ Ù…Ú¯Ø± ÙˆÛ Ú†Ú©Ù† Ú©Û’ "Ø¨Ù†Ø¯Ø´" Ø³Û’ Ø¨Ø§ÛØ± Ù†ÛÛŒÚº Ù†Ú©Ù„ Ø³Ú©ØªØ§Û” ğŸ˜‚ğŸ”âœ¨
2025-02-23 21:21:57,004 - pipeline.Step_4_generate_commentary - INFO - 
=== PROCESSED COMMENTARY ===
2025-02-23 21:21:57,007 - pipeline.Step_4_generate_commentary - INFO - Ú†Ú©Ù† Ù†Û’ Ø§Ù¾Ù†Û’ Ú©Ú¾Ø§Ù†Û’ Ú©Ø§ Ø¨Ù†Ø¯ÙˆØ¨Ø³Øª Ú©Ø± Ù„ÛŒØ§ ÛÛ’ØŒ<break time="0.5s"/> Ø§Ø¨ Ø§Ù„Ù¾Ø§Ú©Ø§ ØµØ±Ù "Ú©Ú¾Ø§ Ù„ÛŒÙ†Û’" Ú©ÛŒ Ú©ÙˆØ´Ø´ Ú©Ø± Ø³Ú©ØªØ§ ÛÛ’ØŒ<break time="0.5s"/> Ù…Ú¯Ø± ÙˆÛ Ú†Ú©Ù† Ú©Û’ "Ø¨Ù†Ø¯Ø´" Ø³Û’ Ø¨Ø§ÛØ± Ù†ÛÛŒÚº Ù†Ú©Ù„ Ø³Ú©ØªØ§Û”<break time="1s"/> ğŸ˜‚ğŸ”âœ¨
2025-02-23 21:21:57,010 - pipeline.Step_4_generate_commentary - INFO - 
=== FINAL COMMENTARY OBJECT ===
2025-02-23 21:21:57,013 - pipeline.Step_4_generate_commentary - INFO - {
  "style": "funny",
  "commentary": "Ú†Ú©Ù† Ù†Û’ Ø§Ù¾Ù†Û’ Ú©Ú¾Ø§Ù†Û’ Ú©Ø§ Ø¨Ù†Ø¯ÙˆØ¨Ø³Øª Ú©Ø± Ù„ÛŒØ§ ÛÛ’ØŒ<break time=\"0.5s\"/> Ø§Ø¨ Ø§Ù„Ù¾Ø§Ú©Ø§ ØµØ±Ù \"Ú©Ú¾Ø§ Ù„ÛŒÙ†Û’\" Ú©ÛŒ Ú©ÙˆØ´Ø´ Ú©Ø± Ø³Ú©ØªØ§ ÛÛ’ØŒ<break time=\"0.5s\"/> Ù…Ú¯Ø± ÙˆÛ Ú†Ú©Ù† Ú©Û’ \"Ø¨Ù†Ø¯Ø´\" Ø³Û’ Ø¨Ø§ÛØ± Ù†ÛÛŒÚº Ù†Ú©Ù„ Ø³Ú©ØªØ§Û”<break time=\"1s\"/> ğŸ˜‚ğŸ”âœ¨",
  "metadata": {
    "title": "Nature is Amazing â˜˜ï¸ - The chicken has figured out how her feeder works Now closes it in time so the alpacas don't eat all the food.",
    "duration": 33.43333333333333,
    "description": "The chicken has figured out how her feeder works Now closes it in time so the alpacas don't eat all the food. https://t.co/GVBsJu9Lr9",
    "uploader": "Nature is Amazing â˜˜ï¸",
    "view_count": null,
    "like_count": 141275,
    "upload_date": "20250203",
    "scene_changes": [],
    "motion_scores": [
      [
        "output_0\\frames\\frame_0.30s.jpg",
        2.4328114986419678
      ],
      [
        "output_0\\frames\\frame_0.40s.jpg",
        2.40671443939209
      ],
      [
        "output_0\\frames\\frame_0.50s.jpg",
        2.242037296295166
      ],
      [
        "output_0\\frames\\frame_0.60s.jpg",
        2.093170404434204
      ],
      [
        "output_0\\frames\\frame_2.70s.jpg",
        2.2306339740753174
      ],
      [
        "output_0\\frames\\frame_2.80s.jpg",
        2.085573196411133
      ],
      [
        "output_0\\frames\\frame_2.90s.jpg",
        2.167114019393921
      ],
      [
        "output_0\\frames\\frame_16.10s.jpg",
        2.091686248779297
      ],
      [
        "output_0\\frames\\frame_16.20s.jpg",
        2.42148494720459
      ],
      [
        "output_0\\frames\\frame_16.30s.jpg",
        2.7960448265075684
      ],
      [
        "output_0\\frames\\frame_16.40s.jpg",
        3.0180258750915527
      ],
      [
        "output_0\\frames\\frame_16.50s.jpg",
        3.00411319732666
      ],
      [
        "output_0\\frames\\frame_16.60s.jpg",
        2.7661421298980713
      ],
      [
        "output_0\\frames\\frame_16.70s.jpg",
        2.6690316200256348
      ],
      [
        "output_0\\frames\\frame_16.80s.jpg",
        2.4878687858581543
      ],
      [
        "output_0\\frames\\frame_16.90s.jpg",
        2.0821049213409424
      ]
    ],
    "language": "ur"
  },
  "language": "ur"
}
2025-02-23 21:21:57,038 - pipeline.Step_4_generate_commentary - INFO - 
=== PROCESSING FOR AUDIO ===
2025-02-23 21:21:57,039 - pipeline.Step_4_generate_commentary - INFO - Language: ur
2025-02-23 21:21:57,040 - pipeline.Step_4_generate_commentary - INFO - 
=== FINAL AUDIO SCRIPT ===
2025-02-23 21:21:57,041 - pipeline.Step_4_generate_commentary - INFO - Ú†Ú©Ù† Ù†Û’ Ø§Ù¾Ù†Û’ Ú©Ú¾Ø§Ù†Û’ Ú©Ø§ Ø¨Ù†Ø¯ÙˆØ¨Ø³Øª Ú©Ø± Ù„ÛŒØ§ ÛÛ’ØŒ<break time="0.5s"/> Ø§Ø¨ Ø§Ù„Ù¾Ø§Ú©Ø§ ØµØ±Ù Ú©Ú¾Ø§ Ù„ÛŒÙ†Û’ Ú©ÛŒ Ú©ÙˆØ´Ø´ Ú©Ø± Ø³Ú©ØªØ§ ÛÛ’ØŒ<break time="0.5s"/> Ù…Ú¯Ø± ÙˆÛ Ú†Ú©Ù† Ú©Û’ Ø¨Ù†Ø¯Ø´ Ø³Û’ Ø¨Ø§ÛØ± Ù†ÛÛŒÚº Ù†Ú©Ù„ Ø³Ú©ØªØ§Û”<break time="1s"/>
2025-02-23 21:21:57,044 - new_bot - INFO - Generating audio in ur...
2025-02-23 21:21:57,045 - __main__ - INFO - Status update: ğŸ™ï¸ Synthesizing voice...

80% â–°â–°â–°â–°â–°â–°â–°â–°â–±â–±
2025-02-23 21:21:57,062 - pipeline.Step_5_generate_audio - INFO - Generating audio for text: Ú†Ú©Ù† Ù†Û’ Ø§Ù¾Ù†Û’ Ú©Ú¾Ø§Ù†Û’ Ú©Ø§ Ø¨Ù†Ø¯ÙˆØ¨Ø³Øª Ú©Ø± Ù„ÛŒØ§ ÛÛ’ØŒ<break time="0.5s"/> Ø§Ø¨ Ø§Ù„Ù¾Ø§Ú©Ø§ ØµØ±Ù "Ú©Ú¾Ø§ Ù„ÛŒÙ†Û’" Ú©ÛŒ Ú©ÙˆØ´Ø´ Ú©Ø± Ø³Ú©ØªØ§...
2025-02-23 21:21:58,034 - pipeline.Step_5_generate_audio - INFO - Successfully generated audio file: output_0\commentary_funny.wav
2025-02-23 21:21:58,035 - new_bot - INFO - Generating final video...
2025-02-23 21:21:58,036 - __main__ - INFO - Status update: ğŸ¥ Creating final video...

85% â–°â–°â–°â–°â–°â–°â–°â–°â–°â–±
2025-02-23 21:21:58,085 - pipeline.Step_6_video_generation - INFO - FFmpeg verified successfully
2025-02-23 21:21:58,127 - pipeline.Step_6_video_generation - WARNING - No logo found for style funny
2025-02-23 21:21:58,128 - pipeline.Step_6_video_generation - INFO - FFmpeg command: ffmpeg -y -i temp_0\video\video_20250223_212054.mp4 -i output_0\commentary_funny.wav -c:v libx264 -preset medium -crf 23 -c:a aac -b:a 192k -shortest -filter_complex [0:v]pad=636:1130:0:385:white[padded] -map [padded] -map 2:a output_0\final_video_funny.mp4
2025-02-23 21:21:58,212 - pipeline.Step_6_video_generation - ERROR - Error generating video: Command '['ffmpeg', '-y', '-i', 'temp_0\\video\\video_20250223_212054.mp4', '-i', 'output_0\\commentary_funny.wav', '-c:v', 'libx264', '-preset', 'medium', '-crf', '23', '-c:a', 'aac', '-b:a', '192k', '-shortest', '-filter_complex', '[0:v]pad=636:1130:0:385:white[padded]', '-map', '[padded]', '-map', '2:a', 'output_0\\final_video_funny.mp4']' returned non-zero exit status 4294967274.
2025-02-23 21:21:58,224 - new_bot - ERROR - Error processing video file: Failed to generate final video
2025-02-23 21:21:58,225 - __main__ - INFO - Status update: âŒ Error processing video: Failed to generate final video
Please try again or contact support.
2025-02-23 21:21:58,231 - __main__ - ERROR - No video data found after processing
2025-02-23 21:21:58,453 - __main__ - INFO - Cleanup completed successfully
2025-02-23 21:23:45,254 - __main__ - INFO - Checking environment variables...
2025-02-23 21:23:45,256 - __main__ - INFO - âœ“ Found OPENAI_API_KEY in environment
2025-02-23 21:23:45,256 - __main__ - INFO - âœ“ Found DEEPSEEK_API_KEY in environment
2025-02-23 21:23:45,257 - __main__ - INFO - âœ“ Found GOOGLE_APPLICATION_CREDENTIALS_JSON in environment
2025-02-23 21:23:45,257 - __main__ - INFO - Attempting to parse Google credentials...
2025-02-23 21:23:45,258 - __main__ - WARNING - Direct JSON parsing failed: Invalid control character at: line 1 column 175 (char 174)
2025-02-23 21:23:45,259 - __main__ - INFO - âœ“ Google credentials configured successfully
2025-02-23 21:23:45,260 - __main__ - INFO - âœ“ Configuration loaded successfully
2025-02-23 21:23:45,262 - new_bot - INFO - Checking environment variables...
2025-02-23 21:23:45,263 - new_bot - INFO - âœ“ Found OPENAI_API_KEY in environment
2025-02-23 21:23:45,263 - new_bot - INFO - âœ“ Found DEEPSEEK_API_KEY in environment
2025-02-23 21:23:45,264 - new_bot - INFO - âœ“ Found GOOGLE_APPLICATION_CREDENTIALS_JSON in environment
2025-02-23 21:23:45,264 - new_bot - INFO - Attempting to parse Google credentials...
2025-02-23 21:23:45,265 - new_bot - WARNING - Direct JSON parsing failed: Invalid control character at: line 1 column 175 (char 174)
2025-02-23 21:23:45,266 - new_bot - INFO - âœ“ Google credentials configured successfully
2025-02-23 21:24:01,099 - __main__ - INFO - Checking environment variables...
2025-02-23 21:24:01,100 - __main__ - INFO - âœ“ Found OPENAI_API_KEY in environment
2025-02-23 21:24:01,101 - __main__ - INFO - âœ“ Found DEEPSEEK_API_KEY in environment
2025-02-23 21:24:01,101 - __main__ - INFO - âœ“ Found GOOGLE_APPLICATION_CREDENTIALS_JSON in environment
2025-02-23 21:24:01,102 - __main__ - INFO - Attempting to parse Google credentials...
2025-02-23 21:24:01,103 - __main__ - WARNING - Direct JSON parsing failed: Invalid control character at: line 1 column 175 (char 174)
2025-02-23 21:24:01,105 - __main__ - INFO - âœ“ Google credentials configured successfully
2025-02-23 21:24:01,105 - __main__ - INFO - âœ“ Configuration loaded successfully
2025-02-23 21:24:01,108 - new_bot - INFO - Checking environment variables...
2025-02-23 21:24:01,108 - new_bot - INFO - âœ“ Found OPENAI_API_KEY in environment
2025-02-23 21:24:01,109 - new_bot - INFO - âœ“ Found DEEPSEEK_API_KEY in environment
2025-02-23 21:24:01,109 - new_bot - INFO - âœ“ Found GOOGLE_APPLICATION_CREDENTIALS_JSON in environment
2025-02-23 21:24:01,110 - new_bot - INFO - Attempting to parse Google credentials...
2025-02-23 21:24:01,111 - new_bot - WARNING - Direct JSON parsing failed: Invalid control character at: line 1 column 175 (char 174)
2025-02-23 21:24:01,112 - new_bot - INFO - âœ“ Google credentials configured successfully
2025-02-23 21:24:13,439 - __main__ - INFO - Checking environment variables...
2025-02-23 21:24:13,444 - __main__ - INFO - âœ“ Found OPENAI_API_KEY in environment
2025-02-23 21:24:13,447 - __main__ - INFO - âœ“ Found DEEPSEEK_API_KEY in environment
2025-02-23 21:24:13,451 - __main__ - INFO - âœ“ Found GOOGLE_APPLICATION_CREDENTIALS_JSON in environment
2025-02-23 21:24:13,456 - __main__ - INFO - Attempting to parse Google credentials...
2025-02-23 21:24:13,459 - __main__ - WARNING - Direct JSON parsing failed: Invalid control character at: line 1 column 175 (char 174)
2025-02-23 21:24:13,468 - __main__ - INFO - âœ“ Google credentials configured successfully
2025-02-23 21:24:13,471 - __main__ - INFO - âœ“ Configuration loaded successfully
2025-02-23 21:24:13,521 - __main__ - INFO - Initializing StreamlitUpdate
2025-02-23 21:24:13,524 - __main__ - INFO - Initializing StreamlitContext
2025-02-23 21:24:13,527 - __main__ - INFO - Processing video URL: https://x.com/AMAZlNGNATURE/status/1886229103587602773
2025-02-23 21:24:13,529 - __main__ - INFO - Status update: ğŸ¬ Starting video processing...

0% â–±â–±â–±â–±â–±â–±â–±â–±â–±â–±
2025-02-23 21:24:13,532 - __main__ - INFO - Status update: ğŸ“¥ Downloading video...

10% â–°â–±â–±â–±â–±â–±â–±â–±â–±â–±
2025-02-23 21:24:13,533 - new_bot - INFO - Downloading video from: https://x.com/AMAZlNGNATURE/status/1886229103587602773
2025-02-23 21:24:13,535 - pipeline.Step_1_download_video - INFO - Downloading video from: https://twitter.com/AMAZlNGNATURE/status/1886229103587602773
2025-02-23 21:24:21,604 - pipeline.Step_1_download_video - INFO - Download completed
2025-02-23 21:24:21,605 - pipeline.Step_1_download_video - INFO - Downloaded file: temp_0\video\video_20250223_212414.mp4
2025-02-23 21:24:21,637 - new_bot - INFO - Starting video processing...
2025-02-23 21:24:21,638 - new_bot - INFO - Extracting frames...
2025-02-23 21:24:21,638 - __main__ - INFO - Status update: ğŸï¸ Extracting frames...

30% â–°â–°â–°â–±â–±â–±â–±â–±â–±â–±
2025-02-23 21:24:21,697 - pipeline.Step_2_extract_frames - INFO - Analyzing video for key frames...
2025-02-23 21:24:21,722 - pipeline.Step_2_extract_frames - INFO - Progress: 0.0%
2025-02-23 21:24:22,456 - pipeline.Step_2_extract_frames - INFO - Saved frame at 0.30s (scene_change=False, motion=2.43
2025-02-23 21:24:22,603 - pipeline.Step_2_extract_frames - INFO - Saved frame at 0.40s (scene_change=False, motion=2.41
2025-02-23 21:24:22,748 - pipeline.Step_2_extract_frames - INFO - Saved frame at 0.50s (scene_change=False, motion=2.24
2025-02-23 21:24:23,000 - pipeline.Step_2_extract_frames - INFO - Saved frame at 0.60s (scene_change=False, motion=2.09
2025-02-23 21:24:26,237 - pipeline.Step_2_extract_frames - INFO - Saved frame at 2.70s (scene_change=False, motion=2.23
2025-02-23 21:24:26,383 - pipeline.Step_2_extract_frames - INFO - Saved frame at 2.80s (scene_change=False, motion=2.09
2025-02-23 21:24:26,525 - pipeline.Step_2_extract_frames - INFO - Saved frame at 2.90s (scene_change=False, motion=2.17
2025-02-23 21:24:37,133 - pipeline.Step_2_extract_frames - INFO - Progress: 29.9%
2025-02-23 21:24:46,393 - pipeline.Step_2_extract_frames - INFO - Saved frame at 16.10s (scene_change=False, motion=2.09
2025-02-23 21:24:46,535 - pipeline.Step_2_extract_frames - INFO - Saved frame at 16.20s (scene_change=False, motion=2.42
2025-02-23 21:24:46,689 - pipeline.Step_2_extract_frames - INFO - Saved frame at 16.30s (scene_change=False, motion=2.80
2025-02-23 21:24:46,838 - pipeline.Step_2_extract_frames - INFO - Saved frame at 16.40s (scene_change=False, motion=3.02
2025-02-23 21:24:46,979 - pipeline.Step_2_extract_frames - INFO - Saved frame at 16.50s (scene_change=False, motion=3.00
2025-02-23 21:24:47,121 - pipeline.Step_2_extract_frames - INFO - Saved frame at 16.60s (scene_change=False, motion=2.77
2025-02-23 21:24:47,265 - pipeline.Step_2_extract_frames - INFO - Saved frame at 16.70s (scene_change=False, motion=2.67
2025-02-23 21:24:47,409 - pipeline.Step_2_extract_frames - INFO - Saved frame at 16.80s (scene_change=False, motion=2.49
2025-02-23 21:24:47,560 - pipeline.Step_2_extract_frames - INFO - Saved frame at 16.90s (scene_change=False, motion=2.08
2025-02-23 21:24:47,567 - pipeline.Step_2_extract_frames - INFO - Extracted 16 key frames
2025-02-23 21:24:47,568 - new_bot - INFO - Analyzing frames...
2025-02-23 21:24:47,569 - __main__ - INFO - Status update: ğŸ” Analyzing video content...

50% â–°â–°â–°â–°â–°â–±â–±â–±â–±â–±
2025-02-23 21:24:48,304 - pipeline.Step_3_analyze_frames - INFO - Selected 3 key frames for analysis
2025-02-23 21:25:05,011 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-23 21:25:11,446 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-23 21:25:16,773 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-23 21:25:16,792 - pipeline.Step_3_analyze_frames - INFO - Analysis complete. Results saved to output_0\final_analysis.json
2025-02-23 21:25:16,796 - new_bot - INFO - Generating commentary in ur...
2025-02-23 21:25:16,798 - __main__ - INFO - Status update: ğŸ’­ Generating commentary...

70% â–°â–°â–°â–°â–°â–°â–°â–±â–±â–±
2025-02-23 21:25:16,803 - pipeline.Step_4_generate_commentary - INFO - 
=== STARTING COMMENTARY GENERATION ===
2025-02-23 21:25:16,806 - pipeline.Step_4_generate_commentary - INFO - Content Type: funny
2025-02-23 21:25:16,808 - pipeline.Step_4_generate_commentary - INFO - Analysis File: output_0\final_analysis.json
2025-02-23 21:25:17,557 - pipeline.Step_4_generate_commentary - INFO - 
=== VIDEO TEXT FROM METADATA ===
2025-02-23 21:25:17,558 - pipeline.Step_4_generate_commentary - INFO - No text found in metadata
2025-02-23 21:25:17,559 - pipeline.Step_4_generate_commentary - INFO - 
=== SYSTEM PROMPT ===
2025-02-23 21:25:17,560 - pipeline.Step_4_generate_commentary - INFO - You are an entertaining commentator. Create humorous commentary that:
- Uses witty observations and jokes
- Maintains light and playful tone
- Includes appropriate humor
- Emphasizes amusing moments
- Keeps engagement through humor
2025-02-23 21:25:17,561 - pipeline.Step_4_generate_commentary - INFO - 
=== USER PROMPT ===
2025-02-23 21:25:17,562 - pipeline.Step_4_generate_commentary - INFO - Generate a VERY SHORT UR commentary (1-2 lines maximum) for this video in funny style.

VIDEO CONTENT:
Title: Nature is Amazing â˜˜ï¸ - The chicken has figured out how her feeder works Now closes it in time so the alpacas don't eat all the food.
Description: The chicken has figured out how her feeder works Now closes it in time so the alpacas don't eat all the food. https://t.co/GVBsJu9Lr9

VISUAL ANALYSIS:

Key visual elements (with confidence):
- Camelids (0.96)
- Alpaca (0.91)
- Llama (0.91)
- Terrestrial animal (0.89)
- Deer (0.82)
- Lawn (0.73)
- Livestock (0.71)

Detailed scene descriptions:
- 1. **Main Focus or Subject:**
   The frame centers around a chicken and an alpaca, highlighting an interaction where the chicken uses its understanding of the feeder mechanism. This interaction underscores the theme of ingenuity and animal behavior as described in the video title and context.

2. **Actions, Movements, or Interactions:**
   The chicken is positioned next to a feeder, seemingly attempting to operate it. The alpaca stands close by, likely observing or waiting for an opportunity to access the feed. The dynamic suggests that the chicken might soon close the feeder to prevent the alpaca from eating, aligning with the description of the video.

3. **Significant Details:**
   - The grassy lawn and the setting indicate an outdoor, possibly farm-like environment, supporting the presence of both domestic and farm animals.
   - The chickenâ€™s proximity to the feeder highlights its active role in controlling access to the food.

4. **Connection to Overall Story:**
   This frame illustrates the narrative described, where the chicken exhibits clever behavior by interacting with the feeder to manage food resources against the alpacasâ€™ interests. It visually supports the story of intelligence and adaptation in nature.

5. **Correction of Misidentifications:**
   The computer vision analysis mostly aligns with the content. The detected "camelids" and "alpaca" are likely accurate given the animal's features. There is no indication of a llama or deer present; the prominent animal next to the chicken appears to be an alpaca
- 1. **Main Focus or Subject**:
   - The primary focus of the frame is a chicken interacting with a feeder mechanism and an alpaca observing nearby. This aligns with the videoâ€™s context, where the chicken has learned to control the feeder to prevent the alpacas from consuming all the food.

2. **Actions, Movements, or Interactions**:
   - The chicken is positioned at the feeder, suggesting an action related to food access or protection. The alpaca is standing a short distance away, indicating interest or anticipation in the food resource controlled by the chicken.

3. **Significant Details**:
   - The grass and surrounding environment suggest a farm or rural setting.
   - The feeder's design implies an adjustable or closable mechanism, essential to the narrative of the chicken managing its operation.
   - The alpacaâ€™s proximity and posture indicate its intention of approaching the feeder while the chicken actively manages its operation.

4. **Connection to Overall Story**:
   - This frame visually embodies the narrative of the video, showcasing the chicken's intelligence and behavioral adaptation in managing the feeder to protect her food supply from the alpacas.

5. **Correction of Misidentifications**:
   - The detected camelid (likely the alpaca) is correctly identified. There's no evidence of deer or a llama in the frame based on typical visual characteristics.

6. **Distinguishing Similar Animals**:
   - The animal next to the feeder is clearly a chicken, distinct from a deer


STRICT REQUIREMENTS:
1. MUST be 1-2 lines only - no exceptions
2. Focus on combining the video description with what is actually shown in the video
3. If there is text in the video, incorporate it naturally
4. Match the funny style while staying extremely brief
5. Make it engaging but concise
6. Format for ur
7. Ensure commentary reflects both visual content and video description
8. Correct any obvious errors in object detection (e.g., if a deer was labeled as a dog)
9. Use proper Urdu script and punctuation (Û”ØŒ ØŸ)
2025-02-23 21:25:17,580 - pipeline.Step_4_generate_commentary - INFO - 
=== GENERATING COMMENTARY ===
2025-02-23 21:25:20,048 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-23 21:25:20,057 - pipeline.Step_4_generate_commentary - INFO - 
=== RAW GENERATED COMMENTARY ===
2025-02-23 21:25:20,059 - pipeline.Step_4_generate_commentary - INFO - Ú†Ú©Ù† Ù†Û’ ØªÙˆ Ú©Ú¾Ø§Ù†Û’ Ú©ÛŒ Ù…Ø´ÛŒÙ†Ø±ÛŒ Ú©Ø§ Ø±Ø§Ø² Ø¬Ø§Ù† Ù„ÛŒØ§! Ø§Ø¨ ÙˆÛ Ø³Ù…Ø¬Ú¾ Ú¯Ø¦ÛŒ ÛÛ’ Ú©Û Ø§ÛŒÙ„ÙˆÙ¾ÛŒÚ©Ø§ Ú©Ùˆ Ø¨Ú¾ÙˆÚ©Ø§ Ø±Ú©Ú¾Ù†Ø§ ÛÛ’ØŒ ÙˆØ±Ù†Û ÛŒÛ Ø³Ø¨ Ú©Ú†Ú¾ Ø³Ù…ÛŒÙ¹ Ø¬Ø§Ø¦ÛŒÚº Ú¯Û’Û” ğŸ”ğŸ’¡
2025-02-23 21:25:20,063 - pipeline.Step_4_generate_commentary - INFO - 
=== PROCESSED COMMENTARY ===
2025-02-23 21:25:20,065 - pipeline.Step_4_generate_commentary - INFO - Ú†Ú©Ù† Ù†Û’ ØªÙˆ Ú©Ú¾Ø§Ù†Û’ Ú©ÛŒ Ù…Ø´ÛŒÙ†Ø±ÛŒ Ú©Ø§ Ø±Ø§Ø² Ø¬Ø§Ù† Ù„ÛŒØ§! Ø§Ø¨ ÙˆÛ Ø³Ù…Ø¬Ú¾ Ú¯Ø¦ÛŒ ÛÛ’ Ú©Û Ø§ÛŒÙ„ÙˆÙ¾ÛŒÚ©Ø§ Ú©Ùˆ Ø¨Ú¾ÙˆÚ©Ø§ Ø±Ú©Ú¾Ù†Ø§ ÛÛ’ØŒ<break time="0.5s"/> ÙˆØ±Ù†Û ÛŒÛ Ø³Ø¨ Ú©Ú†Ú¾ Ø³Ù…ÛŒÙ¹ Ø¬Ø§Ø¦ÛŒÚº Ú¯Û’Û”<break time="1s"/> ğŸ”ğŸ’¡
2025-02-23 21:25:20,068 - pipeline.Step_4_generate_commentary - INFO - 
=== FINAL COMMENTARY OBJECT ===
2025-02-23 21:25:20,071 - pipeline.Step_4_generate_commentary - INFO - {
  "style": "funny",
  "commentary": "Ú†Ú©Ù† Ù†Û’ ØªÙˆ Ú©Ú¾Ø§Ù†Û’ Ú©ÛŒ Ù…Ø´ÛŒÙ†Ø±ÛŒ Ú©Ø§ Ø±Ø§Ø² Ø¬Ø§Ù† Ù„ÛŒØ§! Ø§Ø¨ ÙˆÛ Ø³Ù…Ø¬Ú¾ Ú¯Ø¦ÛŒ ÛÛ’ Ú©Û Ø§ÛŒÙ„ÙˆÙ¾ÛŒÚ©Ø§ Ú©Ùˆ Ø¨Ú¾ÙˆÚ©Ø§ Ø±Ú©Ú¾Ù†Ø§ ÛÛ’ØŒ<break time=\"0.5s\"/> ÙˆØ±Ù†Û ÛŒÛ Ø³Ø¨ Ú©Ú†Ú¾ Ø³Ù…ÛŒÙ¹ Ø¬Ø§Ø¦ÛŒÚº Ú¯Û’Û”<break time=\"1s\"/> ğŸ”ğŸ’¡",
  "metadata": {
    "title": "Nature is Amazing â˜˜ï¸ - The chicken has figured out how her feeder works Now closes it in time so the alpacas don't eat all the food.",
    "duration": 33.43333333333333,
    "description": "The chicken has figured out how her feeder works Now closes it in time so the alpacas don't eat all the food. https://t.co/GVBsJu9Lr9",
    "uploader": "Nature is Amazing â˜˜ï¸",
    "view_count": null,
    "like_count": 141272,
    "upload_date": "20250203",
    "scene_changes": [],
    "motion_scores": [
      [
        "output_0\\frames\\frame_0.30s.jpg",
        2.4328114986419678
      ],
      [
        "output_0\\frames\\frame_0.40s.jpg",
        2.40671443939209
      ],
      [
        "output_0\\frames\\frame_0.50s.jpg",
        2.242037296295166
      ],
      [
        "output_0\\frames\\frame_0.60s.jpg",
        2.093170404434204
      ],
      [
        "output_0\\frames\\frame_2.70s.jpg",
        2.2306339740753174
      ],
      [
        "output_0\\frames\\frame_2.80s.jpg",
        2.085573196411133
      ],
      [
        "output_0\\frames\\frame_2.90s.jpg",
        2.167114019393921
      ],
      [
        "output_0\\frames\\frame_16.10s.jpg",
        2.091686248779297
      ],
      [
        "output_0\\frames\\frame_16.20s.jpg",
        2.42148494720459
      ],
      [
        "output_0\\frames\\frame_16.30s.jpg",
        2.7960448265075684
      ],
      [
        "output_0\\frames\\frame_16.40s.jpg",
        3.0180258750915527
      ],
      [
        "output_0\\frames\\frame_16.50s.jpg",
        3.00411319732666
      ],
      [
        "output_0\\frames\\frame_16.60s.jpg",
        2.7661421298980713
      ],
      [
        "output_0\\frames\\frame_16.70s.jpg",
        2.6690316200256348
      ],
      [
        "output_0\\frames\\frame_16.80s.jpg",
        2.4878687858581543
      ],
      [
        "output_0\\frames\\frame_16.90s.jpg",
        2.0821049213409424
      ]
    ],
    "language": "ur"
  },
  "language": "ur"
}
2025-02-23 21:25:20,097 - pipeline.Step_4_generate_commentary - INFO - 
=== PROCESSING FOR AUDIO ===
2025-02-23 21:25:20,098 - pipeline.Step_4_generate_commentary - INFO - Language: ur
2025-02-23 21:25:20,098 - pipeline.Step_4_generate_commentary - INFO - 
=== FINAL AUDIO SCRIPT ===
2025-02-23 21:25:20,100 - pipeline.Step_4_generate_commentary - INFO - Ú†Ú©Ù† Ù†Û’ ØªÙˆ Ú©Ú¾Ø§Ù†Û’ Ú©ÛŒ Ù…Ø´ÛŒÙ†Ø±ÛŒ Ú©Ø§ Ø±Ø§Ø² Ø¬Ø§Ù† Ù„ÛŒØ§! Ø§Ø¨ ÙˆÛ Ø³Ù…Ø¬Ú¾ Ú¯Ø¦ÛŒ ÛÛ’ Ú©Û Ø§ÛŒÙ„ÙˆÙ¾ÛŒÚ©Ø§ Ú©Ùˆ Ø¨Ú¾ÙˆÚ©Ø§ Ø±Ú©Ú¾Ù†Ø§ ÛÛ’ØŒ<break time="0.5s"/> ÙˆØ±Ù†Û ÛŒÛ Ø³Ø¨ Ú©Ú†Ú¾ Ø³Ù…ÛŒÙ¹ Ø¬Ø§Ø¦ÛŒÚº Ú¯Û’Û”<break time="1s"/>
2025-02-23 21:25:20,103 - new_bot - INFO - Generating audio in ur...
2025-02-23 21:25:20,105 - __main__ - INFO - Status update: ğŸ™ï¸ Synthesizing voice...

80% â–°â–°â–°â–°â–°â–°â–°â–°â–±â–±
2025-02-23 21:25:20,122 - pipeline.Step_5_generate_audio - INFO - Generating audio for text: Ú†Ú©Ù† Ù†Û’ ØªÙˆ Ú©Ú¾Ø§Ù†Û’ Ú©ÛŒ Ù…Ø´ÛŒÙ†Ø±ÛŒ Ú©Ø§ Ø±Ø§Ø² Ø¬Ø§Ù† Ù„ÛŒØ§! Ø§Ø¨ ÙˆÛ Ø³Ù…Ø¬Ú¾ Ú¯Ø¦ÛŒ ÛÛ’ Ú©Û Ø§ÛŒÙ„ÙˆÙ¾ÛŒÚ©Ø§ Ú©Ùˆ Ø¨Ú¾ÙˆÚ©Ø§ Ø±Ú©Ú¾Ù†Ø§ ÛÛ’ØŒ<break tim...
2025-02-23 21:25:20,829 - pipeline.Step_5_generate_audio - INFO - Successfully generated audio file: output_0\commentary_funny.wav
2025-02-23 21:25:20,831 - new_bot - INFO - Generating final video...
2025-02-23 21:25:20,831 - __main__ - INFO - Status update: ğŸ¥ Creating final video...

85% â–°â–°â–°â–°â–°â–°â–°â–°â–°â–±
2025-02-23 21:25:20,873 - pipeline.Step_6_video_generation - INFO - FFmpeg verified successfully
2025-02-23 21:25:20,927 - pipeline.Step_6_video_generation - WARNING - No logo found for style funny
2025-02-23 21:25:20,928 - pipeline.Step_6_video_generation - INFO - FFmpeg command: ffmpeg -y -i temp_0\video\video_20250223_212414.mp4 -i output_0\commentary_funny.wav -c:v libx264 -preset medium -crf 23 -c:a aac -b:a 192k -shortest -filter_complex [0:v]pad=636:1130:0:385:white[padded] -map [padded] -map 2:a output_0\final_video_funny.mp4
2025-02-23 21:25:20,990 - pipeline.Step_6_video_generation - ERROR - Error generating video: Command '['ffmpeg', '-y', '-i', 'temp_0\\video\\video_20250223_212414.mp4', '-i', 'output_0\\commentary_funny.wav', '-c:v', 'libx264', '-preset', 'medium', '-crf', '23', '-c:a', 'aac', '-b:a', '192k', '-shortest', '-filter_complex', '[0:v]pad=636:1130:0:385:white[padded]', '-map', '[padded]', '-map', '2:a', 'output_0\\final_video_funny.mp4']' returned non-zero exit status 4294967274.
2025-02-23 21:25:20,998 - new_bot - ERROR - Error processing video file: Failed to generate final video
2025-02-23 21:25:20,999 - __main__ - INFO - Status update: âŒ Error processing video: Failed to generate final video
Please try again or contact support.
2025-02-23 21:25:21,004 - __main__ - ERROR - No video data found after processing
2025-02-23 21:25:21,160 - __main__ - INFO - Cleanup completed successfully
2025-02-23 21:26:51,459 - __main__ - INFO - Checking environment variables...
2025-02-23 21:26:51,460 - __main__ - INFO - âœ“ Found OPENAI_API_KEY in environment
2025-02-23 21:26:51,461 - __main__ - INFO - âœ“ Found DEEPSEEK_API_KEY in environment
2025-02-23 21:26:51,461 - __main__ - INFO - âœ“ Found GOOGLE_APPLICATION_CREDENTIALS_JSON in environment
2025-02-23 21:26:51,462 - __main__ - INFO - Attempting to parse Google credentials...
2025-02-23 21:26:51,463 - __main__ - WARNING - Direct JSON parsing failed: Invalid control character at: line 1 column 175 (char 174)
2025-02-23 21:26:51,465 - __main__ - INFO - âœ“ Google credentials configured successfully
2025-02-23 21:26:51,466 - __main__ - INFO - âœ“ Configuration loaded successfully
2025-02-23 21:26:51,469 - new_bot - INFO - Checking environment variables...
2025-02-23 21:26:51,470 - new_bot - INFO - âœ“ Found OPENAI_API_KEY in environment
2025-02-23 21:26:51,470 - new_bot - INFO - âœ“ Found DEEPSEEK_API_KEY in environment
2025-02-23 21:26:51,470 - new_bot - INFO - âœ“ Found GOOGLE_APPLICATION_CREDENTIALS_JSON in environment
2025-02-23 21:26:51,471 - new_bot - INFO - Attempting to parse Google credentials...
2025-02-23 21:26:51,471 - new_bot - WARNING - Direct JSON parsing failed: Invalid control character at: line 1 column 175 (char 174)
2025-02-23 21:26:51,474 - new_bot - INFO - âœ“ Google credentials configured successfully
2025-02-23 21:27:59,301 - __main__ - INFO - Checking environment variables...
2025-02-23 21:27:59,307 - __main__ - INFO - âœ“ Found OPENAI_API_KEY in environment
2025-02-23 21:27:59,308 - __main__ - INFO - âœ“ Found DEEPSEEK_API_KEY in environment
2025-02-23 21:27:59,309 - __main__ - INFO - âœ“ Found GOOGLE_APPLICATION_CREDENTIALS_JSON in environment
2025-02-23 21:27:59,312 - __main__ - INFO - Attempting to parse Google credentials...
2025-02-23 21:27:59,313 - __main__ - WARNING - Direct JSON parsing failed: Invalid control character at: line 1 column 175 (char 174)
2025-02-23 21:27:59,317 - __main__ - INFO - âœ“ Google credentials configured successfully
2025-02-23 21:27:59,319 - __main__ - INFO - âœ“ Configuration loaded successfully
2025-02-23 21:27:59,332 - __main__ - INFO - Initializing StreamlitUpdate
2025-02-23 21:27:59,333 - __main__ - INFO - Initializing StreamlitContext
2025-02-23 21:27:59,336 - __main__ - INFO - Processing video URL: https://x.com/AMAZlNGNATURE/status/1886229103587602773
2025-02-23 21:27:59,336 - __main__ - INFO - Status update: ğŸ¬ Starting video processing...

0% â–±â–±â–±â–±â–±â–±â–±â–±â–±â–±
2025-02-23 21:27:59,338 - __main__ - INFO - Status update: ğŸ“¥ Downloading video...

10% â–°â–±â–±â–±â–±â–±â–±â–±â–±â–±
2025-02-23 21:27:59,340 - new_bot - INFO - Downloading video from: https://x.com/AMAZlNGNATURE/status/1886229103587602773
2025-02-23 21:27:59,342 - pipeline.Step_1_download_video - INFO - Downloading video from: https://twitter.com/AMAZlNGNATURE/status/1886229103587602773
2025-02-23 21:28:08,578 - pipeline.Step_1_download_video - INFO - Download completed
2025-02-23 21:28:08,581 - pipeline.Step_1_download_video - INFO - Downloaded file: temp_0\video\video_20250223_212800.mp4
2025-02-23 21:28:08,605 - new_bot - INFO - Starting video processing...
2025-02-23 21:28:08,606 - new_bot - INFO - Extracting frames...
2025-02-23 21:28:08,606 - __main__ - INFO - Status update: ğŸï¸ Extracting frames...

30% â–°â–°â–°â–±â–±â–±â–±â–±â–±â–±
2025-02-23 21:28:08,651 - pipeline.Step_2_extract_frames - INFO - Analyzing video for key frames...
2025-02-23 21:28:08,663 - pipeline.Step_2_extract_frames - INFO - Progress: 0.0%
2025-02-23 21:28:08,974 - pipeline.Step_2_extract_frames - INFO - Saved frame at 0.30s (scene_change=False, motion=2.43
2025-02-23 21:28:09,040 - pipeline.Step_2_extract_frames - INFO - Saved frame at 0.40s (scene_change=False, motion=2.41
2025-02-23 21:28:09,106 - pipeline.Step_2_extract_frames - INFO - Saved frame at 0.50s (scene_change=False, motion=2.24
2025-02-23 21:28:09,180 - pipeline.Step_2_extract_frames - INFO - Saved frame at 0.60s (scene_change=False, motion=2.09
2025-02-23 21:28:11,000 - pipeline.Step_2_extract_frames - INFO - Saved frame at 2.70s (scene_change=False, motion=2.23
2025-02-23 21:28:11,064 - pipeline.Step_2_extract_frames - INFO - Saved frame at 2.80s (scene_change=False, motion=2.09
2025-02-23 21:28:11,130 - pipeline.Step_2_extract_frames - INFO - Saved frame at 2.90s (scene_change=False, motion=2.17
2025-02-23 21:28:16,667 - pipeline.Step_2_extract_frames - INFO - Progress: 29.9%
2025-02-23 21:28:21,672 - pipeline.Step_2_extract_frames - INFO - Saved frame at 16.10s (scene_change=False, motion=2.09
2025-02-23 21:28:21,750 - pipeline.Step_2_extract_frames - INFO - Saved frame at 16.20s (scene_change=False, motion=2.42
2025-02-23 21:28:21,829 - pipeline.Step_2_extract_frames - INFO - Saved frame at 16.30s (scene_change=False, motion=2.80
2025-02-23 21:28:21,908 - pipeline.Step_2_extract_frames - INFO - Saved frame at 16.40s (scene_change=False, motion=3.02
2025-02-23 21:28:21,990 - pipeline.Step_2_extract_frames - INFO - Saved frame at 16.50s (scene_change=False, motion=3.00
2025-02-23 21:28:22,082 - pipeline.Step_2_extract_frames - INFO - Saved frame at 16.60s (scene_change=False, motion=2.77
2025-02-23 21:28:22,161 - pipeline.Step_2_extract_frames - INFO - Saved frame at 16.70s (scene_change=False, motion=2.67
2025-02-23 21:28:22,238 - pipeline.Step_2_extract_frames - INFO - Saved frame at 16.80s (scene_change=False, motion=2.49
2025-02-23 21:28:22,321 - pipeline.Step_2_extract_frames - INFO - Saved frame at 16.90s (scene_change=False, motion=2.08
2025-02-23 21:28:22,327 - pipeline.Step_2_extract_frames - INFO - Extracted 16 key frames
2025-02-23 21:28:22,327 - new_bot - INFO - Analyzing frames...
2025-02-23 21:28:22,327 - __main__ - INFO - Status update: ğŸ” Analyzing video content...

50% â–°â–°â–°â–°â–°â–±â–±â–±â–±â–±
2025-02-23 21:28:22,684 - pipeline.Step_3_analyze_frames - INFO - Selected 3 key frames for analysis
2025-02-23 21:28:32,192 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-23 21:28:40,086 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-23 21:28:47,857 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-23 21:28:47,876 - pipeline.Step_3_analyze_frames - INFO - Analysis complete. Results saved to output_0\final_analysis.json
2025-02-23 21:28:47,880 - new_bot - INFO - Generating commentary in ur...
2025-02-23 21:28:47,883 - __main__ - INFO - Status update: ğŸ’­ Generating commentary...

70% â–°â–°â–°â–°â–°â–°â–°â–±â–±â–±
2025-02-23 21:28:47,888 - pipeline.Step_4_generate_commentary - INFO - 
=== STARTING COMMENTARY GENERATION ===
2025-02-23 21:28:47,890 - pipeline.Step_4_generate_commentary - INFO - Content Type: funny
2025-02-23 21:28:47,891 - pipeline.Step_4_generate_commentary - INFO - Analysis File: output_0\final_analysis.json
2025-02-23 21:28:48,201 - pipeline.Step_4_generate_commentary - INFO - 
=== VIDEO TEXT FROM METADATA ===
2025-02-23 21:28:48,202 - pipeline.Step_4_generate_commentary - INFO - No text found in metadata
2025-02-23 21:28:48,203 - pipeline.Step_4_generate_commentary - INFO - 
=== SYSTEM PROMPT ===
2025-02-23 21:28:48,204 - pipeline.Step_4_generate_commentary - INFO - You are an entertaining commentator. Create humorous commentary that:
- Uses witty observations and jokes
- Maintains light and playful tone
- Includes appropriate humor
- Emphasizes amusing moments
- Keeps engagement through humor
2025-02-23 21:28:48,205 - pipeline.Step_4_generate_commentary - INFO - 
=== USER PROMPT ===
2025-02-23 21:28:48,205 - pipeline.Step_4_generate_commentary - INFO - Generate a VERY SHORT UR commentary (1-2 lines maximum) for this video in funny style.

VIDEO CONTENT:
Title: Nature is Amazing â˜˜ï¸ - The chicken has figured out how her feeder works Now closes it in time so the alpacas don't eat all the food.
Description: The chicken has figured out how her feeder works Now closes it in time so the alpacas don't eat all the food. https://t.co/GVBsJu9Lr9

VISUAL ANALYSIS:

Key visual elements (with confidence):
- Camelids (0.96)
- Alpaca (0.91)
- Llama (0.91)
- Terrestrial animal (0.89)
- Deer (0.82)
- Lawn (0.73)
- Livestock (0.71)

Detailed scene descriptions:
- 1. **Main Focus or Subject**: 
   The main focus of the frame is the interaction between the chicken and the alpaca. The chicken appears to be near a feeder, which is central to the narrative described in the video title and description.

2. **Actions, Movements, or Interactions**: 
   The chicken is positioned close to what is presumably its feeder, potentially demonstrating the learned behavior of operating it. The alpaca, standing nearby, seems interested in the feeder, aligning with the context that mentions alpacas being deterred from eating the food.

3. **Significant Details**:
   - The feeder may have a lid or mechanism the chicken can operate to prevent the alpaca from accessing the food.
   - The presence of the alpaca indicates the typical challenge of shared spaces among different animals, which the chicken is cleverly managing.

4. **Connection to the Overall Story**:
   This frame beautifully illustrates the narrative of the video where a chicken has adapted to its environment by figuring out how to use the feeder to its advantage and prevent other animals, like the alpaca, from eating its food.

5. **Corrections of Misidentifications**:
   - The computer vision analysis correctly identified the alpaca.
   - No deer is present, as indicated by the incorrect confidence level earlier.

6. **Distinguishing Between Similar Animals**:
   The camelid detection (including alpaca and llama) is correct, but the specific animal here is an
- 1. **Main Focus or Subject**:
   - The central focus of the frame is on the chicken and its interaction with the feeder. The presence of the alpaca adds a relevant dynamic in the context of the video, which describes how the chicken uses the feeder to prevent the alpacas from taking its food.

2. **Actions, Movements, or Interactions**:
   - The chicken is positioned near what appears to be a feeder, possibly interacting with it to access food. The alpaca, standing nearby, seems to be observing or approaching the feeder, adding a layer of interaction and potential conflict over food resources.

3. **Significant Details**:
   - The chicken's strategic position by the feeder suggests it understands the mechanics of using the feeder. This aligns with the video's narrative that it closes the feeder to keep the alpacas away. The alpacaâ€™s presence aligns with its role as a competitor for the food.

4. **Connection to Overall Story**:
   - This moment is illustrative of the video's narrative, showcasing the chicken's clever behavior to manipulate the feeder. The alpacaâ€™s presence serves to emphasize the problem the chicken is solving â€” protecting its food from the larger animals.

5. **Potential Misidentifications**:
   - The computer vision analysis detected camelids, alpacas, and llamas, but from the visual frame, the animal more closely resembles an alpaca rather than a llama or a camelid. There seems to be no evidence of deer,


STRICT REQUIREMENTS:
1. MUST be 1-2 lines only - no exceptions
2. Focus on combining the video description with what is actually shown in the video
3. If there is text in the video, incorporate it naturally
4. Match the funny style while staying extremely brief
5. Make it engaging but concise
6. Format for ur
7. Ensure commentary reflects both visual content and video description
8. Correct any obvious errors in object detection (e.g., if a deer was labeled as a dog)
9. Use proper Urdu script and punctuation (Û”ØŒ ØŸ)
2025-02-23 21:28:48,218 - pipeline.Step_4_generate_commentary - INFO - 
=== GENERATING COMMENTARY ===
2025-02-23 21:28:50,520 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-23 21:28:50,530 - pipeline.Step_4_generate_commentary - INFO - 
=== RAW GENERATED COMMENTARY ===
2025-02-23 21:28:50,533 - pipeline.Step_4_generate_commentary - INFO - ÛŒÛ Ù…Ø±ØºÛŒ ØªÙˆ Ø¬ÛŒØ³Û’ "Ú©Ú¾Ø§Ù†Û’ Ú©ÛŒ Ù¾ÙˆÙ„ÛŒØ³" Ø¨Ù† Ú¯Ø¦ÛŒ ÛÛ’ØŒ Ø¬Ùˆ Ø§Ù„Ù¾Ø§Ú©Ø§ Ú©Ùˆ Ú©Ú¾Ø§Ù†Û’ Ø³Û’ Ø±ÙˆÚ©Ù†Û’ Ú©Û’ Ù„ÛŒÛ’ ÙÛŒÚˆØ± Ú©Û’ Ø¯Ø±ÙˆØ§Ø²Û’ Ø¨Ù†Ø¯ Ú©Ø± Ø±ÛÛŒ ÛÛ’! ğŸ—ğŸ¾ 
2025-02-23 21:28:50,535 - pipeline.Step_4_generate_commentary - INFO - 
=== PROCESSED COMMENTARY ===
2025-02-23 21:28:50,538 - pipeline.Step_4_generate_commentary - INFO - ÛŒÛ Ù…Ø±ØºÛŒ ØªÙˆ Ø¬ÛŒØ³Û’ "Ú©Ú¾Ø§Ù†Û’ Ú©ÛŒ Ù¾ÙˆÙ„ÛŒØ³" Ø¨Ù† Ú¯Ø¦ÛŒ ÛÛ’ØŒ<break time="0.5s"/> Ø¬Ùˆ Ø§Ù„Ù¾Ø§Ú©Ø§ Ú©Ùˆ Ú©Ú¾Ø§Ù†Û’ Ø³Û’ Ø±ÙˆÚ©Ù†Û’ Ú©Û’ Ù„ÛŒÛ’ ÙÛŒÚˆØ± Ú©Û’ Ø¯Ø±ÙˆØ§Ø²Û’ Ø¨Ù†Ø¯ Ú©Ø± Ø±ÛÛŒ ÛÛ’! ğŸ—ğŸ¾
2025-02-23 21:28:50,540 - pipeline.Step_4_generate_commentary - INFO - 
=== FINAL COMMENTARY OBJECT ===
2025-02-23 21:28:50,543 - pipeline.Step_4_generate_commentary - INFO - {
  "style": "funny",
  "commentary": "ÛŒÛ Ù…Ø±ØºÛŒ ØªÙˆ Ø¬ÛŒØ³Û’ \"Ú©Ú¾Ø§Ù†Û’ Ú©ÛŒ Ù¾ÙˆÙ„ÛŒØ³\" Ø¨Ù† Ú¯Ø¦ÛŒ ÛÛ’ØŒ<break time=\"0.5s\"/> Ø¬Ùˆ Ø§Ù„Ù¾Ø§Ú©Ø§ Ú©Ùˆ Ú©Ú¾Ø§Ù†Û’ Ø³Û’ Ø±ÙˆÚ©Ù†Û’ Ú©Û’ Ù„ÛŒÛ’ ÙÛŒÚˆØ± Ú©Û’ Ø¯Ø±ÙˆØ§Ø²Û’ Ø¨Ù†Ø¯ Ú©Ø± Ø±ÛÛŒ ÛÛ’! ğŸ—ğŸ¾",
  "metadata": {
    "title": "Nature is Amazing â˜˜ï¸ - The chicken has figured out how her feeder works Now closes it in time so the alpacas don't eat all the food.",
    "duration": 33.43333333333333,
    "description": "The chicken has figured out how her feeder works Now closes it in time so the alpacas don't eat all the food. https://t.co/GVBsJu9Lr9",
    "uploader": "Nature is Amazing â˜˜ï¸",
    "view_count": null,
    "like_count": 141273,
    "upload_date": "20250203",
    "scene_changes": [],
    "motion_scores": [
      [
        "output_0\\frames\\frame_0.30s.jpg",
        2.4328114986419678
      ],
      [
        "output_0\\frames\\frame_0.40s.jpg",
        2.40671443939209
      ],
      [
        "output_0\\frames\\frame_0.50s.jpg",
        2.242037296295166
      ],
      [
        "output_0\\frames\\frame_0.60s.jpg",
        2.093170404434204
      ],
      [
        "output_0\\frames\\frame_2.70s.jpg",
        2.2306339740753174
      ],
      [
        "output_0\\frames\\frame_2.80s.jpg",
        2.085573196411133
      ],
      [
        "output_0\\frames\\frame_2.90s.jpg",
        2.167114019393921
      ],
      [
        "output_0\\frames\\frame_16.10s.jpg",
        2.091686248779297
      ],
      [
        "output_0\\frames\\frame_16.20s.jpg",
        2.42148494720459
      ],
      [
        "output_0\\frames\\frame_16.30s.jpg",
        2.7960448265075684
      ],
      [
        "output_0\\frames\\frame_16.40s.jpg",
        3.0180258750915527
      ],
      [
        "output_0\\frames\\frame_16.50s.jpg",
        3.00411319732666
      ],
      [
        "output_0\\frames\\frame_16.60s.jpg",
        2.7661421298980713
      ],
      [
        "output_0\\frames\\frame_16.70s.jpg",
        2.6690316200256348
      ],
      [
        "output_0\\frames\\frame_16.80s.jpg",
        2.4878687858581543
      ],
      [
        "output_0\\frames\\frame_16.90s.jpg",
        2.0821049213409424
      ]
    ],
    "language": "ur"
  },
  "language": "ur"
}
2025-02-23 21:28:50,572 - pipeline.Step_4_generate_commentary - INFO - 
=== PROCESSING FOR AUDIO ===
2025-02-23 21:28:50,573 - pipeline.Step_4_generate_commentary - INFO - Language: ur
2025-02-23 21:28:50,573 - pipeline.Step_4_generate_commentary - INFO - 
=== FINAL AUDIO SCRIPT ===
2025-02-23 21:28:50,575 - pipeline.Step_4_generate_commentary - INFO - ÛŒÛ Ù…Ø±ØºÛŒ ØªÙˆ Ø¬ÛŒØ³Û’ Ú©Ú¾Ø§Ù†Û’ Ú©ÛŒ Ù¾ÙˆÙ„ÛŒØ³ Ø¨Ù† Ú¯Ø¦ÛŒ ÛÛ’ØŒ<break time="0.5s"/> Ø¬Ùˆ Ø§Ù„Ù¾Ø§Ú©Ø§ Ú©Ùˆ Ú©Ú¾Ø§Ù†Û’ Ø³Û’ Ø±ÙˆÚ©Ù†Û’ Ú©Û’ Ù„ÛŒÛ’ ÙÛŒÚˆØ± Ú©Û’ Ø¯Ø±ÙˆØ§Ø²Û’ Ø¨Ù†Ø¯ Ú©Ø± Ø±ÛÛŒ ÛÛ’!
2025-02-23 21:28:50,577 - new_bot - INFO - Generating audio in ur...
2025-02-23 21:28:50,577 - __main__ - INFO - Status update: ğŸ™ï¸ Synthesizing voice...

80% â–°â–°â–°â–°â–°â–°â–°â–°â–±â–±
2025-02-23 21:28:50,592 - pipeline.Step_5_generate_audio - INFO - Generating audio for text: ÛŒÛ Ù…Ø±ØºÛŒ ØªÙˆ Ø¬ÛŒØ³Û’ "Ú©Ú¾Ø§Ù†Û’ Ú©ÛŒ Ù¾ÙˆÙ„ÛŒØ³" Ø¨Ù† Ú¯Ø¦ÛŒ ÛÛ’ØŒ<break time="0.5s"/> Ø¬Ùˆ Ø§Ù„Ù¾Ø§Ú©Ø§ Ú©Ùˆ Ú©Ú¾Ø§Ù†Û’ Ø³Û’ Ø±ÙˆÚ©Ù†Û’ Ú©Û’ Ù„ÛŒÛ’ Ù...
2025-02-23 21:28:51,204 - pipeline.Step_5_generate_audio - INFO - Successfully generated audio file: output_0\commentary_funny.wav
2025-02-23 21:28:51,205 - new_bot - INFO - Generating final video...
2025-02-23 21:28:51,206 - __main__ - INFO - Status update: ğŸ¥ Creating final video...

85% â–°â–°â–°â–°â–°â–°â–°â–°â–°â–±
2025-02-23 21:28:51,244 - pipeline.Step_6_video_generation - INFO - FFmpeg verified successfully
2025-02-23 21:28:51,293 - pipeline.Step_6_video_generation - WARNING - No logo found for style funny
2025-02-23 21:28:51,293 - pipeline.Step_6_video_generation - INFO - FFmpeg command: ffmpeg -y -i temp_0\video\video_20250223_212800.mp4 -i output_0\commentary_funny.wav -c:v libx264 -preset medium -crf 23 -c:a aac -b:a 192k -shortest -filter_complex [0:v]pad=636:1130:0:385:white[padded] -map [padded] -map 2:a output_0\final_video_funny.mp4
2025-02-23 21:28:51,386 - pipeline.Step_6_video_generation - ERROR - Error generating video: Command '['ffmpeg', '-y', '-i', 'temp_0\\video\\video_20250223_212800.mp4', '-i', 'output_0\\commentary_funny.wav', '-c:v', 'libx264', '-preset', 'medium', '-crf', '23', '-c:a', 'aac', '-b:a', '192k', '-shortest', '-filter_complex', '[0:v]pad=636:1130:0:385:white[padded]', '-map', '[padded]', '-map', '2:a', 'output_0\\final_video_funny.mp4']' returned non-zero exit status 4294967274.
2025-02-23 21:28:51,398 - new_bot - ERROR - Error processing video file: Failed to generate final video
2025-02-23 21:28:51,399 - __main__ - INFO - Status update: âŒ Error processing video: Failed to generate final video
Please try again or contact support.
2025-02-23 21:28:51,404 - __main__ - ERROR - No video data found after processing
2025-02-23 21:28:51,514 - __main__ - INFO - Cleanup completed successfully
2025-02-23 21:29:41,461 - __main__ - INFO - Checking environment variables...
2025-02-23 21:29:41,462 - __main__ - INFO - âœ“ Found OPENAI_API_KEY in environment
2025-02-23 21:29:41,463 - __main__ - INFO - âœ“ Found DEEPSEEK_API_KEY in environment
2025-02-23 21:29:41,464 - __main__ - INFO - âœ“ Found GOOGLE_APPLICATION_CREDENTIALS_JSON in environment
2025-02-23 21:29:41,465 - __main__ - INFO - Attempting to parse Google credentials...
2025-02-23 21:29:41,465 - __main__ - WARNING - Direct JSON parsing failed: Invalid control character at: line 1 column 175 (char 174)
2025-02-23 21:29:41,467 - __main__ - INFO - âœ“ Google credentials configured successfully
2025-02-23 21:29:41,468 - __main__ - INFO - âœ“ Configuration loaded successfully
2025-02-23 21:29:41,475 - new_bot - INFO - Checking environment variables...
2025-02-23 21:29:41,476 - new_bot - INFO - âœ“ Found OPENAI_API_KEY in environment
2025-02-23 21:29:41,477 - new_bot - INFO - âœ“ Found DEEPSEEK_API_KEY in environment
2025-02-23 21:29:41,478 - new_bot - INFO - âœ“ Found GOOGLE_APPLICATION_CREDENTIALS_JSON in environment
2025-02-23 21:29:41,479 - new_bot - INFO - Attempting to parse Google credentials...
2025-02-23 21:29:41,480 - new_bot - WARNING - Direct JSON parsing failed: Invalid control character at: line 1 column 175 (char 174)
2025-02-23 21:29:41,482 - new_bot - INFO - âœ“ Google credentials configured successfully
2025-02-23 21:29:41,501 - __main__ - ERROR - Initialization error: unindent does not match any outer indentation level (Step_6_video_generation.py, line 144)
Traceback (most recent call last):
  File "C:\Users\mrema\Downloads\Video-Commentary-Bot-0.1\streamlit_app.py", line 188, in <module>
    from new_bot import VideoBot
  File "C:\Users\mrema\Downloads\Video-Commentary-Bot-0.1\new_bot.py", line 151, in <module>
    from pipeline import (
  File "C:\Users\mrema\Downloads\Video-Commentary-Bot-0.1\pipeline\__init__.py", line 10, in <module>
    from .Step_6_video_generation import execute_step as generate_video
  File "C:\Users\mrema\Downloads\Video-Commentary-Bot-0.1\pipeline\Step_6_video_generation.py", line 144
    else:
         ^
IndentationError: unindent does not match any outer indentation level
2025-02-23 21:31:23,388 - __main__ - INFO - Checking environment variables...
2025-02-23 21:31:23,389 - __main__ - INFO - âœ“ Found OPENAI_API_KEY in environment
2025-02-23 21:31:23,390 - __main__ - INFO - âœ“ Found DEEPSEEK_API_KEY in environment
2025-02-23 21:31:23,390 - __main__ - INFO - âœ“ Found GOOGLE_APPLICATION_CREDENTIALS_JSON in environment
2025-02-23 21:31:23,391 - __main__ - INFO - Attempting to parse Google credentials...
2025-02-23 21:31:23,391 - __main__ - WARNING - Direct JSON parsing failed: Invalid control character at: line 1 column 175 (char 174)
2025-02-23 21:31:23,394 - __main__ - INFO - âœ“ Google credentials configured successfully
2025-02-23 21:31:23,394 - __main__ - INFO - âœ“ Configuration loaded successfully
2025-02-23 21:31:23,397 - new_bot - INFO - Checking environment variables...
2025-02-23 21:31:23,398 - new_bot - INFO - âœ“ Found OPENAI_API_KEY in environment
2025-02-23 21:31:23,399 - new_bot - INFO - âœ“ Found DEEPSEEK_API_KEY in environment
2025-02-23 21:31:23,399 - new_bot - INFO - âœ“ Found GOOGLE_APPLICATION_CREDENTIALS_JSON in environment
2025-02-23 21:31:23,399 - new_bot - INFO - Attempting to parse Google credentials...
2025-02-23 21:31:23,400 - new_bot - WARNING - Direct JSON parsing failed: Invalid control character at: line 1 column 175 (char 174)
2025-02-23 21:31:23,401 - new_bot - INFO - âœ“ Google credentials configured successfully
2025-02-23 21:31:54,770 - __main__ - INFO - Checking environment variables...
2025-02-23 21:31:54,771 - __main__ - INFO - âœ“ Found OPENAI_API_KEY in environment
2025-02-23 21:31:54,771 - __main__ - INFO - âœ“ Found DEEPSEEK_API_KEY in environment
2025-02-23 21:31:54,772 - __main__ - INFO - âœ“ Found GOOGLE_APPLICATION_CREDENTIALS_JSON in environment
2025-02-23 21:31:54,773 - __main__ - INFO - Attempting to parse Google credentials...
2025-02-23 21:31:54,774 - __main__ - WARNING - Direct JSON parsing failed: Invalid control character at: line 1 column 175 (char 174)
2025-02-23 21:31:54,776 - __main__ - INFO - âœ“ Google credentials configured successfully
2025-02-23 21:31:54,778 - __main__ - INFO - âœ“ Configuration loaded successfully
2025-02-23 21:31:54,781 - new_bot - INFO - Checking environment variables...
2025-02-23 21:31:54,781 - new_bot - INFO - âœ“ Found OPENAI_API_KEY in environment
2025-02-23 21:31:54,782 - new_bot - INFO - âœ“ Found DEEPSEEK_API_KEY in environment
2025-02-23 21:31:54,782 - new_bot - INFO - âœ“ Found GOOGLE_APPLICATION_CREDENTIALS_JSON in environment
2025-02-23 21:31:54,783 - new_bot - INFO - Attempting to parse Google credentials...
2025-02-23 21:31:54,784 - new_bot - WARNING - Direct JSON parsing failed: Invalid control character at: line 1 column 175 (char 174)
2025-02-23 21:31:54,786 - new_bot - INFO - âœ“ Google credentials configured successfully
2025-02-23 21:33:06,226 - __main__ - INFO - Checking environment variables...
2025-02-23 21:33:06,228 - __main__ - INFO - âœ“ Found OPENAI_API_KEY in environment
2025-02-23 21:33:06,230 - __main__ - INFO - âœ“ Found DEEPSEEK_API_KEY in environment
2025-02-23 21:33:06,230 - __main__ - INFO - âœ“ Found GOOGLE_APPLICATION_CREDENTIALS_JSON in environment
2025-02-23 21:33:06,232 - __main__ - INFO - Attempting to parse Google credentials...
2025-02-23 21:33:06,232 - __main__ - WARNING - Direct JSON parsing failed: Invalid control character at: line 1 column 175 (char 174)
2025-02-23 21:33:06,235 - __main__ - INFO - âœ“ Google credentials configured successfully
2025-02-23 21:33:06,236 - __main__ - INFO - âœ“ Configuration loaded successfully
2025-02-23 21:33:07,296 - __main__ - INFO - Checking environment variables...
2025-02-23 21:33:07,299 - __main__ - INFO - âœ“ Found OPENAI_API_KEY in environment
2025-02-23 21:33:07,303 - __main__ - INFO - âœ“ Found DEEPSEEK_API_KEY in environment
2025-02-23 21:33:07,305 - __main__ - INFO - âœ“ Found GOOGLE_APPLICATION_CREDENTIALS_JSON in environment
2025-02-23 21:33:07,309 - __main__ - INFO - Attempting to parse Google credentials...
2025-02-23 21:33:07,311 - __main__ - WARNING - Direct JSON parsing failed: Invalid control character at: line 1 column 175 (char 174)
2025-02-23 21:33:07,315 - __main__ - INFO - âœ“ Google credentials configured successfully
2025-02-23 21:33:07,317 - __main__ - INFO - âœ“ Configuration loaded successfully
2025-02-23 21:33:10,281 - __main__ - INFO - Checking environment variables...
2025-02-23 21:33:10,284 - __main__ - INFO - âœ“ Found OPENAI_API_KEY in environment
2025-02-23 21:33:10,287 - __main__ - INFO - âœ“ Found DEEPSEEK_API_KEY in environment
2025-02-23 21:33:10,290 - __main__ - INFO - âœ“ Found GOOGLE_APPLICATION_CREDENTIALS_JSON in environment
2025-02-23 21:33:10,296 - __main__ - INFO - Attempting to parse Google credentials...
2025-02-23 21:33:10,299 - __main__ - WARNING - Direct JSON parsing failed: Invalid control character at: line 1 column 175 (char 174)
2025-02-23 21:33:10,305 - __main__ - INFO - âœ“ Google credentials configured successfully
2025-02-23 21:33:10,309 - __main__ - INFO - âœ“ Configuration loaded successfully
2025-02-23 21:33:11,382 - __main__ - INFO - Checking environment variables...
2025-02-23 21:33:11,384 - __main__ - INFO - âœ“ Found OPENAI_API_KEY in environment
2025-02-23 21:33:11,385 - __main__ - INFO - âœ“ Found DEEPSEEK_API_KEY in environment
2025-02-23 21:33:11,386 - __main__ - INFO - âœ“ Found GOOGLE_APPLICATION_CREDENTIALS_JSON in environment
2025-02-23 21:33:11,387 - __main__ - INFO - Attempting to parse Google credentials...
2025-02-23 21:33:11,388 - __main__ - WARNING - Direct JSON parsing failed: Invalid control character at: line 1 column 175 (char 174)
2025-02-23 21:33:11,391 - __main__ - INFO - âœ“ Google credentials configured successfully
2025-02-23 21:33:11,392 - __main__ - INFO - âœ“ Configuration loaded successfully
2025-02-23 21:33:11,418 - __main__ - INFO - Initializing StreamlitUpdate
2025-02-23 21:33:11,421 - __main__ - INFO - Initializing StreamlitContext
2025-02-23 21:33:11,423 - __main__ - INFO - Processing video URL: https://x.com/AMAZlNGNATURE/status/1886229103587602773
2025-02-23 21:33:11,424 - __main__ - INFO - Status update: ğŸ¬ Starting video processing...

0% â–±â–±â–±â–±â–±â–±â–±â–±â–±â–±
2025-02-23 21:33:11,425 - __main__ - INFO - Status update: ğŸ“¥ Downloading video...

10% â–°â–±â–±â–±â–±â–±â–±â–±â–±â–±
2025-02-23 21:33:11,427 - new_bot - INFO - Downloading video from: https://x.com/AMAZlNGNATURE/status/1886229103587602773
2025-02-23 21:33:11,428 - pipeline.Step_1_download_video - INFO - Downloading video from: https://twitter.com/AMAZlNGNATURE/status/1886229103587602773
2025-02-23 21:33:19,641 - pipeline.Step_1_download_video - INFO - Download completed
2025-02-23 21:33:19,646 - pipeline.Step_1_download_video - INFO - Downloaded file: temp_0\video\video_20250223_213313.mp4
2025-02-23 21:33:19,682 - new_bot - INFO - Starting video processing...
2025-02-23 21:33:19,682 - new_bot - INFO - Extracting frames...
2025-02-23 21:33:19,683 - __main__ - INFO - Status update: ğŸï¸ Extracting frames...

30% â–°â–°â–°â–±â–±â–±â–±â–±â–±â–±
2025-02-23 21:33:19,734 - pipeline.Step_2_extract_frames - INFO - Analyzing video for key frames...
2025-02-23 21:33:19,749 - pipeline.Step_2_extract_frames - INFO - Progress: 0.0%
2025-02-23 21:33:20,171 - pipeline.Step_2_extract_frames - INFO - Saved frame at 0.30s (scene_change=False, motion=2.43
2025-02-23 21:33:20,243 - pipeline.Step_2_extract_frames - INFO - Saved frame at 0.40s (scene_change=False, motion=2.41
2025-02-23 21:33:20,317 - pipeline.Step_2_extract_frames - INFO - Saved frame at 0.50s (scene_change=False, motion=2.24
2025-02-23 21:33:20,400 - pipeline.Step_2_extract_frames - INFO - Saved frame at 0.60s (scene_change=False, motion=2.09
2025-02-23 21:33:22,107 - pipeline.Step_2_extract_frames - INFO - Saved frame at 2.70s (scene_change=False, motion=2.23
2025-02-23 21:33:22,175 - pipeline.Step_2_extract_frames - INFO - Saved frame at 2.80s (scene_change=False, motion=2.09
2025-02-23 21:33:22,246 - pipeline.Step_2_extract_frames - INFO - Saved frame at 2.90s (scene_change=False, motion=2.17
2025-02-23 21:33:28,084 - pipeline.Step_2_extract_frames - INFO - Progress: 29.9%
2025-02-23 21:33:33,102 - pipeline.Step_2_extract_frames - INFO - Saved frame at 16.10s (scene_change=False, motion=2.09
2025-02-23 21:33:33,189 - pipeline.Step_2_extract_frames - INFO - Saved frame at 16.20s (scene_change=False, motion=2.42
2025-02-23 21:33:33,266 - pipeline.Step_2_extract_frames - INFO - Saved frame at 16.30s (scene_change=False, motion=2.80
2025-02-23 21:33:33,343 - pipeline.Step_2_extract_frames - INFO - Saved frame at 16.40s (scene_change=False, motion=3.02
2025-02-23 21:33:33,420 - pipeline.Step_2_extract_frames - INFO - Saved frame at 16.50s (scene_change=False, motion=3.00
2025-02-23 21:33:33,512 - pipeline.Step_2_extract_frames - INFO - Saved frame at 16.60s (scene_change=False, motion=2.77
2025-02-23 21:33:33,594 - pipeline.Step_2_extract_frames - INFO - Saved frame at 16.70s (scene_change=False, motion=2.67
2025-02-23 21:33:33,676 - pipeline.Step_2_extract_frames - INFO - Saved frame at 16.80s (scene_change=False, motion=2.49
2025-02-23 21:33:33,772 - pipeline.Step_2_extract_frames - INFO - Saved frame at 16.90s (scene_change=False, motion=2.08
2025-02-23 21:33:33,778 - pipeline.Step_2_extract_frames - INFO - Extracted 16 key frames
2025-02-23 21:33:33,779 - new_bot - INFO - Analyzing frames...
2025-02-23 21:33:33,779 - __main__ - INFO - Status update: ğŸ” Analyzing video content...

50% â–°â–°â–°â–°â–°â–±â–±â–±â–±â–±
2025-02-23 21:33:34,146 - pipeline.Step_3_analyze_frames - INFO - Selected 3 key frames for analysis
2025-02-23 21:33:49,015 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-23 21:33:56,694 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-23 21:34:03,349 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-23 21:34:03,364 - pipeline.Step_3_analyze_frames - INFO - Analysis complete. Results saved to output_0\final_analysis.json
2025-02-23 21:34:03,368 - new_bot - INFO - Generating commentary in ur...
2025-02-23 21:34:03,370 - __main__ - INFO - Status update: ğŸ’­ Generating commentary...

70% â–°â–°â–°â–°â–°â–°â–°â–±â–±â–±
2025-02-23 21:34:03,376 - pipeline.Step_4_generate_commentary - INFO - 
=== STARTING COMMENTARY GENERATION ===
2025-02-23 21:34:03,377 - pipeline.Step_4_generate_commentary - INFO - Content Type: funny
2025-02-23 21:34:03,379 - pipeline.Step_4_generate_commentary - INFO - Analysis File: output_0\final_analysis.json
2025-02-23 21:34:03,693 - pipeline.Step_4_generate_commentary - INFO - 
=== VIDEO TEXT FROM METADATA ===
2025-02-23 21:34:03,694 - pipeline.Step_4_generate_commentary - INFO - No text found in metadata
2025-02-23 21:34:03,695 - pipeline.Step_4_generate_commentary - INFO - 
=== SYSTEM PROMPT ===
2025-02-23 21:34:03,696 - pipeline.Step_4_generate_commentary - INFO - You are an entertaining commentator. Create humorous commentary that:
- Uses witty observations and jokes
- Maintains light and playful tone
- Includes appropriate humor
- Emphasizes amusing moments
- Keeps engagement through humor
2025-02-23 21:34:03,697 - pipeline.Step_4_generate_commentary - INFO - 
=== USER PROMPT ===
2025-02-23 21:34:03,698 - pipeline.Step_4_generate_commentary - INFO - Generate a VERY SHORT UR commentary (1-2 lines maximum) for this video in funny style.

VIDEO CONTENT:
Title: Nature is Amazing â˜˜ï¸ - The chicken has figured out how her feeder works Now closes it in time so the alpacas don't eat all the food.
Description: The chicken has figured out how her feeder works Now closes it in time so the alpacas don't eat all the food. https://t.co/GVBsJu9Lr9

VISUAL ANALYSIS:

Key visual elements (with confidence):
- Camelids (0.96)
- Alpaca (0.91)
- Llama (0.91)
- Terrestrial animal (0.89)
- Deer (0.82)
- Lawn (0.73)
- Livestock (0.71)

Detailed scene descriptions:
- 1. **Main Focus or Subject:**
   The main focus of this frame seems to be on the interaction between a chicken and an alpaca. In the context of the video, the chicken has learned to operate its feeder and is using this knowledge to prevent the alpaca from consuming its feed.

2. **Actions, Movements, or Interactions:**
   The chicken is positioned near its feeder, possibly in the process of closing or interacting with it. This action aligns with the videoâ€™s story where the chicken strategically manages the feeder to restrict the alpaca's access. The alpaca is standing nearby, perhaps waiting or attempting to access the feed.

3. **Significant Details:**
   - The chickenâ€™s proximity to the feeder suggests it may be actively working to manage the feederâ€™s closure.
   - The alpacaâ€™s presence nearby signifies its interest in the food, aligning with the narrative of the chicken thwarting its attempts.

4. **Connection to Overall Story:**
   The frame captures a pivotal moment demonstrating the chicken's cleverness and strategic behavior. It embodies the video's theme of interspecies interaction and the chicken's ability to protect its resources.

5. **Correcting Potential Misidentifications:**
   The computer vision analysis correctly identifies the alpaca. There is no evidence suggesting the presence of a llama or deer. The inclusion of these may result from visual similarities or overlapping confidence in detection models. The chicken was not highlighted in the previous analysis but is a crucial element here
- 1. **Main Focus or Subject:**
   The main focus of the frame is the interaction between the chicken and the alpaca near the chicken feeder. In the context of the video, the chicken is demonstrating its ability to operate the feeder to prevent the alpaca from consuming its food.

2. **Actions, Movements, or Interactions:**
   The chicken is near or on the feeder, likely engaged in a way to operate it. This action aligns with the videoâ€™s narrative about the chicken actively managing the feeder to control access to its food supply. The alpaca is positioned nearby, highlighting its interest in the feeder.

3. **Significant Details:**
   - The presence of the feeder and the chicken's proximity suggest that it might be manipulating the feeder mechanism.
   - The alpacaâ€™s location suggests a potential conflict over food access, reinforcing the narrative of the chicken's cleverness.

4. **Connection to Overall Story:**
   This moment is a practical demonstration of the videoâ€™s title and description, showcasing the chicken's intelligent behavior in managing its resources against the larger alpaca. The scenario serves as an amusing and engaging example of animal behavior and problem-solving skills.

5. **Correcting Potential Misidentifications:**
   - There is no evidence of a camelid misidentification as the animal in the frame closely resembles an alpaca, consistent with the context provided.
   - Thereâ€™s no indication of deer or llama present; the frame clearly focuses on an alp


STRICT REQUIREMENTS:
1. MUST be 1-2 lines only - no exceptions
2. Focus on combining the video description with what is actually shown in the video
3. If there is text in the video, incorporate it naturally
4. Match the funny style while staying extremely brief
5. Make it engaging but concise
6. Format for ur
7. Ensure commentary reflects both visual content and video description
8. Correct any obvious errors in object detection (e.g., if a deer was labeled as a dog)
9. Use proper Urdu script and punctuation (Û”ØŒ ØŸ)
2025-02-23 21:34:03,713 - pipeline.Step_4_generate_commentary - INFO - 
=== GENERATING COMMENTARY ===
2025-02-23 21:34:04,679 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-23 21:34:04,682 - pipeline.Step_4_generate_commentary - INFO - 
=== RAW GENERATED COMMENTARY ===
2025-02-23 21:34:04,682 - pipeline.Step_4_generate_commentary - INFO - Ú†Ú©Ù† Ù†Û’ ØªÙˆ Ø¢Ù„Ùˆ Ú©ÛŒ Ø·Ø±Ø­ Ø¹Ù‚Ù„ Ù„Ú¯Ø§ Ù„ÛŒ ÛÛ’ØŒ Ø§Ø¨ ÙˆÛ ÙÛŒÚˆØ± Ø¨Ù†Ø¯ Ú©Ø± Ú©Û’ Ø§Ù„Ù¾Ø§Ú©Ø§ Ú©Ùˆ Ú©Ú¾Ø§Ù†Û’ Ø³Û’ Ø±ÙˆÚ© Ø±ÛÛŒ ÛÛ’! Ú©ÛŒØ§ Ú†Ú©Ù† Ú©ÛŒ Ø§Ú¯Ù„ÛŒ Ø³Ù¹ÛŒÙ¾ 'Ø§Ù„Ù¾Ø§Ú©Ø§ Ú©Ùˆ Ù†ÙˆÚ©Ø±ÛŒ Ù¾Ø± Ø±Ú©Ú¾Ù†Ø§' ÛÙˆÚ¯ÛŒØŸ ğŸ˜‚ğŸ”ğŸ¥³
2025-02-23 21:34:04,683 - pipeline.Step_4_generate_commentary - INFO - 
=== PROCESSED COMMENTARY ===
2025-02-23 21:34:04,684 - pipeline.Step_4_generate_commentary - INFO - Ú†Ú©Ù† Ù†Û’ ØªÙˆ Ø¢Ù„Ùˆ Ú©ÛŒ Ø·Ø±Ø­ Ø¹Ù‚Ù„ Ù„Ú¯Ø§ Ù„ÛŒ ÛÛ’ØŒ<break time="0.5s"/> Ø§Ø¨ ÙˆÛ ÙÛŒÚˆØ± Ø¨Ù†Ø¯ Ú©Ø± Ú©Û’ Ø§Ù„Ù¾Ø§Ú©Ø§ Ú©Ùˆ Ú©Ú¾Ø§Ù†Û’ Ø³Û’ Ø±ÙˆÚ© Ø±ÛÛŒ ÛÛ’! Ú©ÛŒØ§ Ú†Ú©Ù† Ú©ÛŒ Ø§Ú¯Ù„ÛŒ Ø³Ù¹ÛŒÙ¾ 'Ø§Ù„Ù¾Ø§Ú©Ø§ Ú©Ùˆ Ù†ÙˆÚ©Ø±ÛŒ Ù¾Ø± Ø±Ú©Ú¾Ù†Ø§' ÛÙˆÚ¯ÛŒØŸ ğŸ˜‚ğŸ”ğŸ¥³
2025-02-23 21:34:04,684 - pipeline.Step_4_generate_commentary - INFO - 
=== FINAL COMMENTARY OBJECT ===
2025-02-23 21:34:04,685 - pipeline.Step_4_generate_commentary - INFO - {
  "style": "funny",
  "commentary": "Ú†Ú©Ù† Ù†Û’ ØªÙˆ Ø¢Ù„Ùˆ Ú©ÛŒ Ø·Ø±Ø­ Ø¹Ù‚Ù„ Ù„Ú¯Ø§ Ù„ÛŒ ÛÛ’ØŒ<break time=\"0.5s\"/> Ø§Ø¨ ÙˆÛ ÙÛŒÚˆØ± Ø¨Ù†Ø¯ Ú©Ø± Ú©Û’ Ø§Ù„Ù¾Ø§Ú©Ø§ Ú©Ùˆ Ú©Ú¾Ø§Ù†Û’ Ø³Û’ Ø±ÙˆÚ© Ø±ÛÛŒ ÛÛ’! Ú©ÛŒØ§ Ú†Ú©Ù† Ú©ÛŒ Ø§Ú¯Ù„ÛŒ Ø³Ù¹ÛŒÙ¾ 'Ø§Ù„Ù¾Ø§Ú©Ø§ Ú©Ùˆ Ù†ÙˆÚ©Ø±ÛŒ Ù¾Ø± Ø±Ú©Ú¾Ù†Ø§' ÛÙˆÚ¯ÛŒØŸ ğŸ˜‚ğŸ”ğŸ¥³",
  "metadata": {
    "title": "Nature is Amazing â˜˜ï¸ - The chicken has figured out how her feeder works Now closes it in time so the alpacas don't eat all the food.",
    "duration": 33.43333333333333,
    "description": "The chicken has figured out how her feeder works Now closes it in time so the alpacas don't eat all the food. https://t.co/GVBsJu9Lr9",
    "uploader": "Nature is Amazing â˜˜ï¸",
    "view_count": null,
    "like_count": 141271,
    "upload_date": "20250203",
    "scene_changes": [],
    "motion_scores": [
      [
        "output_0\\frames\\frame_0.30s.jpg",
        2.4328114986419678
      ],
      [
        "output_0\\frames\\frame_0.40s.jpg",
        2.40671443939209
      ],
      [
        "output_0\\frames\\frame_0.50s.jpg",
        2.242037296295166
      ],
      [
        "output_0\\frames\\frame_0.60s.jpg",
        2.093170404434204
      ],
      [
        "output_0\\frames\\frame_2.70s.jpg",
        2.2306339740753174
      ],
      [
        "output_0\\frames\\frame_2.80s.jpg",
        2.085573196411133
      ],
      [
        "output_0\\frames\\frame_2.90s.jpg",
        2.167114019393921
      ],
      [
        "output_0\\frames\\frame_16.10s.jpg",
        2.091686248779297
      ],
      [
        "output_0\\frames\\frame_16.20s.jpg",
        2.42148494720459
      ],
      [
        "output_0\\frames\\frame_16.30s.jpg",
        2.7960448265075684
      ],
      [
        "output_0\\frames\\frame_16.40s.jpg",
        3.0180258750915527
      ],
      [
        "output_0\\frames\\frame_16.50s.jpg",
        3.00411319732666
      ],
      [
        "output_0\\frames\\frame_16.60s.jpg",
        2.7661421298980713
      ],
      [
        "output_0\\frames\\frame_16.70s.jpg",
        2.6690316200256348
      ],
      [
        "output_0\\frames\\frame_16.80s.jpg",
        2.4878687858581543
      ],
      [
        "output_0\\frames\\frame_16.90s.jpg",
        2.0821049213409424
      ]
    ],
    "language": "ur"
  },
  "language": "ur"
}
2025-02-23 21:34:04,702 - pipeline.Step_4_generate_commentary - INFO - 
=== PROCESSING FOR AUDIO ===
2025-02-23 21:34:04,702 - pipeline.Step_4_generate_commentary - INFO - Language: ur
2025-02-23 21:34:04,703 - pipeline.Step_4_generate_commentary - INFO - 
=== FINAL AUDIO SCRIPT ===
2025-02-23 21:34:04,704 - pipeline.Step_4_generate_commentary - INFO - Ú†Ú©Ù† Ù†Û’ ØªÙˆ Ø¢Ù„Ùˆ Ú©ÛŒ Ø·Ø±Ø­ Ø¹Ù‚Ù„ Ù„Ú¯Ø§ Ù„ÛŒ ÛÛ’ØŒ<break time="0.5s"/> Ø§Ø¨ ÙˆÛ ÙÛŒÚˆØ± Ø¨Ù†Ø¯ Ú©Ø± Ú©Û’ Ø§Ù„Ù¾Ø§Ú©Ø§ Ú©Ùˆ Ú©Ú¾Ø§Ù†Û’ Ø³Û’ Ø±ÙˆÚ© Ø±ÛÛŒ ÛÛ’! Ú©ÛŒØ§ Ú†Ú©Ù† Ú©ÛŒ Ø§Ú¯Ù„ÛŒ Ø³Ù¹ÛŒÙ¾ Ø§Ù„Ù¾Ø§Ú©Ø§ Ú©Ùˆ Ù†ÙˆÚ©Ø±ÛŒ Ù¾Ø± Ø±Ú©Ú¾Ù†Ø§ ÛÙˆÚ¯ÛŒØŸ<break time="0.8s"/>
2025-02-23 21:34:04,706 - new_bot - INFO - Generating audio in ur...
2025-02-23 21:34:04,706 - __main__ - INFO - Status update: ğŸ™ï¸ Synthesizing voice...

80% â–°â–°â–°â–°â–°â–°â–°â–°â–±â–±
2025-02-23 21:34:04,718 - pipeline.Step_5_generate_audio - INFO - Generating audio for text: Ú†Ú©Ù† Ù†Û’ ØªÙˆ Ø¢Ù„Ùˆ Ú©ÛŒ Ø·Ø±Ø­ Ø¹Ù‚Ù„ Ù„Ú¯Ø§ Ù„ÛŒ ÛÛ’ØŒ<break time="0.5s"/> Ø§Ø¨ ÙˆÛ ÙÛŒÚˆØ± Ø¨Ù†Ø¯ Ú©Ø± Ú©Û’ Ø§Ù„Ù¾Ø§Ú©Ø§ Ú©Ùˆ Ú©Ú¾Ø§Ù†Û’ Ø³Û’ Ø±ÙˆÚ© ...
2025-02-23 21:34:05,842 - pipeline.Step_5_generate_audio - INFO - Successfully generated audio file: output_0\commentary_funny.wav
2025-02-23 21:34:05,846 - new_bot - INFO - Generating final video...
2025-02-23 21:34:05,848 - __main__ - INFO - Status update: ğŸ¥ Creating final video...

85% â–°â–°â–°â–°â–°â–°â–°â–°â–°â–±
2025-02-23 21:34:05,896 - pipeline.Step_6_video_generation - INFO - FFmpeg verified successfully
2025-02-23 21:34:05,946 - pipeline.Step_6_video_generation - WARNING - No logo found for style funny
2025-02-23 21:34:05,946 - pipeline.Step_6_video_generation - INFO - FFmpeg command: ffmpeg -y -i temp_0\video\video_20250223_213313.mp4 -i output_0\commentary_funny.wav -c:v libx264 -preset medium -crf 23 -c:a aac -b:a 192k -shortest -filter_complex [0:v]pad=636:1130:0:385:white[padded] -map [padded] -map 2:a output_0\final_video_funny.mp4
2025-02-23 21:34:06,014 - pipeline.Step_6_video_generation - ERROR - Error generating video: Command '['ffmpeg', '-y', '-i', 'temp_0\\video\\video_20250223_213313.mp4', '-i', 'output_0\\commentary_funny.wav', '-c:v', 'libx264', '-preset', 'medium', '-crf', '23', '-c:a', 'aac', '-b:a', '192k', '-shortest', '-filter_complex', '[0:v]pad=636:1130:0:385:white[padded]', '-map', '[padded]', '-map', '2:a', 'output_0\\final_video_funny.mp4']' returned non-zero exit status 4294967274.
2025-02-23 21:34:06,020 - new_bot - ERROR - Error processing video file: Failed to generate final video
2025-02-23 21:34:06,021 - __main__ - INFO - Status update: âŒ Error processing video: Failed to generate final video
Please try again or contact support.
2025-02-23 21:34:06,024 - __main__ - ERROR - No video data found after processing
2025-02-23 21:34:06,133 - __main__ - INFO - Cleanup completed successfully
2025-02-23 21:35:51,593 - __main__ - INFO - Checking environment variables...
2025-02-23 21:35:51,594 - __main__ - INFO - âœ“ Found OPENAI_API_KEY in environment
2025-02-23 21:35:51,595 - __main__ - INFO - âœ“ Found DEEPSEEK_API_KEY in environment
2025-02-23 21:35:51,595 - __main__ - INFO - âœ“ Found GOOGLE_APPLICATION_CREDENTIALS_JSON in environment
2025-02-23 21:35:51,596 - __main__ - INFO - Attempting to parse Google credentials...
2025-02-23 21:35:51,596 - __main__ - WARNING - Direct JSON parsing failed: Invalid control character at: line 1 column 175 (char 174)
2025-02-23 21:35:51,598 - __main__ - INFO - âœ“ Google credentials configured successfully
2025-02-23 21:35:51,598 - __main__ - INFO - âœ“ Configuration loaded successfully
2025-02-23 21:35:51,601 - new_bot - INFO - Checking environment variables...
2025-02-23 21:35:51,602 - new_bot - INFO - âœ“ Found OPENAI_API_KEY in environment
2025-02-23 21:35:51,602 - new_bot - INFO - âœ“ Found DEEPSEEK_API_KEY in environment
2025-02-23 21:35:51,602 - new_bot - INFO - âœ“ Found GOOGLE_APPLICATION_CREDENTIALS_JSON in environment
2025-02-23 21:35:51,604 - new_bot - INFO - Attempting to parse Google credentials...
2025-02-23 21:35:51,604 - new_bot - WARNING - Direct JSON parsing failed: Invalid control character at: line 1 column 175 (char 174)
2025-02-23 21:35:51,606 - new_bot - INFO - âœ“ Google credentials configured successfully
2025-02-23 21:36:07,486 - __main__ - INFO - Checking environment variables...
2025-02-23 21:36:07,490 - __main__ - INFO - âœ“ Found OPENAI_API_KEY in environment
2025-02-23 21:36:07,492 - __main__ - INFO - âœ“ Found DEEPSEEK_API_KEY in environment
2025-02-23 21:36:07,494 - __main__ - INFO - âœ“ Found GOOGLE_APPLICATION_CREDENTIALS_JSON in environment
2025-02-23 21:36:07,498 - __main__ - INFO - Attempting to parse Google credentials...
2025-02-23 21:36:07,501 - __main__ - WARNING - Direct JSON parsing failed: Invalid control character at: line 1 column 175 (char 174)
2025-02-23 21:36:07,510 - __main__ - INFO - âœ“ Google credentials configured successfully
2025-02-23 21:36:07,517 - __main__ - INFO - âœ“ Configuration loaded successfully
2025-02-23 21:36:07,563 - __main__ - INFO - Initializing StreamlitUpdate
2025-02-23 21:36:07,567 - __main__ - INFO - Initializing StreamlitContext
2025-02-23 21:36:07,571 - __main__ - INFO - Processing video URL: https://x.com/AMAZlNGNATURE/status/1886229103587602773
2025-02-23 21:36:07,572 - __main__ - INFO - Status update: ğŸ¬ Starting video processing...

0% â–±â–±â–±â–±â–±â–±â–±â–±â–±â–±
2025-02-23 21:36:07,574 - __main__ - INFO - Status update: ğŸ“¥ Downloading video...

10% â–°â–±â–±â–±â–±â–±â–±â–±â–±â–±
2025-02-23 21:36:07,577 - new_bot - INFO - Downloading video from: https://x.com/AMAZlNGNATURE/status/1886229103587602773
2025-02-23 21:36:07,578 - pipeline.Step_1_download_video - INFO - Downloading video from: https://twitter.com/AMAZlNGNATURE/status/1886229103587602773
2025-02-23 21:36:18,803 - pipeline.Step_1_download_video - INFO - Download completed
2025-02-23 21:36:18,803 - pipeline.Step_1_download_video - INFO - Downloaded file: temp_0\video\video_20250223_213609.mp4
2025-02-23 21:36:18,821 - new_bot - INFO - Starting video processing...
2025-02-23 21:36:18,822 - new_bot - INFO - Extracting frames...
2025-02-23 21:36:18,822 - __main__ - INFO - Status update: ğŸï¸ Extracting frames...

30% â–°â–°â–°â–±â–±â–±â–±â–±â–±â–±
2025-02-23 21:36:18,861 - pipeline.Step_2_extract_frames - INFO - Analyzing video for key frames...
2025-02-23 21:36:18,879 - pipeline.Step_2_extract_frames - INFO - Progress: 0.0%
2025-02-23 21:36:19,202 - pipeline.Step_2_extract_frames - INFO - Saved frame at 0.30s (scene_change=False, motion=2.43
2025-02-23 21:36:19,285 - pipeline.Step_2_extract_frames - INFO - Saved frame at 0.40s (scene_change=False, motion=2.41
2025-02-23 21:36:19,367 - pipeline.Step_2_extract_frames - INFO - Saved frame at 0.50s (scene_change=False, motion=2.24
2025-02-23 21:36:19,446 - pipeline.Step_2_extract_frames - INFO - Saved frame at 0.60s (scene_change=False, motion=2.09
2025-02-23 21:36:21,301 - pipeline.Step_2_extract_frames - INFO - Saved frame at 2.70s (scene_change=False, motion=2.23
2025-02-23 21:36:21,367 - pipeline.Step_2_extract_frames - INFO - Saved frame at 2.80s (scene_change=False, motion=2.09
2025-02-23 21:36:21,438 - pipeline.Step_2_extract_frames - INFO - Saved frame at 2.90s (scene_change=False, motion=2.17
2025-02-23 21:36:27,816 - pipeline.Step_2_extract_frames - INFO - Progress: 29.9%
2025-02-23 21:36:33,525 - pipeline.Step_2_extract_frames - INFO - Saved frame at 16.10s (scene_change=False, motion=2.09
2025-02-23 21:36:33,606 - pipeline.Step_2_extract_frames - INFO - Saved frame at 16.20s (scene_change=False, motion=2.42
2025-02-23 21:36:33,683 - pipeline.Step_2_extract_frames - INFO - Saved frame at 16.30s (scene_change=False, motion=2.80
2025-02-23 21:36:33,760 - pipeline.Step_2_extract_frames - INFO - Saved frame at 16.40s (scene_change=False, motion=3.02
2025-02-23 21:36:33,836 - pipeline.Step_2_extract_frames - INFO - Saved frame at 16.50s (scene_change=False, motion=3.00
2025-02-23 21:36:33,910 - pipeline.Step_2_extract_frames - INFO - Saved frame at 16.60s (scene_change=False, motion=2.77
2025-02-23 21:36:33,983 - pipeline.Step_2_extract_frames - INFO - Saved frame at 16.70s (scene_change=False, motion=2.67
2025-02-23 21:36:34,058 - pipeline.Step_2_extract_frames - INFO - Saved frame at 16.80s (scene_change=False, motion=2.49
2025-02-23 21:36:34,132 - pipeline.Step_2_extract_frames - INFO - Saved frame at 16.90s (scene_change=False, motion=2.08
2025-02-23 21:36:34,138 - pipeline.Step_2_extract_frames - INFO - Extracted 16 key frames
2025-02-23 21:36:34,139 - new_bot - INFO - Analyzing frames...
2025-02-23 21:36:34,139 - __main__ - INFO - Status update: ğŸ” Analyzing video content...

50% â–°â–°â–°â–°â–°â–±â–±â–±â–±â–±
2025-02-23 21:36:34,603 - pipeline.Step_3_analyze_frames - INFO - Selected 3 key frames for analysis
2025-02-23 21:36:43,917 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-23 21:36:48,938 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-23 21:36:53,947 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-23 21:36:53,960 - pipeline.Step_3_analyze_frames - INFO - Analysis complete. Results saved to output_0\final_analysis.json
2025-02-23 21:36:53,964 - new_bot - INFO - Generating commentary in ur...
2025-02-23 21:36:53,966 - __main__ - INFO - Status update: ğŸ’­ Generating commentary...

70% â–°â–°â–°â–°â–°â–°â–°â–±â–±â–±
2025-02-23 21:36:53,970 - pipeline.Step_4_generate_commentary - INFO - 
=== STARTING COMMENTARY GENERATION ===
2025-02-23 21:36:53,973 - pipeline.Step_4_generate_commentary - INFO - Content Type: funny
2025-02-23 21:36:53,975 - pipeline.Step_4_generate_commentary - INFO - Analysis File: output_0\final_analysis.json
2025-02-23 21:36:54,356 - pipeline.Step_4_generate_commentary - INFO - 
=== VIDEO TEXT FROM METADATA ===
2025-02-23 21:36:54,357 - pipeline.Step_4_generate_commentary - INFO - No text found in metadata
2025-02-23 21:36:54,358 - pipeline.Step_4_generate_commentary - INFO - 
=== SYSTEM PROMPT ===
2025-02-23 21:36:54,358 - pipeline.Step_4_generate_commentary - INFO - You are an entertaining commentator. Create humorous commentary that:
- Uses witty observations and jokes
- Maintains light and playful tone
- Includes appropriate humor
- Emphasizes amusing moments
- Keeps engagement through humor
2025-02-23 21:36:54,359 - pipeline.Step_4_generate_commentary - INFO - 
=== USER PROMPT ===
2025-02-23 21:36:54,361 - pipeline.Step_4_generate_commentary - INFO - Generate a VERY SHORT UR commentary (1-2 lines maximum) for this video in funny style.

VIDEO CONTENT:
Title: Nature is Amazing â˜˜ï¸ - The chicken has figured out how her feeder works Now closes it in time so the alpacas don't eat all the food.
Description: The chicken has figured out how her feeder works Now closes it in time so the alpacas don't eat all the food. https://t.co/GVBsJu9Lr9

VISUAL ANALYSIS:

Key visual elements (with confidence):
- Camelids (0.96)
- Alpaca (0.91)
- Llama (0.91)
- Terrestrial animal (0.89)
- Deer (0.82)
- Lawn (0.73)
- Livestock (0.71)

Detailed scene descriptions:
- 1. **Main Focus or Subject:**
   The main focus of the frame is the interaction between a chicken and an alpaca near a feeder. This scene fits the video's theme of observing clever animal behavior, particularly highlighting the chicken's understanding of the feeder mechanism.

2. **Actions, Movements, or Interactions:**
   The frame captures the alpaca standing near a feeder, which the chicken appears to have strategic control over. The alpaca seems to be interested in the feeder, while the chicken's presence suggests it may be guarding or operating the feeder to prevent the alpaca from eating the food.

3. **Significant Details:**
   The chicken is positioned in close proximity to a feeder, likely demonstrating the behavior described in the video's context where it manages the feeder to save food for itself. The surrounding greenery and lawn enhance the natural setting, aligning with the video's title emphasizing nature.

4. **Connection to Overall Story:**
   This moment connects to the narrative by visually representing the chicken's intelligence in preventing the alpaca from depleting its resources. This direct depiction of the described behavior adds authenticity and engagement to the storytelling.

5. **Correcting Misidentifications:**
   The earlier analysis misidentifies potential animals like deer or llama. The visible animal is an alpaca, and there are no deer present in the frame, aligning with the accurate depiction of one chicken and one alpaca interaction as central to the scene.

6. **Distinguishing Similar Animals
- 1. **Main Focus/Subject:**
   The primary focus of the frame is a white chicken interacting with a feeder, while an alpaca stands nearby. This aligns with the video's context, which describes the chicken managing the feeder to prevent alpacas from eating the food.

2. **Actions/Movements/Interactions:**
   The chicken appears to be engaged with the feeder, possibly indicating an action to open or close it. The alpaca, meanwhile, seems to be waiting or observing the chicken, suggesting a dynamic where the chicken controls access to the food.

3. **Significant Details:**
   - **Chicken and Feeder:** The chicken's position at the feeder is crucial to the narrative, as it highlights the intelligence and behavior described in the video title and description.
   - **Alpaca's Position:** The nearby alpaca underscores the interaction between different species and the chicken's strategic action to control the feeder.

4. **Connection to the Video's Story:**
   This frame ties directly into the video's storyline of a clever chicken manipulating the feeder to manage resources effectively, preventing the alpacas from eating all the food. It visually represents the behavior and interaction described in the narrative.

5. **Potential Misidentifications:**
   The computer vision analysis accurately identified an alpaca; however, there are no camels, llamas, or deer visible. Correctly identifying the alpaca and chicken is critical, as they play central roles in the video's context.

6.


STRICT REQUIREMENTS:
1. MUST be 1-2 lines only - no exceptions
2. Focus on combining the video description with what is actually shown in the video
3. If there is text in the video, incorporate it naturally
4. Match the funny style while staying extremely brief
5. Make it engaging but concise
6. Format for ur
7. Ensure commentary reflects both visual content and video description
8. Correct any obvious errors in object detection (e.g., if a deer was labeled as a dog)
9. Use proper Urdu script and punctuation (Û”ØŒ ØŸ)
2025-02-23 21:36:54,376 - pipeline.Step_4_generate_commentary - INFO - 
=== GENERATING COMMENTARY ===
2025-02-23 21:36:55,379 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-23 21:36:55,381 - pipeline.Step_4_generate_commentary - INFO - 
=== RAW GENERATED COMMENTARY ===
2025-02-23 21:36:55,382 - pipeline.Step_4_generate_commentary - INFO - ÛŒÛ Ù…Ø±ØºÛŒ ØªÙˆ Ø¨Ù†Ø§ÙˆÙ¹ÛŒ "Ú†Ú©Ù† Ø§Ù†Ø³Ø§Ø¦ÛŒÚˆØ±" Ù†Ú©Ù„ÛŒ! Ø¬ÛŒØ³Û’ ÛÛŒ ÙÛŒÚˆØ± Ú©Ú¾Ù„ØªØ§ ÛÛ’ØŒ ÙˆÛ Ø³ÙˆÚ†ØªÛŒ ÛÛ’ØŒ "Ø¢Ù„Ù¾Ø§Ú©Ø§ØŒ ØªÙ…ÛØ§Ø±ÛŒ Ø¨Ø§Ø±ÛŒ Ù†ÛÛŒÚº!" ğŸ”ğŸ¥‡
2025-02-23 21:36:55,383 - pipeline.Step_4_generate_commentary - INFO - 
=== PROCESSED COMMENTARY ===
2025-02-23 21:36:55,384 - pipeline.Step_4_generate_commentary - INFO - ÛŒÛ Ù…Ø±ØºÛŒ ØªÙˆ Ø¨Ù†Ø§ÙˆÙ¹ÛŒ "Ú†Ú©Ù† Ø§Ù†Ø³Ø§Ø¦ÛŒÚˆØ±" Ù†Ú©Ù„ÛŒ! Ø¬ÛŒØ³Û’ ÛÛŒ ÙÛŒÚˆØ± Ú©Ú¾Ù„ØªØ§ ÛÛ’ØŒ<break time="0.5s"/> ÙˆÛ Ø³ÙˆÚ†ØªÛŒ ÛÛ’ØŒ<break time="0.5s"/> "Ø¢Ù„Ù¾Ø§Ú©Ø§ØŒ<break time="0.5s"/> ØªÙ…ÛØ§Ø±ÛŒ Ø¨Ø§Ø±ÛŒ Ù†ÛÛŒÚº!" ğŸ”ğŸ¥‡
2025-02-23 21:36:55,385 - pipeline.Step_4_generate_commentary - INFO - 
=== FINAL COMMENTARY OBJECT ===
2025-02-23 21:36:55,386 - pipeline.Step_4_generate_commentary - INFO - {
  "style": "funny",
  "commentary": "ÛŒÛ Ù…Ø±ØºÛŒ ØªÙˆ Ø¨Ù†Ø§ÙˆÙ¹ÛŒ \"Ú†Ú©Ù† Ø§Ù†Ø³Ø§Ø¦ÛŒÚˆØ±\" Ù†Ú©Ù„ÛŒ! Ø¬ÛŒØ³Û’ ÛÛŒ ÙÛŒÚˆØ± Ú©Ú¾Ù„ØªØ§ ÛÛ’ØŒ<break time=\"0.5s\"/> ÙˆÛ Ø³ÙˆÚ†ØªÛŒ ÛÛ’ØŒ<break time=\"0.5s\"/> \"Ø¢Ù„Ù¾Ø§Ú©Ø§ØŒ<break time=\"0.5s\"/> ØªÙ…ÛØ§Ø±ÛŒ Ø¨Ø§Ø±ÛŒ Ù†ÛÛŒÚº!\" ğŸ”ğŸ¥‡",
  "metadata": {
    "title": "Nature is Amazing â˜˜ï¸ - The chicken has figured out how her feeder works Now closes it in time so the alpacas don't eat all the food.",
    "duration": 33.43333333333333,
    "description": "The chicken has figured out how her feeder works Now closes it in time so the alpacas don't eat all the food. https://t.co/GVBsJu9Lr9",
    "uploader": "Nature is Amazing â˜˜ï¸",
    "view_count": null,
    "like_count": 141271,
    "upload_date": "20250203",
    "scene_changes": [],
    "motion_scores": [
      [
        "output_0\\frames\\frame_0.30s.jpg",
        2.4328114986419678
      ],
      [
        "output_0\\frames\\frame_0.40s.jpg",
        2.40671443939209
      ],
      [
        "output_0\\frames\\frame_0.50s.jpg",
        2.242037296295166
      ],
      [
        "output_0\\frames\\frame_0.60s.jpg",
        2.093170404434204
      ],
      [
        "output_0\\frames\\frame_2.70s.jpg",
        2.2306339740753174
      ],
      [
        "output_0\\frames\\frame_2.80s.jpg",
        2.085573196411133
      ],
      [
        "output_0\\frames\\frame_2.90s.jpg",
        2.167114019393921
      ],
      [
        "output_0\\frames\\frame_16.10s.jpg",
        2.091686248779297
      ],
      [
        "output_0\\frames\\frame_16.20s.jpg",
        2.42148494720459
      ],
      [
        "output_0\\frames\\frame_16.30s.jpg",
        2.7960448265075684
      ],
      [
        "output_0\\frames\\frame_16.40s.jpg",
        3.0180258750915527
      ],
      [
        "output_0\\frames\\frame_16.50s.jpg",
        3.00411319732666
      ],
      [
        "output_0\\frames\\frame_16.60s.jpg",
        2.7661421298980713
      ],
      [
        "output_0\\frames\\frame_16.70s.jpg",
        2.6690316200256348
      ],
      [
        "output_0\\frames\\frame_16.80s.jpg",
        2.4878687858581543
      ],
      [
        "output_0\\frames\\frame_16.90s.jpg",
        2.0821049213409424
      ]
    ],
    "language": "ur"
  },
  "language": "ur"
}
2025-02-23 21:36:55,406 - pipeline.Step_4_generate_commentary - INFO - 
=== PROCESSING FOR AUDIO ===
2025-02-23 21:36:55,407 - pipeline.Step_4_generate_commentary - INFO - Language: ur
2025-02-23 21:36:55,407 - pipeline.Step_4_generate_commentary - INFO - 
=== FINAL AUDIO SCRIPT ===
2025-02-23 21:36:55,408 - pipeline.Step_4_generate_commentary - INFO - ÛŒÛ Ù…Ø±ØºÛŒ ØªÙˆ Ø¨Ù†Ø§ÙˆÙ¹ÛŒ Ú†Ú©Ù† Ø§Ù†Ø³Ø§Ø¦ÛŒÚˆØ± Ù†Ú©Ù„ÛŒ! Ø¬ÛŒØ³Û’ ÛÛŒ ÙÛŒÚˆØ± Ú©Ú¾Ù„ØªØ§ ÛÛ’ØŒ<break time="0.5s"/> ÙˆÛ Ø³ÙˆÚ†ØªÛŒ ÛÛ’ØŒ<break time="0.5s"/> Ø¢Ù„Ù¾Ø§Ú©Ø§ØŒ<break time="0.5s"/> ØªÙ…ÛØ§Ø±ÛŒ Ø¨Ø§Ø±ÛŒ Ù†ÛÛŒÚº!
2025-02-23 21:36:55,410 - new_bot - INFO - Generating audio in ur...
2025-02-23 21:36:55,411 - __main__ - INFO - Status update: ğŸ™ï¸ Synthesizing voice...

80% â–°â–°â–°â–°â–°â–°â–°â–°â–±â–±
2025-02-23 21:36:55,429 - pipeline.Step_5_generate_audio - INFO - Generating audio for text: ÛŒÛ Ù…Ø±ØºÛŒ ØªÙˆ Ø¨Ù†Ø§ÙˆÙ¹ÛŒ "Ú†Ú©Ù† Ø§Ù†Ø³Ø§Ø¦ÛŒÚˆØ±" Ù†Ú©Ù„ÛŒ! Ø¬ÛŒØ³Û’ ÛÛŒ ÙÛŒÚˆØ± Ú©Ú¾Ù„ØªØ§ ÛÛ’ØŒ<break time="0.5s"/> ÙˆÛ Ø³ÙˆÚ†ØªÛŒ ÛÛ’ØŒ<break...
2025-02-23 21:36:56,200 - pipeline.Step_5_generate_audio - INFO - Successfully generated audio file: output_0\commentary_funny.wav
2025-02-23 21:36:56,201 - new_bot - INFO - Generating final video...
2025-02-23 21:36:56,202 - __main__ - INFO - Status update: ğŸ¥ Creating final video...

85% â–°â–°â–°â–°â–°â–°â–°â–°â–°â–±
2025-02-23 21:36:56,251 - pipeline.Step_6_video_generation - INFO - FFmpeg verified successfully
2025-02-23 21:36:56,302 - pipeline.Step_6_video_generation - WARNING - No logo found for style funny
2025-02-23 21:36:56,303 - pipeline.Step_6_video_generation - INFO - FFmpeg command: ffmpeg -y -i temp_0\video\video_20250223_213609.mp4 -i output_0\commentary_funny.wav -c:v libx264 -preset medium -crf 23 -c:a aac -b:a 192k -shortest -filter_complex [0:v]pad=636:1130:0:385:white[padded] -map [padded] -map 2:a output_0\final_video_funny.mp4
2025-02-23 21:36:56,374 - pipeline.Step_6_video_generation - ERROR - Error generating video: Command '['ffmpeg', '-y', '-i', 'temp_0\\video\\video_20250223_213609.mp4', '-i', 'output_0\\commentary_funny.wav', '-c:v', 'libx264', '-preset', 'medium', '-crf', '23', '-c:a', 'aac', '-b:a', '192k', '-shortest', '-filter_complex', '[0:v]pad=636:1130:0:385:white[padded]', '-map', '[padded]', '-map', '2:a', 'output_0\\final_video_funny.mp4']' returned non-zero exit status 4294967274.
2025-02-23 21:36:56,384 - new_bot - ERROR - Error processing video file: Failed to generate final video
2025-02-23 21:36:56,385 - __main__ - INFO - Status update: âŒ Error processing video: Failed to generate final video
Please try again or contact support.
2025-02-23 21:36:56,387 - __main__ - ERROR - No video data found after processing
2025-02-23 21:36:56,494 - __main__ - INFO - Cleanup completed successfully
2025-02-23 21:37:44,046 - __main__ - INFO - Checking environment variables...
2025-02-23 21:37:44,047 - __main__ - INFO - âœ“ Found OPENAI_API_KEY in environment
2025-02-23 21:37:44,048 - __main__ - INFO - âœ“ Found DEEPSEEK_API_KEY in environment
2025-02-23 21:37:44,048 - __main__ - INFO - âœ“ Found GOOGLE_APPLICATION_CREDENTIALS_JSON in environment
2025-02-23 21:37:44,049 - __main__ - INFO - Attempting to parse Google credentials...
2025-02-23 21:37:44,050 - __main__ - WARNING - Direct JSON parsing failed: Invalid control character at: line 1 column 175 (char 174)
2025-02-23 21:37:44,051 - __main__ - INFO - âœ“ Google credentials configured successfully
2025-02-23 21:37:44,052 - __main__ - INFO - âœ“ Configuration loaded successfully
2025-02-23 21:37:44,057 - new_bot - INFO - Checking environment variables...
2025-02-23 21:37:44,057 - new_bot - INFO - âœ“ Found OPENAI_API_KEY in environment
2025-02-23 21:37:44,057 - new_bot - INFO - âœ“ Found DEEPSEEK_API_KEY in environment
2025-02-23 21:37:44,058 - new_bot - INFO - âœ“ Found GOOGLE_APPLICATION_CREDENTIALS_JSON in environment
2025-02-23 21:37:44,058 - new_bot - INFO - Attempting to parse Google credentials...
2025-02-23 21:37:44,059 - new_bot - WARNING - Direct JSON parsing failed: Invalid control character at: line 1 column 175 (char 174)
2025-02-23 21:37:44,061 - new_bot - INFO - âœ“ Google credentials configured successfully
2025-02-23 21:38:45,644 - __main__ - INFO - Checking environment variables...
2025-02-23 21:38:45,644 - __main__ - INFO - âœ“ Found OPENAI_API_KEY in environment
2025-02-23 21:38:45,646 - __main__ - INFO - âœ“ Found DEEPSEEK_API_KEY in environment
2025-02-23 21:38:45,646 - __main__ - INFO - âœ“ Found GOOGLE_APPLICATION_CREDENTIALS_JSON in environment
2025-02-23 21:38:45,648 - __main__ - INFO - Attempting to parse Google credentials...
2025-02-23 21:38:45,648 - __main__ - WARNING - Direct JSON parsing failed: Invalid control character at: line 1 column 175 (char 174)
2025-02-23 21:38:45,650 - __main__ - INFO - âœ“ Google credentials configured successfully
2025-02-23 21:38:45,651 - __main__ - INFO - âœ“ Configuration loaded successfully
2025-02-23 21:38:45,663 - __main__ - INFO - Initializing StreamlitUpdate
2025-02-23 21:38:45,664 - __main__ - INFO - Initializing StreamlitContext
2025-02-23 21:38:45,666 - __main__ - INFO - Processing video URL: https://x.com/AMAZlNGNATURE/status/1886229103587602773
2025-02-23 21:38:45,667 - __main__ - INFO - Status update: ğŸ¬ Starting video processing...

0% â–±â–±â–±â–±â–±â–±â–±â–±â–±â–±
2025-02-23 21:38:45,668 - __main__ - INFO - Status update: ğŸ“¥ Downloading video...

10% â–°â–±â–±â–±â–±â–±â–±â–±â–±â–±
2025-02-23 21:38:45,670 - new_bot - INFO - Downloading video from: https://x.com/AMAZlNGNATURE/status/1886229103587602773
2025-02-23 21:38:45,673 - pipeline.Step_1_download_video - INFO - Downloading video from: https://twitter.com/AMAZlNGNATURE/status/1886229103587602773
2025-02-23 21:38:55,663 - pipeline.Step_1_download_video - INFO - Download completed
2025-02-23 21:38:55,666 - pipeline.Step_1_download_video - INFO - Downloaded file: temp_0\video\video_20250223_213847.mp4
2025-02-23 21:38:55,710 - new_bot - INFO - Starting video processing...
2025-02-23 21:38:55,711 - new_bot - INFO - Extracting frames...
2025-02-23 21:38:55,712 - __main__ - INFO - Status update: ğŸï¸ Extracting frames...

30% â–°â–°â–°â–±â–±â–±â–±â–±â–±â–±
2025-02-23 21:38:55,758 - pipeline.Step_2_extract_frames - INFO - Analyzing video for key frames...
2025-02-23 21:38:55,778 - pipeline.Step_2_extract_frames - INFO - Progress: 0.0%
2025-02-23 21:38:56,349 - pipeline.Step_2_extract_frames - INFO - Saved frame at 0.30s (scene_change=False, motion=2.43
2025-02-23 21:38:56,494 - pipeline.Step_2_extract_frames - INFO - Saved frame at 0.40s (scene_change=False, motion=2.41
2025-02-23 21:38:56,642 - pipeline.Step_2_extract_frames - INFO - Saved frame at 0.50s (scene_change=False, motion=2.24
2025-02-23 21:38:56,798 - pipeline.Step_2_extract_frames - INFO - Saved frame at 0.60s (scene_change=False, motion=2.09
2025-02-23 21:39:00,002 - pipeline.Step_2_extract_frames - INFO - Saved frame at 2.70s (scene_change=False, motion=2.23
2025-02-23 21:39:00,163 - pipeline.Step_2_extract_frames - INFO - Saved frame at 2.80s (scene_change=False, motion=2.09
2025-02-23 21:39:00,306 - pipeline.Step_2_extract_frames - INFO - Saved frame at 2.90s (scene_change=False, motion=2.17
2025-02-23 21:39:11,341 - pipeline.Step_2_extract_frames - INFO - Progress: 29.9%
2025-02-23 21:39:20,586 - pipeline.Step_2_extract_frames - INFO - Saved frame at 16.10s (scene_change=False, motion=2.09
2025-02-23 21:39:20,728 - pipeline.Step_2_extract_frames - INFO - Saved frame at 16.20s (scene_change=False, motion=2.42
2025-02-23 21:39:20,868 - pipeline.Step_2_extract_frames - INFO - Saved frame at 16.30s (scene_change=False, motion=2.80
2025-02-23 21:39:21,009 - pipeline.Step_2_extract_frames - INFO - Saved frame at 16.40s (scene_change=False, motion=3.02
2025-02-23 21:39:21,150 - pipeline.Step_2_extract_frames - INFO - Saved frame at 16.50s (scene_change=False, motion=3.00
2025-02-23 21:39:21,296 - pipeline.Step_2_extract_frames - INFO - Saved frame at 16.60s (scene_change=False, motion=2.77
2025-02-23 21:39:21,440 - pipeline.Step_2_extract_frames - INFO - Saved frame at 16.70s (scene_change=False, motion=2.67
2025-02-23 21:39:21,576 - pipeline.Step_2_extract_frames - INFO - Saved frame at 16.80s (scene_change=False, motion=2.49
2025-02-23 21:39:21,718 - pipeline.Step_2_extract_frames - INFO - Saved frame at 16.90s (scene_change=False, motion=2.08
2025-02-23 21:39:21,726 - pipeline.Step_2_extract_frames - INFO - Extracted 16 key frames
2025-02-23 21:39:21,727 - new_bot - INFO - Analyzing frames...
2025-02-23 21:39:21,728 - __main__ - INFO - Status update: ğŸ” Analyzing video content...

50% â–°â–°â–°â–°â–°â–±â–±â–±â–±â–±
2025-02-23 21:39:22,463 - pipeline.Step_3_analyze_frames - INFO - Selected 3 key frames for analysis
2025-02-23 21:39:30,518 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-23 21:39:38,709 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-23 21:39:44,536 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-23 21:39:44,553 - pipeline.Step_3_analyze_frames - INFO - Analysis complete. Results saved to output_0\final_analysis.json
2025-02-23 21:39:44,557 - new_bot - INFO - Generating commentary in ur...
2025-02-23 21:39:44,559 - __main__ - INFO - Status update: ğŸ’­ Generating commentary...

70% â–°â–°â–°â–°â–°â–°â–°â–±â–±â–±
2025-02-23 21:39:44,563 - pipeline.Step_4_generate_commentary - INFO - 
=== STARTING COMMENTARY GENERATION ===
2025-02-23 21:39:44,565 - pipeline.Step_4_generate_commentary - INFO - Content Type: funny
2025-02-23 21:39:44,566 - pipeline.Step_4_generate_commentary - INFO - Analysis File: output_0\final_analysis.json
2025-02-23 21:39:45,320 - pipeline.Step_4_generate_commentary - INFO - 
=== VIDEO TEXT FROM METADATA ===
2025-02-23 21:39:45,321 - pipeline.Step_4_generate_commentary - INFO - No text found in metadata
2025-02-23 21:39:45,321 - pipeline.Step_4_generate_commentary - INFO - 
=== SYSTEM PROMPT ===
2025-02-23 21:39:45,323 - pipeline.Step_4_generate_commentary - INFO - You are an entertaining commentator. Create humorous commentary that:
- Uses witty observations and jokes
- Maintains light and playful tone
- Includes appropriate humor
- Emphasizes amusing moments
- Keeps engagement through humor
2025-02-23 21:39:45,325 - pipeline.Step_4_generate_commentary - INFO - 
=== USER PROMPT ===
2025-02-23 21:39:45,326 - pipeline.Step_4_generate_commentary - INFO - Generate a VERY SHORT UR commentary (1-2 lines maximum) for this video in funny style.

VIDEO CONTENT:
Title: Nature is Amazing â˜˜ï¸ - The chicken has figured out how her feeder works Now closes it in time so the alpacas don't eat all the food.
Description: The chicken has figured out how her feeder works Now closes it in time so the alpacas don't eat all the food. https://t.co/GVBsJu9Lr9

VISUAL ANALYSIS:

Key visual elements (with confidence):
- Camelids (0.96)
- Alpaca (0.91)
- Llama (0.91)
- Terrestrial animal (0.89)
- Deer (0.82)
- Lawn (0.73)
- Livestock (0.71)

Detailed scene descriptions:
- 1. **Main Focus or Subject:**
   The main focus of this frame is the interaction between a chicken and an alpaca. The chicken is near a feeder, which plays a crucial role in the video's context of the chicken using its learned behavior to control access to the food.

2. **Actions, Movements, or Interactions:**
   The chicken is positioned near the feeder, indicating it may be in the process of manipulating it to prevent the alpaca from eating the food. The alpaca is standing close by, suggesting its interest in accessing the feeder.

3. **Significant Details:**
   The chickenâ€™s position relative to the feeder supports the video's narrative that it has learned to operate the feeder mechanism. The presence of the alpaca aligns with the story of the chicken managing access to the food, showing a clever animal interaction.

4. **Connection to Overall Story:**
   This moment illustrates the key theme of the video: the intelligence and agency of the chicken in managing the feeder. The alpacaâ€™s presence highlights the challenge and importance of this task, emphasizing the chickenâ€™s cleverness in preventing larger animals from depleting its food supply.

5. **Correction of Misidentifications:**
   Previous computer vision analysis identified camelids, alpacas, lahmas, and deer. The creature besides the chicken is indeed an alpaca, not a deer or llama. The setting appears to be a lawn, as previously noted, which is consistent with a farm-like environment
- 1. **Main Focus/Subject:**
   The main focus of this frame is the interaction between the chicken and its feeder, with the alpaca observing nearby. This embodies the video's context where the chicken has learned to operate the feeder to prevent the alpacas from consuming the food.

2. **Actions, Movements, Interactions:**
   The chicken is positioned near the feeder, likely in the act of closing or managing it. The alpaca in the background appears to be observing or approaching, suggesting an interest in the food but being kept at bay by the chickenâ€™s actions.

3. **Significant Details:**
   - The chicken's actions are central, as its intelligence in managing the feeder is the video's main narrative.
   - The presence of the alpaca highlights the challenge the chicken faces in protecting its food.

4. **Connection to Video Narrative:**
   This moment emphasizes the cleverness of the chicken, as described in the video's title and description. It highlights the chicken's behavior as extraordinary, managing its resources against significantly larger animals.

5. **Corrections to Computer Vision Analysis:**
   - The presence of alpacas, not llamas or deer, is consistent with the context, aligning with the computer vision analysis.
   - No misidentification of a "deer" should occur, as the animal is correctly an alpaca, given the described scenario.

6. **Distinguishing Between Similar Animals:**
   The frame correctly focuses on an alpaca


STRICT REQUIREMENTS:
1. MUST be 1-2 lines only - no exceptions
2. Focus on combining the video description with what is actually shown in the video
3. If there is text in the video, incorporate it naturally
4. Match the funny style while staying extremely brief
5. Make it engaging but concise
6. Format for ur
7. Ensure commentary reflects both visual content and video description
8. Correct any obvious errors in object detection (e.g., if a deer was labeled as a dog)
9. Use proper Urdu script and punctuation (Û”ØŒ ØŸ)
2025-02-23 21:39:45,344 - pipeline.Step_4_generate_commentary - INFO - 
=== GENERATING COMMENTARY ===
2025-02-23 21:39:46,492 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-23 21:39:46,503 - pipeline.Step_4_generate_commentary - INFO - 
=== RAW GENERATED COMMENTARY ===
2025-02-23 21:39:46,506 - pipeline.Step_4_generate_commentary - INFO - ÛŒÛ Ù…Ø±ØºÛŒ ØªÙˆ Ù¾Ø±ÙˆÙÛŒØ´Ù†Ù„ ÙÛŒÙ†Ø³Ù¹Ø± ÛÛ’ØŒ Ú©Ú¾Ø§Ù†Ø§ Ø¨Ù†Ø¯ Ú©Ø±Ù†Û’ Ú©ÛŒ Ù…ÛØ§Ø±Øª Ù…ÛŒÚº Ø§Ù„Ú¯ ÛÛŒ Ù„ÛŒÙˆÙ„ Ù¾Ø± ÛÛ’ØŒ Ø¬Ø¨Ú©Û Ø§Ù„Ù¾Ø§Ú©Ø§ Ø¨Ø³ Ø­ÛŒØ±Øª Ø³Û’ Ø¯ÛŒÚ©Ú¾ Ø±ÛØ§ ÛÛ’ Ø¬ÛŒØ³Û’ "Ú©ÛŒØ§ Ù…ÛŒÚº Ø¨Ú¾ÛŒ ÛŒÛ Ø³ÛŒÚ©Ú¾ Ø³Ú©ØªØ§ ÛÙˆÚºØŸ" ğŸ”âœ¨
2025-02-23 21:39:46,510 - pipeline.Step_4_generate_commentary - INFO - 
=== PROCESSED COMMENTARY ===
2025-02-23 21:39:46,513 - pipeline.Step_4_generate_commentary - INFO - ÛŒÛ Ù…Ø±ØºÛŒ ØªÙˆ Ù¾Ø±ÙˆÙÛŒØ´Ù†Ù„ ÙÛŒÙ†Ø³Ù¹Ø± ÛÛ’ØŒ<break time="0.5s"/> Ú©Ú¾Ø§Ù†Ø§ Ø¨Ù†Ø¯ Ú©Ø±Ù†Û’ Ú©ÛŒ Ù…ÛØ§Ø±Øª Ù…ÛŒÚº Ø§Ù„Ú¯ ÛÛŒ Ù„ÛŒÙˆÙ„ Ù¾Ø± ÛÛ’ØŒ<break time="0.5s"/> Ø¬Ø¨Ú©Û Ø§Ù„Ù¾Ø§Ú©Ø§ Ø¨Ø³ Ø­ÛŒØ±Øª Ø³Û’ Ø¯ÛŒÚ©Ú¾ Ø±ÛØ§ ÛÛ’ Ø¬ÛŒØ³Û’ "Ú©ÛŒØ§ Ù…ÛŒÚº Ø¨Ú¾ÛŒ ÛŒÛ Ø³ÛŒÚ©Ú¾ Ø³Ú©ØªØ§ ÛÙˆÚºØŸ" ğŸ”âœ¨
2025-02-23 21:39:46,516 - pipeline.Step_4_generate_commentary - INFO - 
=== FINAL COMMENTARY OBJECT ===
2025-02-23 21:39:46,520 - pipeline.Step_4_generate_commentary - INFO - {
  "style": "funny",
  "commentary": "ÛŒÛ Ù…Ø±ØºÛŒ ØªÙˆ Ù¾Ø±ÙˆÙÛŒØ´Ù†Ù„ ÙÛŒÙ†Ø³Ù¹Ø± ÛÛ’ØŒ<break time=\"0.5s\"/> Ú©Ú¾Ø§Ù†Ø§ Ø¨Ù†Ø¯ Ú©Ø±Ù†Û’ Ú©ÛŒ Ù…ÛØ§Ø±Øª Ù…ÛŒÚº Ø§Ù„Ú¯ ÛÛŒ Ù„ÛŒÙˆÙ„ Ù¾Ø± ÛÛ’ØŒ<break time=\"0.5s\"/> Ø¬Ø¨Ú©Û Ø§Ù„Ù¾Ø§Ú©Ø§ Ø¨Ø³ Ø­ÛŒØ±Øª Ø³Û’ Ø¯ÛŒÚ©Ú¾ Ø±ÛØ§ ÛÛ’ Ø¬ÛŒØ³Û’ \"Ú©ÛŒØ§ Ù…ÛŒÚº Ø¨Ú¾ÛŒ ÛŒÛ Ø³ÛŒÚ©Ú¾ Ø³Ú©ØªØ§ ÛÙˆÚºØŸ\" ğŸ”âœ¨",
  "metadata": {
    "title": "Nature is Amazing â˜˜ï¸ - The chicken has figured out how her feeder works Now closes it in time so the alpacas don't eat all the food.",
    "duration": 33.43333333333333,
    "description": "The chicken has figured out how her feeder works Now closes it in time so the alpacas don't eat all the food. https://t.co/GVBsJu9Lr9",
    "uploader": "Nature is Amazing â˜˜ï¸",
    "view_count": null,
    "like_count": 141273,
    "upload_date": "20250203",
    "scene_changes": [],
    "motion_scores": [
      [
        "output_0\\frames\\frame_0.30s.jpg",
        2.4328114986419678
      ],
      [
        "output_0\\frames\\frame_0.40s.jpg",
        2.40671443939209
      ],
      [
        "output_0\\frames\\frame_0.50s.jpg",
        2.242037296295166
      ],
      [
        "output_0\\frames\\frame_0.60s.jpg",
        2.093170404434204
      ],
      [
        "output_0\\frames\\frame_2.70s.jpg",
        2.2306339740753174
      ],
      [
        "output_0\\frames\\frame_2.80s.jpg",
        2.085573196411133
      ],
      [
        "output_0\\frames\\frame_2.90s.jpg",
        2.167114019393921
      ],
      [
        "output_0\\frames\\frame_16.10s.jpg",
        2.091686248779297
      ],
      [
        "output_0\\frames\\frame_16.20s.jpg",
        2.42148494720459
      ],
      [
        "output_0\\frames\\frame_16.30s.jpg",
        2.7960448265075684
      ],
      [
        "output_0\\frames\\frame_16.40s.jpg",
        3.0180258750915527
      ],
      [
        "output_0\\frames\\frame_16.50s.jpg",
        3.00411319732666
      ],
      [
        "output_0\\frames\\frame_16.60s.jpg",
        2.7661421298980713
      ],
      [
        "output_0\\frames\\frame_16.70s.jpg",
        2.6690316200256348
      ],
      [
        "output_0\\frames\\frame_16.80s.jpg",
        2.4878687858581543
      ],
      [
        "output_0\\frames\\frame_16.90s.jpg",
        2.0821049213409424
      ]
    ],
    "language": "ur"
  },
  "language": "ur"
}
2025-02-23 21:39:46,551 - pipeline.Step_4_generate_commentary - INFO - 
=== PROCESSING FOR AUDIO ===
2025-02-23 21:39:46,553 - pipeline.Step_4_generate_commentary - INFO - Language: ur
2025-02-23 21:39:46,553 - pipeline.Step_4_generate_commentary - INFO - 
=== FINAL AUDIO SCRIPT ===
2025-02-23 21:39:46,555 - pipeline.Step_4_generate_commentary - INFO - ÛŒÛ Ù…Ø±ØºÛŒ ØªÙˆ Ù¾Ø±ÙˆÙÛŒØ´Ù†Ù„ ÙÛŒÙ†Ø³Ù¹Ø± ÛÛ’ØŒ<break time="0.5s"/> Ú©Ú¾Ø§Ù†Ø§ Ø¨Ù†Ø¯ Ú©Ø±Ù†Û’ Ú©ÛŒ Ù…ÛØ§Ø±Øª Ù…ÛŒÚº Ø§Ù„Ú¯ ÛÛŒ Ù„ÛŒÙˆÙ„ Ù¾Ø± ÛÛ’ØŒ<break time="0.5s"/> Ø¬Ø¨Ú©Û Ø§Ù„Ù¾Ø§Ú©Ø§ Ø¨Ø³ Ø­ÛŒØ±Øª Ø³Û’ Ø¯ÛŒÚ©Ú¾ Ø±ÛØ§ ÛÛ’ Ø¬ÛŒØ³Û’ Ú©ÛŒØ§ Ù…ÛŒÚº Ø¨Ú¾ÛŒ ÛŒÛ Ø³ÛŒÚ©Ú¾ Ø³Ú©ØªØ§ ÛÙˆÚºØŸ<break time="0.8s"/>
2025-02-23 21:39:46,558 - new_bot - INFO - Generating audio in ur...
2025-02-23 21:39:46,560 - __main__ - INFO - Status update: ğŸ™ï¸ Synthesizing voice...

80% â–°â–°â–°â–°â–°â–°â–°â–°â–±â–±
2025-02-23 21:39:46,580 - pipeline.Step_5_generate_audio - INFO - Generating audio for text: ÛŒÛ Ù…Ø±ØºÛŒ ØªÙˆ Ù¾Ø±ÙˆÙÛŒØ´Ù†Ù„ ÙÛŒÙ†Ø³Ù¹Ø± ÛÛ’ØŒ<break time="0.5s"/> Ú©Ú¾Ø§Ù†Ø§ Ø¨Ù†Ø¯ Ú©Ø±Ù†Û’ Ú©ÛŒ Ù…ÛØ§Ø±Øª Ù…ÛŒÚº Ø§Ù„Ú¯ ÛÛŒ Ù„ÛŒÙˆÙ„ Ù¾Ø± ÛÛ’ØŒ<br...
2025-02-23 21:39:47,337 - pipeline.Step_5_generate_audio - INFO - Successfully generated audio file: output_0\commentary_funny.wav
2025-02-23 21:39:47,338 - new_bot - INFO - Generating final video...
2025-02-23 21:39:47,339 - __main__ - INFO - Status update: ğŸ¥ Creating final video...

85% â–°â–°â–°â–°â–°â–°â–°â–°â–°â–±
2025-02-23 21:39:47,393 - pipeline.Step_6_video_generation - INFO - FFmpeg verified successfully
2025-02-23 21:39:47,450 - pipeline.Step_6_video_generation - WARNING - No logo found for style funny
2025-02-23 21:39:47,452 - pipeline.Step_6_video_generation - INFO - FFmpeg command: ffmpeg -y -i temp_0\video\video_20250223_213847.mp4 -i output_0\commentary_funny.wav -c:v libx264 -preset medium -crf 23 -c:a aac -b:a 192k -shortest -filter_complex [0:v]pad=636:1130:0:385:white[padded] -map [padded] -map 2:a output_0\final_video_funny.mp4
2025-02-23 21:39:47,538 - pipeline.Step_6_video_generation - ERROR - Error generating video: Command '['ffmpeg', '-y', '-i', 'temp_0\\video\\video_20250223_213847.mp4', '-i', 'output_0\\commentary_funny.wav', '-c:v', 'libx264', '-preset', 'medium', '-crf', '23', '-c:a', 'aac', '-b:a', '192k', '-shortest', '-filter_complex', '[0:v]pad=636:1130:0:385:white[padded]', '-map', '[padded]', '-map', '2:a', 'output_0\\final_video_funny.mp4']' returned non-zero exit status 4294967274.
2025-02-23 21:39:47,547 - new_bot - ERROR - Error processing video file: Failed to generate final video
2025-02-23 21:39:47,548 - __main__ - INFO - Status update: âŒ Error processing video: Failed to generate final video
Please try again or contact support.
2025-02-23 21:39:47,554 - __main__ - ERROR - No video data found after processing
2025-02-23 21:39:47,709 - __main__ - INFO - Cleanup completed successfully
2025-02-23 21:41:26,925 - __main__ - INFO - Checking environment variables...
2025-02-23 21:41:26,927 - __main__ - WARNING - âœ— Missing OPENAI_API_KEY in environment
2025-02-23 21:41:26,928 - __main__ - WARNING - âœ— Missing DEEPSEEK_API_KEY in environment
2025-02-23 21:41:26,929 - __main__ - WARNING - âœ— Missing GOOGLE_APPLICATION_CREDENTIALS_JSON in environment
2025-02-23 21:41:26,930 - __main__ - INFO - Some variables missing, checking railway.json...
2025-02-23 21:41:26,931 - __main__ - INFO - Found railway.json, loading configuration...
2025-02-23 21:41:26,932 - __main__ - INFO - Loaded OPENAI_API_KEY from railway.json
2025-02-23 21:41:26,933 - __main__ - INFO - Loaded DEEPSEEK_API_KEY from railway.json
2025-02-23 21:41:26,934 - __main__ - INFO - Loaded GOOGLE_APPLICATION_CREDENTIALS_JSON from railway.json
2025-02-23 21:41:26,936 - __main__ - INFO - Attempting to parse Google credentials...
2025-02-23 21:41:26,937 - __main__ - WARNING - Direct JSON parsing failed: Invalid control character at: line 1 column 175 (char 174)
2025-02-23 21:41:26,943 - __main__ - INFO - âœ“ Google credentials configured successfully
2025-02-23 21:41:26,944 - __main__ - INFO - âœ“ Configuration loaded successfully
2025-02-23 21:41:29,593 - new_bot - INFO - Checking environment variables...
2025-02-23 21:41:29,594 - new_bot - INFO - âœ“ Found OPENAI_API_KEY in environment
2025-02-23 21:41:29,595 - new_bot - INFO - âœ“ Found DEEPSEEK_API_KEY in environment
2025-02-23 21:41:29,596 - new_bot - INFO - âœ“ Found GOOGLE_APPLICATION_CREDENTIALS_JSON in environment
2025-02-23 21:41:29,597 - new_bot - INFO - Attempting to parse Google credentials...
2025-02-23 21:41:29,598 - new_bot - WARNING - Direct JSON parsing failed: Invalid control character at: line 1 column 175 (char 174)
2025-02-23 21:41:29,601 - new_bot - INFO - âœ“ Google credentials configured successfully
2025-02-23 21:41:47,623 - __main__ - INFO - Checking environment variables...
2025-02-23 21:41:47,624 - __main__ - INFO - âœ“ Found OPENAI_API_KEY in environment
2025-02-23 21:41:47,625 - __main__ - INFO - âœ“ Found DEEPSEEK_API_KEY in environment
2025-02-23 21:41:47,626 - __main__ - INFO - âœ“ Found GOOGLE_APPLICATION_CREDENTIALS_JSON in environment
2025-02-23 21:41:47,629 - __main__ - INFO - Attempting to parse Google credentials...
2025-02-23 21:41:47,630 - __main__ - WARNING - Direct JSON parsing failed: Invalid control character at: line 1 column 175 (char 174)
2025-02-23 21:41:47,633 - __main__ - INFO - âœ“ Google credentials configured successfully
2025-02-23 21:41:47,634 - __main__ - INFO - âœ“ Configuration loaded successfully
2025-02-23 21:41:49,933 - __main__ - INFO - Checking environment variables...
2025-02-23 21:41:49,935 - __main__ - INFO - âœ“ Found OPENAI_API_KEY in environment
2025-02-23 21:41:49,937 - __main__ - INFO - âœ“ Found DEEPSEEK_API_KEY in environment
2025-02-23 21:41:49,937 - __main__ - INFO - âœ“ Found GOOGLE_APPLICATION_CREDENTIALS_JSON in environment
2025-02-23 21:41:49,938 - __main__ - INFO - Attempting to parse Google credentials...
2025-02-23 21:41:49,938 - __main__ - WARNING - Direct JSON parsing failed: Invalid control character at: line 1 column 175 (char 174)
2025-02-23 21:41:49,941 - __main__ - INFO - âœ“ Google credentials configured successfully
2025-02-23 21:41:49,941 - __main__ - INFO - âœ“ Configuration loaded successfully
2025-02-23 21:41:51,774 - __main__ - INFO - Checking environment variables...
2025-02-23 21:41:51,778 - __main__ - INFO - âœ“ Found OPENAI_API_KEY in environment
2025-02-23 21:41:51,782 - __main__ - INFO - âœ“ Found DEEPSEEK_API_KEY in environment
2025-02-23 21:41:51,785 - __main__ - INFO - âœ“ Found GOOGLE_APPLICATION_CREDENTIALS_JSON in environment
2025-02-23 21:41:51,790 - __main__ - INFO - Attempting to parse Google credentials...
2025-02-23 21:41:51,793 - __main__ - WARNING - Direct JSON parsing failed: Invalid control character at: line 1 column 175 (char 174)
2025-02-23 21:41:51,800 - __main__ - INFO - âœ“ Google credentials configured successfully
2025-02-23 21:41:51,802 - __main__ - INFO - âœ“ Configuration loaded successfully
2025-02-23 21:41:52,898 - __main__ - INFO - Checking environment variables...
2025-02-23 21:41:52,902 - __main__ - INFO - âœ“ Found OPENAI_API_KEY in environment
2025-02-23 21:41:52,904 - __main__ - INFO - âœ“ Found DEEPSEEK_API_KEY in environment
2025-02-23 21:41:52,908 - __main__ - INFO - âœ“ Found GOOGLE_APPLICATION_CREDENTIALS_JSON in environment
2025-02-23 21:41:52,912 - __main__ - INFO - Attempting to parse Google credentials...
2025-02-23 21:41:52,915 - __main__ - WARNING - Direct JSON parsing failed: Invalid control character at: line 1 column 175 (char 174)
2025-02-23 21:41:52,923 - __main__ - INFO - âœ“ Google credentials configured successfully
2025-02-23 21:41:52,927 - __main__ - INFO - âœ“ Configuration loaded successfully
2025-02-23 21:41:52,978 - __main__ - INFO - Initializing StreamlitUpdate
2025-02-23 21:41:52,982 - __main__ - INFO - Initializing StreamlitContext
2025-02-23 21:41:52,986 - __main__ - INFO - Processing video URL: https://x.com/AMAZlNGNATURE/status/1886229103587602773
2025-02-23 21:41:52,987 - __main__ - INFO - Status update: ğŸ¬ Starting video processing...

0% â–±â–±â–±â–±â–±â–±â–±â–±â–±â–±
2025-02-23 21:41:52,990 - __main__ - INFO - Status update: ğŸ“¥ Downloading video...

10% â–°â–±â–±â–±â–±â–±â–±â–±â–±â–±
2025-02-23 21:41:52,992 - new_bot - INFO - Downloading video from: https://x.com/AMAZlNGNATURE/status/1886229103587602773
2025-02-23 21:41:52,994 - pipeline.Step_1_download_video - INFO - Downloading video from: https://twitter.com/AMAZlNGNATURE/status/1886229103587602773
2025-02-23 21:42:02,360 - pipeline.Step_1_download_video - INFO - Download completed
2025-02-23 21:42:02,363 - pipeline.Step_1_download_video - INFO - Downloaded file: temp_0\video\video_20250223_214156.mp4
2025-02-23 21:42:02,407 - new_bot - INFO - Starting video processing...
2025-02-23 21:42:02,408 - new_bot - INFO - Extracting frames...
2025-02-23 21:42:02,408 - __main__ - INFO - Status update: ğŸï¸ Extracting frames...

30% â–°â–°â–°â–±â–±â–±â–±â–±â–±â–±
2025-02-23 21:42:02,481 - pipeline.Step_2_extract_frames - INFO - Analyzing video for key frames...
2025-02-23 21:42:02,508 - pipeline.Step_2_extract_frames - INFO - Progress: 0.0%
2025-02-23 21:42:03,106 - pipeline.Step_2_extract_frames - INFO - Saved frame at 0.30s (scene_change=False, motion=2.43
2025-02-23 21:42:03,248 - pipeline.Step_2_extract_frames - INFO - Saved frame at 0.40s (scene_change=False, motion=2.41
2025-02-23 21:42:03,402 - pipeline.Step_2_extract_frames - INFO - Saved frame at 0.50s (scene_change=False, motion=2.24
2025-02-23 21:42:03,545 - pipeline.Step_2_extract_frames - INFO - Saved frame at 0.60s (scene_change=False, motion=2.09
2025-02-23 21:42:06,816 - pipeline.Step_2_extract_frames - INFO - Saved frame at 2.70s (scene_change=False, motion=2.23
2025-02-23 21:42:06,961 - pipeline.Step_2_extract_frames - INFO - Saved frame at 2.80s (scene_change=False, motion=2.09
2025-02-23 21:42:07,087 - pipeline.Step_2_extract_frames - INFO - Saved frame at 2.90s (scene_change=False, motion=2.17
2025-02-23 21:42:17,874 - pipeline.Step_2_extract_frames - INFO - Progress: 29.9%
2025-02-23 21:42:27,216 - pipeline.Step_2_extract_frames - INFO - Saved frame at 16.10s (scene_change=False, motion=2.09
2025-02-23 21:42:27,374 - pipeline.Step_2_extract_frames - INFO - Saved frame at 16.20s (scene_change=False, motion=2.42
2025-02-23 21:42:27,519 - pipeline.Step_2_extract_frames - INFO - Saved frame at 16.30s (scene_change=False, motion=2.80
2025-02-23 21:42:27,664 - pipeline.Step_2_extract_frames - INFO - Saved frame at 16.40s (scene_change=False, motion=3.02
2025-02-23 21:42:27,810 - pipeline.Step_2_extract_frames - INFO - Saved frame at 16.50s (scene_change=False, motion=3.00
2025-02-23 21:42:27,965 - pipeline.Step_2_extract_frames - INFO - Saved frame at 16.60s (scene_change=False, motion=2.77
2025-02-23 21:42:28,111 - pipeline.Step_2_extract_frames - INFO - Saved frame at 16.70s (scene_change=False, motion=2.67
2025-02-23 21:42:28,256 - pipeline.Step_2_extract_frames - INFO - Saved frame at 16.80s (scene_change=False, motion=2.49
2025-02-23 21:42:28,411 - pipeline.Step_2_extract_frames - INFO - Saved frame at 16.90s (scene_change=False, motion=2.08
2025-02-23 21:42:28,418 - pipeline.Step_2_extract_frames - INFO - Extracted 16 key frames
2025-02-23 21:42:28,420 - new_bot - INFO - Analyzing frames...
2025-02-23 21:42:28,421 - __main__ - INFO - Status update: ğŸ” Analyzing video content...

50% â–°â–°â–°â–°â–°â–±â–±â–±â–±â–±
2025-02-23 21:42:29,216 - pipeline.Step_3_analyze_frames - INFO - Selected 3 key frames for analysis
2025-02-23 21:42:37,705 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-23 21:42:42,309 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-23 21:42:47,226 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-23 21:42:47,252 - pipeline.Step_3_analyze_frames - INFO - Analysis complete. Results saved to output_0\final_analysis.json
2025-02-23 21:42:47,256 - new_bot - INFO - Generating commentary in ur...
2025-02-23 21:42:47,258 - __main__ - INFO - Status update: ğŸ’­ Generating commentary...

70% â–°â–°â–°â–°â–°â–°â–°â–±â–±â–±
2025-02-23 21:42:47,264 - pipeline.Step_4_generate_commentary - INFO - 
=== STARTING COMMENTARY GENERATION ===
2025-02-23 21:42:47,267 - pipeline.Step_4_generate_commentary - INFO - Content Type: funny
2025-02-23 21:42:47,269 - pipeline.Step_4_generate_commentary - INFO - Analysis File: output_0\final_analysis.json
2025-02-23 21:42:48,043 - pipeline.Step_4_generate_commentary - INFO - 
=== VIDEO TEXT FROM METADATA ===
2025-02-23 21:42:48,044 - pipeline.Step_4_generate_commentary - INFO - No text found in metadata
2025-02-23 21:42:48,045 - pipeline.Step_4_generate_commentary - INFO - 
=== SYSTEM PROMPT ===
2025-02-23 21:42:48,046 - pipeline.Step_4_generate_commentary - INFO - You are an entertaining commentator. Create humorous commentary that:
- Uses witty observations and jokes
- Maintains light and playful tone
- Includes appropriate humor
- Emphasizes amusing moments
- Keeps engagement through humor
2025-02-23 21:42:48,048 - pipeline.Step_4_generate_commentary - INFO - 
=== USER PROMPT ===
2025-02-23 21:42:48,049 - pipeline.Step_4_generate_commentary - INFO - Generate a VERY SHORT UR commentary (1-2 lines maximum) for this video in funny style.

VIDEO CONTENT:
Title: Nature is Amazing â˜˜ï¸ - The chicken has figured out how her feeder works Now closes it in time so the alpacas don't eat all the food.
Description: The chicken has figured out how her feeder works Now closes it in time so the alpacas don't eat all the food. https://t.co/GVBsJu9Lr9

VISUAL ANALYSIS:

Key visual elements (with confidence):
- Camelids (0.96)
- Alpaca (0.91)
- Llama (0.91)
- Terrestrial animal (0.89)
- Deer (0.82)
- Lawn (0.73)
- Livestock (0.71)

Detailed scene descriptions:
- 1. **Main Focus or Subject**:
   The primary focus of this frame is the interaction between the chicken and the alpaca. The chicken is near a feeder, which is likely the central element concerning the videoâ€™s narrative of animals interacting over food resources.

2. **Actions, Movements, or Interactions**:
   The chicken is positioned next to a feeder, suggesting its role in operating or guarding it. The alpaca standing nearby implies an interest in the food. The video description previously mentioned speaks to the chicken managing the feeder to prevent the alpaca from eating the food, implying an action where the chicken might close the feeder.

3. **Significant Details Aligning with the Narrative**:
   - The positioning of the chicken near the feeder aligns with the narrative that it has figured out the mechanism.
   - The presence of the alpaca close to a feeder suggests it is the one trying to access the food, a key part of the story.

4. **Connection to the Overall Story**:
   This moment in the video captures the scenario where the chicken's intelligence and learned behavior are on display. It's about problem-solving and interaction between species, showing the chicken's ability to control access to the feeder to prevent the alpaca from eating all the food.

5. **Potential Misidentifications**:
   There are no significant misidentifications. The detected "camelids" and "alpaca" correctly refer to the animal visible. Although other animals like llamas were mentioned
- 1. **Main Focus or Subject**: 
   - The main focus of this frame is the interaction between the chicken and the alpaca(s) around the feeder. The frame highlights the chickenâ€™s cleverness in utilizing the feeder and possibly managing access to it.

2. **Actions, Movements, or Interactions**: 
   - The chicken seems to be near its feeder, possibly interacting with it. The alpaca appears positioned toward the feeder, indicating interest in the food, but its distance suggests it may be obstructed or hesitant. The dynamics hint at the chicken controlling the feeder usage to prevent the alpaca from eating the food.

3. **Significant Details**: 
   - The presence of a feeder suggests a shared space for different species, emphasizing the chicken's intelligence in protecting its resources. The background, with greenery and a fenced area, indicates a farm-like, natural setting where such interactions are plausible.

4. **Connection to Overall Story**: 
   - This frame supports the videoâ€™s narrative of the chicken managing the feeder to prevent the alpaca from eating the food. It visually represents the described behavior of the chicken using its understanding of the feeder, in alignment with the cleverness stated in the description.

5. **Potential Misidentifications**: 
   - The computer vision analysis accurately identifies the alpaca. No deer or other animals like camels are present; the identification of deer could be a misclassification. The animal structure and location are consistent with


STRICT REQUIREMENTS:
1. MUST be 1-2 lines only - no exceptions
2. Focus on combining the video description with what is actually shown in the video
3. If there is text in the video, incorporate it naturally
4. Match the funny style while staying extremely brief
5. Make it engaging but concise
6. Format for ur
7. Ensure commentary reflects both visual content and video description
8. Correct any obvious errors in object detection (e.g., if a deer was labeled as a dog)
9. Use proper Urdu script and punctuation (Û”ØŒ ØŸ)
2025-02-23 21:42:48,067 - pipeline.Step_4_generate_commentary - INFO - 
=== GENERATING COMMENTARY ===
2025-02-23 21:42:48,964 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-23 21:42:48,967 - pipeline.Step_4_generate_commentary - INFO - 
=== RAW GENERATED COMMENTARY ===
2025-02-23 21:42:48,967 - pipeline.Step_4_generate_commentary - INFO - Ú†Ú©Ù† Ù†Û’ Ø®ÙˆØ±Ø§Ú© Ú©Ø§ Ø¨Ù†Ø¯ÙˆØ¨Ø³Øª Ú©Ø± Ù„ÛŒØ§ ÛÛ’ØŒ Ø§Ø¨ Ø§Ù„Ù¾Ø§Ú©Ø§ ØµØ±Ù "Ú©Ú¾Ø§Ù†Û’ Ú©Ø§ Ø§Ù†ØªØ¸Ø§Ø±" Ú©Ø± Ø³Ú©ØªØ§ ÛÛ’ØŒ Ø¬ÛŒØ³Û’ Ú©ÙˆØ¦ÛŒ Ø¨Û’Ú©Ø§Ø± Ù…ÛÙ…Ø§Ù†! ğŸ˜‚ğŸ”ğŸ¥³
2025-02-23 21:42:48,968 - pipeline.Step_4_generate_commentary - INFO - 
=== PROCESSED COMMENTARY ===
2025-02-23 21:42:48,969 - pipeline.Step_4_generate_commentary - INFO - Ú†Ú©Ù† Ù†Û’ Ø®ÙˆØ±Ø§Ú© Ú©Ø§ Ø¨Ù†Ø¯ÙˆØ¨Ø³Øª Ú©Ø± Ù„ÛŒØ§ ÛÛ’ØŒ<break time="0.5s"/> Ø§Ø¨ Ø§Ù„Ù¾Ø§Ú©Ø§ ØµØ±Ù "Ú©Ú¾Ø§Ù†Û’ Ú©Ø§ Ø§Ù†ØªØ¸Ø§Ø±" Ú©Ø± Ø³Ú©ØªØ§ ÛÛ’ØŒ<break time="0.5s"/> Ø¬ÛŒØ³Û’ Ú©ÙˆØ¦ÛŒ Ø¨Û’Ú©Ø§Ø± Ù…ÛÙ…Ø§Ù†! ğŸ˜‚ğŸ”ğŸ¥³
2025-02-23 21:42:48,970 - pipeline.Step_4_generate_commentary - INFO - 
=== FINAL COMMENTARY OBJECT ===
2025-02-23 21:42:48,972 - pipeline.Step_4_generate_commentary - INFO - {
  "style": "funny",
  "commentary": "Ú†Ú©Ù† Ù†Û’ Ø®ÙˆØ±Ø§Ú© Ú©Ø§ Ø¨Ù†Ø¯ÙˆØ¨Ø³Øª Ú©Ø± Ù„ÛŒØ§ ÛÛ’ØŒ<break time=\"0.5s\"/> Ø§Ø¨ Ø§Ù„Ù¾Ø§Ú©Ø§ ØµØ±Ù \"Ú©Ú¾Ø§Ù†Û’ Ú©Ø§ Ø§Ù†ØªØ¸Ø§Ø±\" Ú©Ø± Ø³Ú©ØªØ§ ÛÛ’ØŒ<break time=\"0.5s\"/> Ø¬ÛŒØ³Û’ Ú©ÙˆØ¦ÛŒ Ø¨Û’Ú©Ø§Ø± Ù…ÛÙ…Ø§Ù†! ğŸ˜‚ğŸ”ğŸ¥³",
  "metadata": {
    "title": "Nature is Amazing â˜˜ï¸ - The chicken has figured out how her feeder works Now closes it in time so the alpacas don't eat all the food.",
    "duration": 33.43333333333333,
    "description": "The chicken has figured out how her feeder works Now closes it in time so the alpacas don't eat all the food. https://t.co/GVBsJu9Lr9",
    "uploader": "Nature is Amazing â˜˜ï¸",
    "view_count": null,
    "like_count": 141273,
    "upload_date": "20250203",
    "scene_changes": [],
    "motion_scores": [
      [
        "output_0\\frames\\frame_0.30s.jpg",
        2.4328114986419678
      ],
      [
        "output_0\\frames\\frame_0.40s.jpg",
        2.40671443939209
      ],
      [
        "output_0\\frames\\frame_0.50s.jpg",
        2.242037296295166
      ],
      [
        "output_0\\frames\\frame_0.60s.jpg",
        2.093170404434204
      ],
      [
        "output_0\\frames\\frame_2.70s.jpg",
        2.2306339740753174
      ],
      [
        "output_0\\frames\\frame_2.80s.jpg",
        2.085573196411133
      ],
      [
        "output_0\\frames\\frame_2.90s.jpg",
        2.167114019393921
      ],
      [
        "output_0\\frames\\frame_16.10s.jpg",
        2.091686248779297
      ],
      [
        "output_0\\frames\\frame_16.20s.jpg",
        2.42148494720459
      ],
      [
        "output_0\\frames\\frame_16.30s.jpg",
        2.7960448265075684
      ],
      [
        "output_0\\frames\\frame_16.40s.jpg",
        3.0180258750915527
      ],
      [
        "output_0\\frames\\frame_16.50s.jpg",
        3.00411319732666
      ],
      [
        "output_0\\frames\\frame_16.60s.jpg",
        2.7661421298980713
      ],
      [
        "output_0\\frames\\frame_16.70s.jpg",
        2.6690316200256348
      ],
      [
        "output_0\\frames\\frame_16.80s.jpg",
        2.4878687858581543
      ],
      [
        "output_0\\frames\\frame_16.90s.jpg",
        2.0821049213409424
      ]
    ],
    "language": "ur"
  },
  "language": "ur"
}
2025-02-23 21:42:48,987 - pipeline.Step_4_generate_commentary - INFO - 
=== PROCESSING FOR AUDIO ===
2025-02-23 21:42:48,987 - pipeline.Step_4_generate_commentary - INFO - Language: ur
2025-02-23 21:42:48,989 - pipeline.Step_4_generate_commentary - INFO - 
=== FINAL AUDIO SCRIPT ===
2025-02-23 21:42:48,990 - pipeline.Step_4_generate_commentary - INFO - Ú†Ú©Ù† Ù†Û’ Ø®ÙˆØ±Ø§Ú© Ú©Ø§ Ø¨Ù†Ø¯ÙˆØ¨Ø³Øª Ú©Ø± Ù„ÛŒØ§ ÛÛ’ØŒ<break time="0.5s"/> Ø§Ø¨ Ø§Ù„Ù¾Ø§Ú©Ø§ ØµØ±Ù Ú©Ú¾Ø§Ù†Û’ Ú©Ø§ Ø§Ù†ØªØ¸Ø§Ø± Ú©Ø± Ø³Ú©ØªØ§ ÛÛ’ØŒ<break time="0.5s"/> Ø¬ÛŒØ³Û’ Ú©ÙˆØ¦ÛŒ Ø¨Û’Ú©Ø§Ø± Ù…ÛÙ…Ø§Ù†!
2025-02-23 21:42:48,993 - new_bot - INFO - Generating audio in ur...
2025-02-23 21:42:48,994 - __main__ - INFO - Status update: ğŸ™ï¸ Synthesizing voice...

80% â–°â–°â–°â–°â–°â–°â–°â–°â–±â–±
2025-02-23 21:42:49,012 - pipeline.Step_5_generate_audio - INFO - Generating audio for text: Ú†Ú©Ù† Ù†Û’ Ø®ÙˆØ±Ø§Ú© Ú©Ø§ Ø¨Ù†Ø¯ÙˆØ¨Ø³Øª Ú©Ø± Ù„ÛŒØ§ ÛÛ’ØŒ<break time="0.5s"/> Ø§Ø¨ Ø§Ù„Ù¾Ø§Ú©Ø§ ØµØ±Ù "Ú©Ú¾Ø§Ù†Û’ Ú©Ø§ Ø§Ù†ØªØ¸Ø§Ø±" Ú©Ø± Ø³Ú©ØªØ§ ÛÛ’ØŒ<b...
2025-02-23 21:42:50,586 - pipeline.Step_5_generate_audio - INFO - Successfully generated audio file: output_0\commentary_funny.wav
2025-02-23 21:42:50,589 - new_bot - INFO - Generating final video...
2025-02-23 21:42:50,591 - __main__ - INFO - Status update: ğŸ¥ Creating final video...

85% â–°â–°â–°â–°â–°â–°â–°â–°â–°â–±
2025-02-23 21:42:50,596 - pipeline.Step_6_video_generation - INFO - Ensured output directory exists: output_0
2025-02-23 21:42:50,598 - pipeline.Step_6_video_generation - INFO - Input video file: temp_0\video\video_20250223_214156.mp4 (exists: True)
2025-02-23 21:42:50,599 - pipeline.Step_6_video_generation - INFO - Input audio file: output_0\commentary_funny.wav (exists: True)
2025-02-23 21:42:50,646 - pipeline.Step_6_video_generation - INFO - FFmpeg verified successfully
2025-02-23 21:42:50,647 - pipeline.Step_6_video_generation - INFO - Ensured video directory exists: C:\Users\mrema\Downloads\Video-Commentary-Bot-0.1\temp_0\video
2025-02-23 21:42:50,648 - pipeline.Step_6_video_generation - INFO - Ensured output directory exists: C:\Users\mrema\Downloads\Video-Commentary-Bot-0.1\output_0
2025-02-23 21:42:50,650 - pipeline.Step_6_video_generation - INFO - Video file exists: True (C:\Users\mrema\Downloads\Video-Commentary-Bot-0.1\temp_0\video\video_20250223_214156.mp4)
2025-02-23 21:42:50,651 - pipeline.Step_6_video_generation - INFO - Audio file exists: True (C:\Users\mrema\Downloads\Video-Commentary-Bot-0.1\output_0\commentary_funny.wav)
2025-02-23 21:42:50,652 - pipeline.Step_6_video_generation - INFO - Video file size: 1131657 bytes
2025-02-23 21:42:50,653 - pipeline.Step_6_video_generation - INFO - Audio file size: 379166 bytes
2025-02-23 21:42:50,654 - pipeline.Step_6_video_generation - INFO - Video absolute path: C:\Users\mrema\Downloads\Video-Commentary-Bot-0.1\temp_0\video\video_20250223_214156.mp4
2025-02-23 21:42:50,655 - pipeline.Step_6_video_generation - INFO - Audio absolute path: C:\Users\mrema\Downloads\Video-Commentary-Bot-0.1\output_0\commentary_funny.wav
2025-02-23 21:42:50,656 - pipeline.Step_6_video_generation - INFO - Current working directory: C:\Users\mrema\Downloads\Video-Commentary-Bot-0.1
2025-02-23 21:42:50,657 - pipeline.Step_6_video_generation - INFO - FFmpeg command: ffmpeg -y -i C:\Users\mrema\Downloads\Video-Commentary-Bot-0.1\temp_0\video\video_20250223_214156.mp4 -i C:\Users\mrema\Downloads\Video-Commentary-Bot-0.1\output_0\commentary_funny.wav -vf pad=636:1130:0:385:color=white -c:v libx264 -preset medium -crf 23 -c:a aac -b:a 192k -map 0:v -map 1:a -shortest C:\Users\mrema\Downloads\Video-Commentary-Bot-0.1\output_0\final_video_funny.mp4
2025-02-23 21:42:52,184 - pipeline.Step_6_video_generation - INFO - Video generated successfully: C:\Users\mrema\Downloads\Video-Commentary-Bot-0.1\output_0\final_video_funny.mp4
2025-02-23 21:42:52,185 - __main__ - INFO - Status update: ğŸ“¤ Uploading enhanced video...

90% â–°â–°â–°â–°â–°â–°â–°â–°â–±â–±
2025-02-23 21:42:52,187 - __main__ - INFO - Handling video reply
2025-02-23 21:42:52,194 - __main__ - INFO - Status update: âœ… Processing complete!

100% â–°â–°â–°â–°â–°â–°â–°â–°â–°â–°
2025-02-23 21:42:52,334 - __main__ - INFO - Cleanup completed successfully
2025-02-23 21:48:43,060 - __main__ - INFO - Checking environment variables...
2025-02-23 21:48:43,062 - __main__ - INFO - âœ“ Found OPENAI_API_KEY in environment
2025-02-23 21:48:43,065 - __main__ - INFO - âœ“ Found DEEPSEEK_API_KEY in environment
2025-02-23 21:48:43,065 - __main__ - INFO - âœ“ Found GOOGLE_APPLICATION_CREDENTIALS_JSON in environment
2025-02-23 21:48:43,067 - __main__ - INFO - Attempting to parse Google credentials...
2025-02-23 21:48:43,068 - __main__ - WARNING - Direct JSON parsing failed: Invalid control character at: line 1 column 175 (char 174)
2025-02-23 21:48:43,071 - __main__ - INFO - âœ“ Google credentials configured successfully
2025-02-23 21:48:43,072 - __main__ - INFO - âœ“ Configuration loaded successfully
2025-02-23 21:50:03,982 - __main__ - INFO - Checking environment variables...
2025-02-23 21:50:03,983 - __main__ - INFO - âœ“ Found OPENAI_API_KEY in environment
2025-02-23 21:50:03,985 - __main__ - INFO - âœ“ Found DEEPSEEK_API_KEY in environment
2025-02-23 21:50:03,985 - __main__ - INFO - âœ“ Found GOOGLE_APPLICATION_CREDENTIALS_JSON in environment
2025-02-23 21:50:03,986 - __main__ - INFO - Attempting to parse Google credentials...
2025-02-23 21:50:03,987 - __main__ - WARNING - Direct JSON parsing failed: Invalid control character at: line 1 column 175 (char 174)
2025-02-23 21:50:03,991 - __main__ - INFO - âœ“ Google credentials configured successfully
2025-02-23 21:50:03,992 - __main__ - INFO - âœ“ Configuration loaded successfully
2025-02-23 21:50:03,996 - new_bot - INFO - Checking environment variables...
2025-02-23 21:50:03,996 - new_bot - INFO - âœ“ Found OPENAI_API_KEY in environment
2025-02-23 21:50:03,997 - new_bot - INFO - âœ“ Found DEEPSEEK_API_KEY in environment
2025-02-23 21:50:03,997 - new_bot - INFO - âœ“ Found GOOGLE_APPLICATION_CREDENTIALS_JSON in environment
2025-02-23 21:50:03,999 - new_bot - INFO - Attempting to parse Google credentials...
2025-02-23 21:50:03,999 - new_bot - WARNING - Direct JSON parsing failed: Invalid control character at: line 1 column 175 (char 174)
2025-02-23 21:50:04,001 - new_bot - INFO - âœ“ Google credentials configured successfully
2025-02-23 21:53:32,914 - __main__ - INFO - Checking environment variables...
2025-02-23 21:53:32,915 - __main__ - INFO - âœ“ Found OPENAI_API_KEY in environment
2025-02-23 21:53:32,918 - __main__ - INFO - âœ“ Found DEEPSEEK_API_KEY in environment
2025-02-23 21:53:32,919 - __main__ - INFO - âœ“ Found GOOGLE_APPLICATION_CREDENTIALS_JSON in environment
2025-02-23 21:53:32,921 - __main__ - INFO - Attempting to parse Google credentials...
2025-02-23 21:53:32,923 - __main__ - WARNING - Direct JSON parsing failed: Invalid control character at: line 1 column 175 (char 174)
2025-02-23 21:53:32,925 - __main__ - INFO - âœ“ Google credentials configured successfully
2025-02-23 21:53:32,926 - __main__ - INFO - âœ“ Configuration loaded successfully
2025-02-23 21:53:32,939 - __main__ - INFO - Initializing StreamlitUpdate
2025-02-23 21:53:32,942 - __main__ - INFO - Initializing StreamlitContext
2025-02-23 21:53:32,945 - __main__ - INFO - Processing video URL: https://x.com/AMAZlNGNATURE/status/1886229103587602773
2025-02-23 21:53:32,945 - __main__ - INFO - Status update: ğŸ¬ Starting video processing...

0% â–±â–±â–±â–±â–±â–±â–±â–±â–±â–±
2025-02-23 21:53:32,947 - __main__ - INFO - Status update: ğŸ“¥ Downloading video...

10% â–°â–±â–±â–±â–±â–±â–±â–±â–±â–±
2025-02-23 21:53:32,949 - new_bot - INFO - Downloading video from: https://x.com/AMAZlNGNATURE/status/1886229103587602773
2025-02-23 21:53:32,950 - pipeline.Step_1_download_video - INFO - Downloading video from: https://twitter.com/AMAZlNGNATURE/status/1886229103587602773
2025-02-23 21:53:44,051 - pipeline.Step_1_download_video - INFO - Download completed
2025-02-23 21:53:44,053 - pipeline.Step_1_download_video - INFO - Downloaded file: temp_0\video\video_20250223_215334.mp4
2025-02-23 21:53:44,084 - new_bot - INFO - Starting video processing...
2025-02-23 21:53:44,085 - new_bot - INFO - Extracting frames...
2025-02-23 21:53:44,087 - __main__ - INFO - Status update: ğŸï¸ Extracting frames...

30% â–°â–°â–°â–±â–±â–±â–±â–±â–±â–±
2025-02-23 21:53:44,167 - pipeline.Step_2_extract_frames - INFO - Analyzing video for key frames...
2025-02-23 21:53:44,194 - pipeline.Step_2_extract_frames - INFO - Progress: 0.0%
2025-02-23 21:53:44,774 - pipeline.Step_2_extract_frames - INFO - Saved frame at 0.30s (scene_change=False, motion=2.43
2025-02-23 21:53:44,922 - pipeline.Step_2_extract_frames - INFO - Saved frame at 0.40s (scene_change=False, motion=2.41
2025-02-23 21:53:45,064 - pipeline.Step_2_extract_frames - INFO - Saved frame at 0.50s (scene_change=False, motion=2.24
2025-02-23 21:53:45,218 - pipeline.Step_2_extract_frames - INFO - Saved frame at 0.60s (scene_change=False, motion=2.09
2025-02-23 21:53:48,429 - pipeline.Step_2_extract_frames - INFO - Saved frame at 2.70s (scene_change=False, motion=2.23
2025-02-23 21:53:48,581 - pipeline.Step_2_extract_frames - INFO - Saved frame at 2.80s (scene_change=False, motion=2.09
2025-02-23 21:53:48,724 - pipeline.Step_2_extract_frames - INFO - Saved frame at 2.90s (scene_change=False, motion=2.17
2025-02-23 21:53:59,182 - pipeline.Step_2_extract_frames - INFO - Progress: 29.9%
2025-02-23 21:54:08,871 - pipeline.Step_2_extract_frames - INFO - Saved frame at 16.10s (scene_change=False, motion=2.09
2025-02-23 21:54:09,021 - pipeline.Step_2_extract_frames - INFO - Saved frame at 16.20s (scene_change=False, motion=2.42
2025-02-23 21:54:09,165 - pipeline.Step_2_extract_frames - INFO - Saved frame at 16.30s (scene_change=False, motion=2.80
2025-02-23 21:54:09,315 - pipeline.Step_2_extract_frames - INFO - Saved frame at 16.40s (scene_change=False, motion=3.02
2025-02-23 21:54:09,455 - pipeline.Step_2_extract_frames - INFO - Saved frame at 16.50s (scene_change=False, motion=3.00
2025-02-23 21:54:09,599 - pipeline.Step_2_extract_frames - INFO - Saved frame at 16.60s (scene_change=False, motion=2.77
2025-02-23 21:54:09,741 - pipeline.Step_2_extract_frames - INFO - Saved frame at 16.70s (scene_change=False, motion=2.67
2025-02-23 21:54:09,891 - pipeline.Step_2_extract_frames - INFO - Saved frame at 16.80s (scene_change=False, motion=2.49
2025-02-23 21:54:10,039 - pipeline.Step_2_extract_frames - INFO - Saved frame at 16.90s (scene_change=False, motion=2.08
2025-02-23 21:54:10,046 - pipeline.Step_2_extract_frames - INFO - Extracted 16 key frames
2025-02-23 21:54:10,048 - new_bot - INFO - Analyzing frames...
2025-02-23 21:54:10,049 - __main__ - INFO - Status update: ğŸ” Analyzing video content...

50% â–°â–°â–°â–°â–°â–±â–±â–±â–±â–±
2025-02-23 21:54:10,818 - pipeline.Step_3_analyze_frames - INFO - Selected 3 key frames for analysis
2025-02-23 21:54:23,370 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-23 21:54:29,480 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-23 21:54:34,691 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-23 21:54:34,707 - pipeline.Step_3_analyze_frames - INFO - Analysis complete. Results saved to output_0\final_analysis.json
2025-02-23 21:54:34,711 - new_bot - INFO - Generating commentary in ur...
2025-02-23 21:54:34,713 - __main__ - INFO - Status update: ğŸ’­ Generating commentary...

70% â–°â–°â–°â–°â–°â–°â–°â–±â–±â–±
2025-02-23 21:54:34,717 - pipeline.Step_4_generate_commentary - INFO - 
=== STARTING COMMENTARY GENERATION ===
2025-02-23 21:54:34,718 - pipeline.Step_4_generate_commentary - INFO - Content Type: funny
2025-02-23 21:54:34,719 - pipeline.Step_4_generate_commentary - INFO - Analysis File: output_0\final_analysis.json
2025-02-23 21:54:35,489 - pipeline.Step_4_generate_commentary - INFO - 
=== VIDEO TEXT FROM METADATA ===
2025-02-23 21:54:35,490 - pipeline.Step_4_generate_commentary - INFO - No text found in metadata
2025-02-23 21:54:35,491 - pipeline.Step_4_generate_commentary - INFO - 
=== SYSTEM PROMPT ===
2025-02-23 21:54:35,492 - pipeline.Step_4_generate_commentary - INFO - You are an entertaining commentator. Create humorous commentary that:
- Uses witty observations and jokes
- Maintains light and playful tone
- Includes appropriate humor
- Emphasizes amusing moments
- Keeps engagement through humor
2025-02-23 21:54:35,494 - pipeline.Step_4_generate_commentary - INFO - 
=== USER PROMPT ===
2025-02-23 21:54:35,494 - pipeline.Step_4_generate_commentary - INFO - Generate a VERY SHORT UR commentary (1-2 lines maximum) for this video in funny style.

VIDEO CONTENT:
Title: Nature is Amazing â˜˜ï¸ - The chicken has figured out how her feeder works Now closes it in time so the alpacas don't eat all the food.
Description: The chicken has figured out how her feeder works Now closes it in time so the alpacas don't eat all the food. https://t.co/GVBsJu9Lr9

VISUAL ANALYSIS:

Key visual elements (with confidence):
- Camelids (0.96)
- Alpaca (0.91)
- Llama (0.91)
- Terrestrial animal (0.89)
- Deer (0.82)
- Lawn (0.73)
- Livestock (0.71)

Detailed scene descriptions:
- 1. **Main Focus or Subject**: 
   The frame highlights the interaction between a chicken and an alpaca near a feeder. This aligns with the videoâ€™s context where the chicken controls access to the feeder, preventing the alpaca from consuming all the food.

2. **Actions, Movements, or Interactions**:
   The chicken appears to be near the feeder, suggesting it might be engaged in operating or closing it. The alpaca stands nearby, potentially indicating its interest in the food.

3. **Significant Details**:
   - **Chicken**: Positioned strategically close to the feeder, suggesting it's in control of the feeder's accessibility.
   - **Alpaca**: Its presence highlights the dynamic described in the video, where the chickenâ€™s actions deter the alpaca from eating.

4. **Connection to the Narrative**:
   This moment exemplifies the cleverness described in the video. The chickenâ€™s understanding of the feeder showcases its ability to protect its resources, tying directly to the narrative of animal intelligence and natural interactions.

5. **Correction of Misidentifications**:
   - The main animal interacting with the chicken is an alpaca, confirmed visually as thereâ€™s no indication of deer or llama presence despite previous analysis suggestions.
   - The identification of lawn and feeder components seems correct, adding to the sceneâ€™s context.

6. **Distinguishing Similar Animals**:
   - The animal is clearly an alpaca, differentiated from camels or llamas by size
- 1. **Main Focus:**
   The main focus of this frame is the interaction between the chicken and the alpaca. The chicken is near the feeder, which aligns with the videoâ€™s context of the chicken understanding how to operate it and ensuring the alpacas don't consume all the food.

2. **Actions and Interactions:**
   - The chicken is at the feeder. Given the context, this likely indicates that the chicken might be preparing to close or operate the feeder mechanism.
   - The alpaca nearby seems interested in the feeder, likely waiting for an opportunity to access the food.

3. **Significant Details:**
   - The positioning of the chicken and the feeder suggests that the chicken is in control of the situation.
   - The alert stance of the alpaca suggests anticipation, highlighting the dynamic between the animal's intelligence and the feeding mechanism.

4. **Connection to Overall Story:**
   - This frame visually supports the narrative of the chicken using its understanding to manage the feeder intelligently, preventing the alpacas from eating all the food.
   - The interaction between the chicken and alpaca reinforces the theme of animals adapting and learning from their environment.

5. **Corrections to Computer Vision:**
   - The presence of an alpaca near the feeder seems correct given the description. There is no indication of any deer, camels, or llamas in this specific frame, so those labels can be disregarded.

6. **Distinguishing Similar Animals:**
   -


STRICT REQUIREMENTS:
1. MUST be 1-2 lines only - no exceptions
2. Focus on combining the video description with what is actually shown in the video
3. If there is text in the video, incorporate it naturally
4. Match the funny style while staying extremely brief
5. Make it engaging but concise
6. Format for ur
7. Ensure commentary reflects both visual content and video description
8. Correct any obvious errors in object detection (e.g., if a deer was labeled as a dog)
9. Use proper Urdu script and punctuation (Û”ØŒ ØŸ)
2025-02-23 21:54:35,514 - pipeline.Step_4_generate_commentary - INFO - 
=== GENERATING COMMENTARY ===
2025-02-23 21:54:36,855 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-23 21:54:36,865 - pipeline.Step_4_generate_commentary - INFO - 
=== RAW GENERATED COMMENTARY ===
2025-02-23 21:54:36,867 - pipeline.Step_4_generate_commentary - INFO - ÛŒÛ Ù…Ø±ØºÛŒ ØªÙˆ Ø¨ÛŒÚ†Ø§Ø±ÛŒ Ø§Ù„Ù¾Ø§Ú©Ø§ Ú©ÛŒ Ø¨Ú¾ÙˆÚ© Ú©ÛŒ Ø±ÙˆÙ¹ÛŒ Ú©Ø§ Ø®ÛŒØ§Ù„ Ø±Ú©Ú¾ Ø±ÛÛŒ ÛÛ’ØŒ Ù„Ú¯ØªØ§ ÛÛ’ Ø§Ø³Û’ Ø­ÛŒØ§Øª Ú©ÛŒ Ø³Ú†Ø§Ø¦ÛŒ Ú©Ø§ Ø³Ø¨Ù‚ Ù…Ù„Ø§ ÛÛ’: "Ú©Ú¾Ø§Ù†Û’ Ú©Ø§ Ø­Ù‚ Ø³Ø¨ Ú©Ø§ ÛÛ’ØŒ Ù…Ú¯Ø± Ù¾ÛÙ„Û’ Ù…ÛŒÚº!" ğŸ˜‚ğŸ”âœ¨
2025-02-23 21:54:36,871 - pipeline.Step_4_generate_commentary - INFO - 
=== PROCESSED COMMENTARY ===
2025-02-23 21:54:36,874 - pipeline.Step_4_generate_commentary - INFO - ÛŒÛ Ù…Ø±ØºÛŒ ØªÙˆ Ø¨ÛŒÚ†Ø§Ø±ÛŒ Ø§Ù„Ù¾Ø§Ú©Ø§ Ú©ÛŒ Ø¨Ú¾ÙˆÚ© Ú©ÛŒ Ø±ÙˆÙ¹ÛŒ Ú©Ø§ Ø®ÛŒØ§Ù„ Ø±Ú©Ú¾ Ø±ÛÛŒ ÛÛ’ØŒ<break time="0.5s"/> Ù„Ú¯ØªØ§ ÛÛ’ Ø§Ø³Û’ Ø­ÛŒØ§Øª Ú©ÛŒ Ø³Ú†Ø§Ø¦ÛŒ Ú©Ø§ Ø³Ø¨Ù‚ Ù…Ù„Ø§ ÛÛ’: "Ú©Ú¾Ø§Ù†Û’ Ú©Ø§ Ø­Ù‚ Ø³Ø¨ Ú©Ø§ ÛÛ’ØŒ<break time="0.5s"/> Ù…Ú¯Ø± Ù¾ÛÙ„Û’ Ù…ÛŒÚº!" ğŸ˜‚ğŸ”âœ¨
2025-02-23 21:54:36,877 - pipeline.Step_4_generate_commentary - INFO - 
=== FINAL COMMENTARY OBJECT ===
2025-02-23 21:54:36,881 - pipeline.Step_4_generate_commentary - INFO - {
  "style": "funny",
  "commentary": "ÛŒÛ Ù…Ø±ØºÛŒ ØªÙˆ Ø¨ÛŒÚ†Ø§Ø±ÛŒ Ø§Ù„Ù¾Ø§Ú©Ø§ Ú©ÛŒ Ø¨Ú¾ÙˆÚ© Ú©ÛŒ Ø±ÙˆÙ¹ÛŒ Ú©Ø§ Ø®ÛŒØ§Ù„ Ø±Ú©Ú¾ Ø±ÛÛŒ ÛÛ’ØŒ<break time=\"0.5s\"/> Ù„Ú¯ØªØ§ ÛÛ’ Ø§Ø³Û’ Ø­ÛŒØ§Øª Ú©ÛŒ Ø³Ú†Ø§Ø¦ÛŒ Ú©Ø§ Ø³Ø¨Ù‚ Ù…Ù„Ø§ ÛÛ’: \"Ú©Ú¾Ø§Ù†Û’ Ú©Ø§ Ø­Ù‚ Ø³Ø¨ Ú©Ø§ ÛÛ’ØŒ<break time=\"0.5s\"/> Ù…Ú¯Ø± Ù¾ÛÙ„Û’ Ù…ÛŒÚº!\" ğŸ˜‚ğŸ”âœ¨",
  "metadata": {
    "title": "Nature is Amazing â˜˜ï¸ - The chicken has figured out how her feeder works Now closes it in time so the alpacas don't eat all the food.",
    "duration": 33.43333333333333,
    "description": "The chicken has figured out how her feeder works Now closes it in time so the alpacas don't eat all the food. https://t.co/GVBsJu9Lr9",
    "uploader": "Nature is Amazing â˜˜ï¸",
    "view_count": null,
    "like_count": 141275,
    "upload_date": "20250203",
    "scene_changes": [],
    "motion_scores": [
      [
        "output_0\\frames\\frame_0.30s.jpg",
        2.4328114986419678
      ],
      [
        "output_0\\frames\\frame_0.40s.jpg",
        2.40671443939209
      ],
      [
        "output_0\\frames\\frame_0.50s.jpg",
        2.242037296295166
      ],
      [
        "output_0\\frames\\frame_0.60s.jpg",
        2.093170404434204
      ],
      [
        "output_0\\frames\\frame_2.70s.jpg",
        2.2306339740753174
      ],
      [
        "output_0\\frames\\frame_2.80s.jpg",
        2.085573196411133
      ],
      [
        "output_0\\frames\\frame_2.90s.jpg",
        2.167114019393921
      ],
      [
        "output_0\\frames\\frame_16.10s.jpg",
        2.091686248779297
      ],
      [
        "output_0\\frames\\frame_16.20s.jpg",
        2.42148494720459
      ],
      [
        "output_0\\frames\\frame_16.30s.jpg",
        2.7960448265075684
      ],
      [
        "output_0\\frames\\frame_16.40s.jpg",
        3.0180258750915527
      ],
      [
        "output_0\\frames\\frame_16.50s.jpg",
        3.00411319732666
      ],
      [
        "output_0\\frames\\frame_16.60s.jpg",
        2.7661421298980713
      ],
      [
        "output_0\\frames\\frame_16.70s.jpg",
        2.6690316200256348
      ],
      [
        "output_0\\frames\\frame_16.80s.jpg",
        2.4878687858581543
      ],
      [
        "output_0\\frames\\frame_16.90s.jpg",
        2.0821049213409424
      ]
    ],
    "language": "ur"
  },
  "language": "ur"
}
2025-02-23 21:54:36,914 - pipeline.Step_4_generate_commentary - INFO - 
=== PROCESSING FOR AUDIO ===
2025-02-23 21:54:36,915 - pipeline.Step_4_generate_commentary - INFO - Language: ur
2025-02-23 21:54:36,916 - pipeline.Step_4_generate_commentary - INFO - 
=== FINAL AUDIO SCRIPT ===
2025-02-23 21:54:36,917 - pipeline.Step_4_generate_commentary - INFO - ÛŒÛ Ù…Ø±ØºÛŒ ØªÙˆ Ø¨ÛŒÚ†Ø§Ø±ÛŒ Ø§Ù„Ù¾Ø§Ú©Ø§ Ú©ÛŒ Ø¨Ú¾ÙˆÚ© Ú©ÛŒ Ø±ÙˆÙ¹ÛŒ Ú©Ø§ Ø®ÛŒØ§Ù„ Ø±Ú©Ú¾ Ø±ÛÛŒ ÛÛ’ØŒ<break time="0.5s"/> Ù„Ú¯ØªØ§ ÛÛ’ Ø§Ø³Û’ Ø­ÛŒØ§Øª Ú©ÛŒ Ø³Ú†Ø§Ø¦ÛŒ Ú©Ø§ Ø³Ø¨Ù‚ Ù…Ù„Ø§ ÛÛ’ Ú©Ú¾Ø§Ù†Û’ Ú©Ø§ Ø­Ù‚ Ø³Ø¨ Ú©Ø§ ÛÛ’ØŒ<break time="0.5s"/> Ù…Ú¯Ø± Ù¾ÛÙ„Û’ Ù…ÛŒÚº!
2025-02-23 21:54:36,920 - new_bot - INFO - Generating audio in ur...
2025-02-23 21:54:36,921 - __main__ - INFO - Status update: ğŸ™ï¸ Synthesizing voice...

80% â–°â–°â–°â–°â–°â–°â–°â–°â–±â–±
2025-02-23 21:54:36,942 - pipeline.Step_5_generate_audio - INFO - Generating audio for text: ÛŒÛ Ù…Ø±ØºÛŒ ØªÙˆ Ø¨ÛŒÚ†Ø§Ø±ÛŒ Ø§Ù„Ù¾Ø§Ú©Ø§ Ú©ÛŒ Ø¨Ú¾ÙˆÚ© Ú©ÛŒ Ø±ÙˆÙ¹ÛŒ Ú©Ø§ Ø®ÛŒØ§Ù„ Ø±Ú©Ú¾ Ø±ÛÛŒ ÛÛ’ØŒ<break time="0.5s"/> Ù„Ú¯ØªØ§ ÛÛ’ Ø§Ø³Û’ Ø­ÛŒØ§Øª Ú©ÛŒ...
2025-02-23 21:54:37,753 - pipeline.Step_5_generate_audio - INFO - Successfully generated audio file: output_0\commentary_funny.wav
2025-02-23 21:54:37,756 - new_bot - INFO - Generating final video...
2025-02-23 21:54:37,758 - __main__ - INFO - Status update: ğŸ¥ Creating final video...

85% â–°â–°â–°â–°â–°â–°â–°â–°â–°â–±
2025-02-23 21:54:37,764 - pipeline.Step_6_video_generation - INFO - Ensured output directory exists: output_0
2025-02-23 21:54:37,766 - pipeline.Step_6_video_generation - INFO - Input video file: temp_0\video\video_20250223_215334.mp4 (exists: True)
2025-02-23 21:54:37,769 - pipeline.Step_6_video_generation - INFO - Input audio file: output_0\commentary_funny.wav (exists: True)
2025-02-23 21:54:37,825 - pipeline.Step_6_video_generation - INFO - FFmpeg verified successfully
2025-02-23 21:54:37,826 - pipeline.Step_6_video_generation - INFO - Ensured video directory exists: C:\Users\mrema\Downloads\Video-Commentary-Bot-0.1\temp_0\video
2025-02-23 21:54:37,828 - pipeline.Step_6_video_generation - INFO - Ensured output directory exists: C:\Users\mrema\Downloads\Video-Commentary-Bot-0.1\output_0
2025-02-23 21:54:37,829 - pipeline.Step_6_video_generation - INFO - Video file exists: True (C:\Users\mrema\Downloads\Video-Commentary-Bot-0.1\temp_0\video\video_20250223_215334.mp4)
2025-02-23 21:54:37,830 - pipeline.Step_6_video_generation - INFO - Audio file exists: True (C:\Users\mrema\Downloads\Video-Commentary-Bot-0.1\output_0\commentary_funny.wav)
2025-02-23 21:54:37,831 - pipeline.Step_6_video_generation - INFO - Video file size: 1131657 bytes
2025-02-23 21:54:37,831 - pipeline.Step_6_video_generation - INFO - Audio file size: 470438 bytes
2025-02-23 21:54:37,832 - pipeline.Step_6_video_generation - INFO - Video absolute path: C:\Users\mrema\Downloads\Video-Commentary-Bot-0.1\temp_0\video\video_20250223_215334.mp4
2025-02-23 21:54:37,832 - pipeline.Step_6_video_generation - INFO - Audio absolute path: C:\Users\mrema\Downloads\Video-Commentary-Bot-0.1\output_0\commentary_funny.wav
2025-02-23 21:54:37,833 - pipeline.Step_6_video_generation - INFO - Current working directory: C:\Users\mrema\Downloads\Video-Commentary-Bot-0.1
2025-02-23 21:54:37,834 - pipeline.Step_6_video_generation - INFO - FFmpeg command: ffmpeg -y -i C:\Users\mrema\Downloads\Video-Commentary-Bot-0.1\temp_0\video\video_20250223_215334.mp4 -i C:\Users\mrema\Downloads\Video-Commentary-Bot-0.1\output_0\commentary_funny.wav -vf pad=636:1130:0:385:color=white -c:v libx264 -preset medium -crf 23 -c:a aac -b:a 192k -map 0:v -map 1:a -shortest C:\Users\mrema\Downloads\Video-Commentary-Bot-0.1\output_0\final_video_funny.mp4
2025-02-23 21:54:39,712 - pipeline.Step_6_video_generation - INFO - Video generated successfully: C:\Users\mrema\Downloads\Video-Commentary-Bot-0.1\output_0\final_video_funny.mp4
2025-02-23 21:54:39,713 - __main__ - INFO - Status update: ğŸ“¤ Uploading enhanced video...

90% â–°â–°â–°â–°â–°â–°â–°â–°â–±â–±
2025-02-23 21:54:39,715 - __main__ - INFO - Handling video reply
2025-02-23 21:54:39,725 - __main__ - INFO - Status update: âœ… Processing complete!

100% â–°â–°â–°â–°â–°â–°â–°â–°â–°â–°
2025-02-23 21:54:39,869 - __main__ - INFO - Cleanup completed successfully
2025-02-23 21:55:23,344 - __main__ - INFO - Checking environment variables...
2025-02-23 21:55:23,347 - __main__ - WARNING - âœ— Missing OPENAI_API_KEY in environment
2025-02-23 21:55:23,349 - __main__ - WARNING - âœ— Missing DEEPSEEK_API_KEY in environment
2025-02-23 21:55:23,350 - __main__ - WARNING - âœ— Missing GOOGLE_APPLICATION_CREDENTIALS_JSON in environment
2025-02-23 21:55:23,352 - __main__ - INFO - Some variables missing, checking railway.json...
2025-02-23 21:55:23,355 - __main__ - INFO - Found railway.json, loading configuration...
2025-02-23 21:55:23,358 - __main__ - INFO - Loaded OPENAI_API_KEY from railway.json
2025-02-23 21:55:23,359 - __main__ - INFO - Loaded DEEPSEEK_API_KEY from railway.json
2025-02-23 21:55:23,360 - __main__ - INFO - Loaded GOOGLE_APPLICATION_CREDENTIALS_JSON from railway.json
2025-02-23 21:55:23,361 - __main__ - INFO - Attempting to parse Google credentials...
2025-02-23 21:55:23,362 - __main__ - WARNING - Direct JSON parsing failed: Invalid control character at: line 1 column 175 (char 174)
2025-02-23 21:55:23,366 - __main__ - INFO - âœ“ Google credentials configured successfully
2025-02-23 21:55:23,367 - __main__ - INFO - âœ“ Configuration loaded successfully
2025-02-23 21:55:24,857 - new_bot - INFO - Checking environment variables...
2025-02-23 21:55:24,858 - new_bot - INFO - âœ“ Found OPENAI_API_KEY in environment
2025-02-23 21:55:24,859 - new_bot - INFO - âœ“ Found DEEPSEEK_API_KEY in environment
2025-02-23 21:55:24,859 - new_bot - INFO - âœ“ Found GOOGLE_APPLICATION_CREDENTIALS_JSON in environment
2025-02-23 21:55:24,860 - new_bot - INFO - Attempting to parse Google credentials...
2025-02-23 21:55:24,861 - new_bot - WARNING - Direct JSON parsing failed: Invalid control character at: line 1 column 175 (char 174)
2025-02-23 21:55:24,863 - new_bot - INFO - âœ“ Google credentials configured successfully
2025-02-23 21:57:46,157 - __main__ - INFO - Checking environment variables...
2025-02-23 21:57:46,158 - __main__ - INFO - âœ“ Found OPENAI_API_KEY in environment
2025-02-23 21:57:46,159 - __main__ - INFO - âœ“ Found DEEPSEEK_API_KEY in environment
2025-02-23 21:57:46,160 - __main__ - INFO - âœ“ Found GOOGLE_APPLICATION_CREDENTIALS_JSON in environment
2025-02-23 21:57:46,161 - __main__ - INFO - Attempting to parse Google credentials...
2025-02-23 21:57:46,162 - __main__ - WARNING - Direct JSON parsing failed: Invalid control character at: line 1 column 175 (char 174)
2025-02-23 21:57:46,166 - __main__ - INFO - âœ“ Google credentials configured successfully
2025-02-23 21:57:46,167 - __main__ - INFO - âœ“ Configuration loaded successfully
2025-02-23 21:57:48,352 - __main__ - INFO - Checking environment variables...
2025-02-23 21:57:48,353 - __main__ - INFO - âœ“ Found OPENAI_API_KEY in environment
2025-02-23 21:57:48,355 - __main__ - INFO - âœ“ Found DEEPSEEK_API_KEY in environment
2025-02-23 21:57:48,356 - __main__ - INFO - âœ“ Found GOOGLE_APPLICATION_CREDENTIALS_JSON in environment
2025-02-23 21:57:48,357 - __main__ - INFO - Attempting to parse Google credentials...
2025-02-23 21:57:48,357 - __main__ - WARNING - Direct JSON parsing failed: Invalid control character at: line 1 column 175 (char 174)
2025-02-23 21:57:48,360 - __main__ - INFO - âœ“ Google credentials configured successfully
2025-02-23 21:57:48,360 - __main__ - INFO - âœ“ Configuration loaded successfully
2025-02-23 21:57:51,367 - __main__ - INFO - Checking environment variables...
2025-02-23 21:57:51,370 - __main__ - INFO - âœ“ Found OPENAI_API_KEY in environment
2025-02-23 21:57:51,372 - __main__ - INFO - âœ“ Found DEEPSEEK_API_KEY in environment
2025-02-23 21:57:51,373 - __main__ - INFO - âœ“ Found GOOGLE_APPLICATION_CREDENTIALS_JSON in environment
2025-02-23 21:57:51,375 - __main__ - INFO - Attempting to parse Google credentials...
2025-02-23 21:57:51,377 - __main__ - WARNING - Direct JSON parsing failed: Invalid control character at: line 1 column 175 (char 174)
2025-02-23 21:57:51,383 - __main__ - INFO - âœ“ Google credentials configured successfully
2025-02-23 21:57:51,384 - __main__ - INFO - âœ“ Configuration loaded successfully
2025-02-23 21:57:53,292 - __main__ - INFO - Checking environment variables...
2025-02-23 21:57:53,293 - __main__ - INFO - âœ“ Found OPENAI_API_KEY in environment
2025-02-23 21:57:53,294 - __main__ - INFO - âœ“ Found DEEPSEEK_API_KEY in environment
2025-02-23 21:57:53,295 - __main__ - INFO - âœ“ Found GOOGLE_APPLICATION_CREDENTIALS_JSON in environment
2025-02-23 21:57:53,298 - __main__ - INFO - Attempting to parse Google credentials...
2025-02-23 21:57:53,299 - __main__ - WARNING - Direct JSON parsing failed: Invalid control character at: line 1 column 175 (char 174)
2025-02-23 21:57:53,302 - __main__ - INFO - âœ“ Google credentials configured successfully
2025-02-23 21:57:53,303 - __main__ - INFO - âœ“ Configuration loaded successfully
2025-02-23 21:57:53,329 - __main__ - INFO - Initializing StreamlitUpdate
2025-02-23 21:57:53,333 - __main__ - INFO - Initializing StreamlitContext
2025-02-23 21:57:53,338 - __main__ - INFO - Processing video URL: https://x.com/AMAZlNGNATURE/status/1886229103587602773
2025-02-23 21:57:53,340 - __main__ - INFO - Status update: ğŸ¬ Starting video processing...

0% â–±â–±â–±â–±â–±â–±â–±â–±â–±â–±
2025-02-23 21:57:53,345 - __main__ - INFO - Status update: ğŸ“¥ Downloading video...

10% â–°â–±â–±â–±â–±â–±â–±â–±â–±â–±
2025-02-23 21:57:53,347 - new_bot - INFO - Downloading video from: https://x.com/AMAZlNGNATURE/status/1886229103587602773
2025-02-23 21:57:53,351 - pipeline.Step_1_download_video - INFO - Downloading video from: https://twitter.com/AMAZlNGNATURE/status/1886229103587602773
2025-02-23 21:58:05,125 - pipeline.Step_1_download_video - INFO - Download completed
2025-02-23 21:58:05,128 - pipeline.Step_1_download_video - INFO - Downloaded file: temp_0\video\video_20250223_215756.mp4
2025-02-23 21:58:05,158 - new_bot - INFO - Starting video processing...
2025-02-23 21:58:05,159 - new_bot - INFO - Extracting frames...
2025-02-23 21:58:05,160 - __main__ - INFO - Status update: ğŸï¸ Extracting frames...

30% â–°â–°â–°â–±â–±â–±â–±â–±â–±â–±
2025-02-23 21:58:05,212 - pipeline.Step_2_extract_frames - INFO - Analyzing video for key frames...
2025-02-23 21:58:05,239 - pipeline.Step_2_extract_frames - INFO - Progress: 0.0%
2025-02-23 21:58:05,832 - pipeline.Step_2_extract_frames - INFO - Saved frame at 0.30s (scene_change=False, motion=2.43
2025-02-23 21:58:05,985 - pipeline.Step_2_extract_frames - INFO - Saved frame at 0.40s (scene_change=False, motion=2.41
2025-02-23 21:58:06,132 - pipeline.Step_2_extract_frames - INFO - Saved frame at 0.50s (scene_change=False, motion=2.24
2025-02-23 21:58:06,287 - pipeline.Step_2_extract_frames - INFO - Saved frame at 0.60s (scene_change=False, motion=2.09
2025-02-23 21:58:09,813 - pipeline.Step_2_extract_frames - INFO - Saved frame at 2.70s (scene_change=False, motion=2.23
2025-02-23 21:58:09,958 - pipeline.Step_2_extract_frames - INFO - Saved frame at 2.80s (scene_change=False, motion=2.09
2025-02-23 21:58:10,103 - pipeline.Step_2_extract_frames - INFO - Saved frame at 2.90s (scene_change=False, motion=2.17
2025-02-23 21:58:20,983 - pipeline.Step_2_extract_frames - INFO - Progress: 29.9%
2025-02-23 21:58:30,375 - pipeline.Step_2_extract_frames - INFO - Saved frame at 16.10s (scene_change=False, motion=2.09
2025-02-23 21:58:30,527 - pipeline.Step_2_extract_frames - INFO - Saved frame at 16.20s (scene_change=False, motion=2.42
2025-02-23 21:58:30,671 - pipeline.Step_2_extract_frames - INFO - Saved frame at 16.30s (scene_change=False, motion=2.80
2025-02-23 21:58:30,815 - pipeline.Step_2_extract_frames - INFO - Saved frame at 16.40s (scene_change=False, motion=3.02
2025-02-23 21:58:30,960 - pipeline.Step_2_extract_frames - INFO - Saved frame at 16.50s (scene_change=False, motion=3.00
2025-02-23 21:58:31,103 - pipeline.Step_2_extract_frames - INFO - Saved frame at 16.60s (scene_change=False, motion=2.77
2025-02-23 21:58:31,244 - pipeline.Step_2_extract_frames - INFO - Saved frame at 16.70s (scene_change=False, motion=2.67
2025-02-23 21:58:31,388 - pipeline.Step_2_extract_frames - INFO - Saved frame at 16.80s (scene_change=False, motion=2.49
2025-02-23 21:58:31,540 - pipeline.Step_2_extract_frames - INFO - Saved frame at 16.90s (scene_change=False, motion=2.08
2025-02-23 21:58:31,546 - pipeline.Step_2_extract_frames - INFO - Extracted 16 key frames
2025-02-23 21:58:31,547 - new_bot - INFO - Analyzing frames...
2025-02-23 21:58:31,547 - __main__ - INFO - Status update: ğŸ” Analyzing video content...

50% â–°â–°â–°â–°â–°â–±â–±â–±â–±â–±
2025-02-23 21:58:32,343 - pipeline.Step_3_analyze_frames - INFO - Selected 3 key frames for analysis
2025-02-23 21:58:40,651 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-23 21:58:46,078 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-23 21:58:55,496 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-23 21:58:55,514 - pipeline.Step_3_analyze_frames - INFO - Analysis complete. Results saved to output_0\final_analysis.json
2025-02-23 21:58:55,518 - new_bot - INFO - Generating commentary in ur...
2025-02-23 21:58:55,520 - __main__ - INFO - Status update: ğŸ’­ Generating commentary...

70% â–°â–°â–°â–°â–°â–°â–°â–±â–±â–±
2025-02-23 21:58:55,524 - pipeline.Step_4_generate_commentary - INFO - 
=== STARTING COMMENTARY GENERATION ===
2025-02-23 21:58:55,525 - pipeline.Step_4_generate_commentary - INFO - Content Type: funny
2025-02-23 21:58:55,526 - pipeline.Step_4_generate_commentary - INFO - Analysis File: output_0\final_analysis.json
2025-02-23 21:58:56,294 - pipeline.Step_4_generate_commentary - INFO - 
=== VIDEO TEXT FROM METADATA ===
2025-02-23 21:58:56,295 - pipeline.Step_4_generate_commentary - INFO - No text found in metadata
2025-02-23 21:58:56,296 - pipeline.Step_4_generate_commentary - INFO - 
=== SYSTEM PROMPT ===
2025-02-23 21:58:56,297 - pipeline.Step_4_generate_commentary - INFO - You are an entertaining commentator. Create humorous commentary that:
- Uses witty observations and jokes
- Maintains light and playful tone
- Includes appropriate humor
- Emphasizes amusing moments
- Keeps engagement through humor
2025-02-23 21:58:56,299 - pipeline.Step_4_generate_commentary - INFO - 
=== USER PROMPT ===
2025-02-23 21:58:56,299 - pipeline.Step_4_generate_commentary - INFO - Generate a VERY SHORT UR commentary (1-2 lines maximum) for this video in funny style.

VIDEO CONTENT:
Title: Nature is Amazing â˜˜ï¸ - The chicken has figured out how her feeder works Now closes it in time so the alpacas don't eat all the food.
Description: The chicken has figured out how her feeder works Now closes it in time so the alpacas don't eat all the food. https://t.co/GVBsJu9Lr9

VISUAL ANALYSIS:

Key visual elements (with confidence):
- Camelids (0.96)
- Alpaca (0.91)
- Llama (0.91)
- Terrestrial animal (0.89)
- Deer (0.82)
- Lawn (0.73)
- Livestock (0.71)

Detailed scene descriptions:
- 1. **Main Focus or Subject**:
   The main focus of the frame is the interaction between a chicken and an alpaca. The context from the video's title and description highlights the chicken's clever behavior in managing its feeder to prevent the alpaca from consuming the food.

2. **Actions, Movements, or Interactions**:
   In this frame, the chicken appears to be near a feeder, which aligns with the narrative of it closing the feeder to conserve food. The alpaca is nearby, suggesting an interest in the feeder, possibly watching or waiting to see if it can access the food.

3. **Significant Details**:
   The presence of the chicken near the feeder provides evidence of its role in controlling food distribution. The alpacaâ€™s closeness indicates it might be tempted to eat from the feeder, representing the challenge that the chicken is cleverly managing.

4. **Connection to the Overall Story**:
   This moment captures the essence of the video's story: the chickenâ€™s intelligent intervention to protect its food from the alpaca. It visually represents the scenario described in the title and description, where the chickenâ€™s behavior prevents the larger animal from accessing the food.

5. **Correction of Potential Misidentifications**:
   The computer vision analysis identified camelids, alpacas, and possibly llamas. In this frame, the animal is correctly identified as an alpaca. No llamas or deer are present, ensuring alignment with the context provided.

6. **Distinguishing
- 1. **Main Focus or Subject:**
   The main focus of the frame is a chicken at a feeder and an alpaca looking towards it. This relates to the video's context where the chicken has learned to operate the feeder to protect its food from the alpacas.

2. **Actions, Movements, or Interactions:**
   The chicken appears to be interacting with the feeder, possibly in the process of closing it. The alpaca stands nearby, seemingly interested but unable to access the food due to the chickenâ€™s actions.

3. **Significant Details:**
   The setting is a grassy area, which aligns with the natural environment described. The conspicuous positioning of the chicken at the feeder reinforces the narrative of the chicken actively controlling access to the food.

4. **Connection to the Overall Story:**
   This moment emphasizes the cleverness of the chicken, as it manages to keep the alpacas from eating its food, illustrating the video's theme of animal intelligence and interaction.

5. **Correcting Potential Misidentifications:**
   The detected camelid is indeed an alpaca as identified in the frame. There are no deer present, and the context supports the identification of chickens and alpacas rather than llamas or other animals.

6. **Distinguishing Between Similar Animals:**
   The alpaca is distinct from any deer-like animals identified by its body shape and behavior. The focus on livestock and the specific interaction make it clear that the chicken and alpaca are the subjects


STRICT REQUIREMENTS:
1. MUST be 1-2 lines only - no exceptions
2. Focus on combining the video description with what is actually shown in the video
3. If there is text in the video, incorporate it naturally
4. Match the funny style while staying extremely brief
5. Make it engaging but concise
6. Format for ur
7. Ensure commentary reflects both visual content and video description
8. Correct any obvious errors in object detection (e.g., if a deer was labeled as a dog)
9. Use proper Urdu script and punctuation (Û”ØŒ ØŸ)
2025-02-23 21:58:56,316 - pipeline.Step_4_generate_commentary - INFO - 
=== GENERATING COMMENTARY ===
2025-02-23 21:58:57,444 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-23 21:58:57,456 - pipeline.Step_4_generate_commentary - INFO - 
=== RAW GENERATED COMMENTARY ===
2025-02-23 21:58:57,457 - pipeline.Step_4_generate_commentary - INFO - Ú©ÛŒØ§ Ú†Ú©Ù† Ù†Û’ "Ú†Ú©Ù† Ú©Ù†Ú¯" Ø¨Ù†Ù†Û’ Ú©Ø§ Ø§Ø±Ø§Ø¯Û Ú©Ø± Ù„ÛŒØ§ ÛÛ’ØŸ Ø¯ÛŒÚ©Ú¾Ùˆ Ú©ÛŒØ³Û’ ÛŒÛ Ø§Ù¾Ù†ÛŒ Ú©Ú¾Ø§Ù†Û’ Ú©ÛŒ Ù…Ø´ÛŒÙ† Ú©Ùˆ Ø¨Ù†Ø¯ Ú©Ø± Ú©Û’ Ø§Ù„Ù¾Ø§Ú©Ø§ Ú©Ùˆ Ø¨Ú¾ÙˆÚ©Ø§ Ø±Ú©Ú¾ Ø±ÛÛŒ ÛÛ’Û” ğŸ˜‚ğŸ”ğŸ¥³
2025-02-23 21:58:57,462 - pipeline.Step_4_generate_commentary - INFO - 
=== PROCESSED COMMENTARY ===
2025-02-23 21:58:57,466 - pipeline.Step_4_generate_commentary - INFO - Ú©ÛŒØ§ Ú†Ú©Ù† Ù†Û’ "Ú†Ú©Ù† Ú©Ù†Ú¯" Ø¨Ù†Ù†Û’ Ú©Ø§ Ø§Ø±Ø§Ø¯Û Ú©Ø± Ù„ÛŒØ§ ÛÛ’ØŸ Ø¯ÛŒÚ©Ú¾Ùˆ Ú©ÛŒØ³Û’ ÛŒÛ Ø§Ù¾Ù†ÛŒ Ú©Ú¾Ø§Ù†Û’ Ú©ÛŒ Ù…Ø´ÛŒÙ† Ú©Ùˆ Ø¨Ù†Ø¯ Ú©Ø± Ú©Û’ Ø§Ù„Ù¾Ø§Ú©Ø§ Ú©Ùˆ Ø¨Ú¾ÙˆÚ©Ø§ Ø±Ú©Ú¾ Ø±ÛÛŒ ÛÛ’Û”<break time="1s"/> ğŸ˜‚ğŸ”ğŸ¥³
2025-02-23 21:58:57,468 - pipeline.Step_4_generate_commentary - INFO - 
=== FINAL COMMENTARY OBJECT ===
2025-02-23 21:58:57,470 - pipeline.Step_4_generate_commentary - INFO - {
  "style": "funny",
  "commentary": "Ú©ÛŒØ§ Ú†Ú©Ù† Ù†Û’ \"Ú†Ú©Ù† Ú©Ù†Ú¯\" Ø¨Ù†Ù†Û’ Ú©Ø§ Ø§Ø±Ø§Ø¯Û Ú©Ø± Ù„ÛŒØ§ ÛÛ’ØŸ Ø¯ÛŒÚ©Ú¾Ùˆ Ú©ÛŒØ³Û’ ÛŒÛ Ø§Ù¾Ù†ÛŒ Ú©Ú¾Ø§Ù†Û’ Ú©ÛŒ Ù…Ø´ÛŒÙ† Ú©Ùˆ Ø¨Ù†Ø¯ Ú©Ø± Ú©Û’ Ø§Ù„Ù¾Ø§Ú©Ø§ Ú©Ùˆ Ø¨Ú¾ÙˆÚ©Ø§ Ø±Ú©Ú¾ Ø±ÛÛŒ ÛÛ’Û”<break time=\"1s\"/> ğŸ˜‚ğŸ”ğŸ¥³",
  "metadata": {
    "title": "Nature is Amazing â˜˜ï¸ - The chicken has figured out how her feeder works Now closes it in time so the alpacas don't eat all the food.",
    "duration": 33.43333333333333,
    "description": "The chicken has figured out how her feeder works Now closes it in time so the alpacas don't eat all the food. https://t.co/GVBsJu9Lr9",
    "uploader": "Nature is Amazing â˜˜ï¸",
    "view_count": null,
    "like_count": 141275,
    "upload_date": "20250203",
    "scene_changes": [],
    "motion_scores": [
      [
        "output_0\\frames\\frame_0.30s.jpg",
        2.4328114986419678
      ],
      [
        "output_0\\frames\\frame_0.40s.jpg",
        2.40671443939209
      ],
      [
        "output_0\\frames\\frame_0.50s.jpg",
        2.242037296295166
      ],
      [
        "output_0\\frames\\frame_0.60s.jpg",
        2.093170404434204
      ],
      [
        "output_0\\frames\\frame_2.70s.jpg",
        2.2306339740753174
      ],
      [
        "output_0\\frames\\frame_2.80s.jpg",
        2.085573196411133
      ],
      [
        "output_0\\frames\\frame_2.90s.jpg",
        2.167114019393921
      ],
      [
        "output_0\\frames\\frame_16.10s.jpg",
        2.091686248779297
      ],
      [
        "output_0\\frames\\frame_16.20s.jpg",
        2.42148494720459
      ],
      [
        "output_0\\frames\\frame_16.30s.jpg",
        2.7960448265075684
      ],
      [
        "output_0\\frames\\frame_16.40s.jpg",
        3.0180258750915527
      ],
      [
        "output_0\\frames\\frame_16.50s.jpg",
        3.00411319732666
      ],
      [
        "output_0\\frames\\frame_16.60s.jpg",
        2.7661421298980713
      ],
      [
        "output_0\\frames\\frame_16.70s.jpg",
        2.6690316200256348
      ],
      [
        "output_0\\frames\\frame_16.80s.jpg",
        2.4878687858581543
      ],
      [
        "output_0\\frames\\frame_16.90s.jpg",
        2.0821049213409424
      ]
    ],
    "language": "ur"
  },
  "language": "ur"
}
2025-02-23 21:58:57,497 - pipeline.Step_4_generate_commentary - INFO - 
=== PROCESSING FOR AUDIO ===
2025-02-23 21:58:57,499 - pipeline.Step_4_generate_commentary - INFO - Language: ur
2025-02-23 21:58:57,502 - pipeline.Step_4_generate_commentary - INFO - 
=== FINAL AUDIO SCRIPT ===
2025-02-23 21:58:57,503 - pipeline.Step_4_generate_commentary - INFO - Ú©ÛŒØ§ Ú†Ú©Ù† Ù†Û’ Ú†Ú©Ù† Ú©Ù†Ú¯ Ø¨Ù†Ù†Û’ Ú©Ø§ Ø§Ø±Ø§Ø¯Û Ú©Ø± Ù„ÛŒØ§ ÛÛ’ØŸ<break time="0.8s"/> Ø¯ÛŒÚ©Ú¾Ùˆ Ú©ÛŒØ³Û’ ÛŒÛ Ø§Ù¾Ù†ÛŒ Ú©Ú¾Ø§Ù†Û’ Ú©ÛŒ Ù…Ø´ÛŒÙ† Ú©Ùˆ Ø¨Ù†Ø¯ Ú©Ø± Ú©Û’ Ø§Ù„Ù¾Ø§Ú©Ø§ Ú©Ùˆ Ø¨Ú¾ÙˆÚ©Ø§ Ø±Ú©Ú¾ Ø±ÛÛŒ ÛÛ’Û”<break time="1s"/>
2025-02-23 21:58:57,506 - new_bot - INFO - Generating audio in ur...
2025-02-23 21:58:57,506 - __main__ - INFO - Status update: ğŸ™ï¸ Synthesizing voice...

80% â–°â–°â–°â–°â–°â–°â–°â–°â–±â–±
2025-02-23 21:58:57,528 - pipeline.Step_5_generate_audio - INFO - Generating audio for text: Ú©ÛŒØ§ Ú†Ú©Ù† Ù†Û’ "Ú†Ú©Ù† Ú©Ù†Ú¯" Ø¨Ù†Ù†Û’ Ú©Ø§ Ø§Ø±Ø§Ø¯Û Ú©Ø± Ù„ÛŒØ§ ÛÛ’ØŸ Ø¯ÛŒÚ©Ú¾Ùˆ Ú©ÛŒØ³Û’ ÛŒÛ Ø§Ù¾Ù†ÛŒ Ú©Ú¾Ø§Ù†Û’ Ú©ÛŒ Ù…Ø´ÛŒÙ† Ú©Ùˆ Ø¨Ù†Ø¯ Ú©Ø± Ú©Û’ Ø§Ù„Ù¾Ø§Ú©Ø§ Ú©...
2025-02-23 21:58:59,391 - pipeline.Step_5_generate_audio - INFO - Successfully generated audio file: output_0\commentary_funny.wav
2025-02-23 21:58:59,394 - new_bot - INFO - Generating final video...
2025-02-23 21:58:59,396 - __main__ - INFO - Status update: ğŸ¥ Creating final video...

85% â–°â–°â–°â–°â–°â–°â–°â–°â–°â–±
2025-02-23 21:58:59,402 - pipeline.Step_6_video_generation - INFO - Ensured output directory exists: output_0
2025-02-23 21:58:59,405 - pipeline.Step_6_video_generation - INFO - Input video file: temp_0\video\video_20250223_215756.mp4 (exists: True)
2025-02-23 21:58:59,408 - pipeline.Step_6_video_generation - INFO - Input audio file: output_0\commentary_funny.wav (exists: True)
2025-02-23 21:58:59,458 - pipeline.Step_6_video_generation - INFO - FFmpeg verified successfully
2025-02-23 21:58:59,459 - pipeline.Step_6_video_generation - INFO - Ensured video directory exists: C:\Users\mrema\Downloads\Video-Commentary-Bot-0.1\temp_0\video
2025-02-23 21:58:59,460 - pipeline.Step_6_video_generation - INFO - Ensured output directory exists: C:\Users\mrema\Downloads\Video-Commentary-Bot-0.1\output_0
2025-02-23 21:58:59,461 - pipeline.Step_6_video_generation - INFO - Video file exists: True (C:\Users\mrema\Downloads\Video-Commentary-Bot-0.1\temp_0\video\video_20250223_215756.mp4)
2025-02-23 21:58:59,463 - pipeline.Step_6_video_generation - INFO - Audio file exists: True (C:\Users\mrema\Downloads\Video-Commentary-Bot-0.1\output_0\commentary_funny.wav)
2025-02-23 21:58:59,463 - pipeline.Step_6_video_generation - INFO - Video file size: 1131657 bytes
2025-02-23 21:58:59,464 - pipeline.Step_6_video_generation - INFO - Audio file size: 452244 bytes
2025-02-23 21:58:59,465 - pipeline.Step_6_video_generation - INFO - Video absolute path: C:\Users\mrema\Downloads\Video-Commentary-Bot-0.1\temp_0\video\video_20250223_215756.mp4
2025-02-23 21:58:59,466 - pipeline.Step_6_video_generation - INFO - Audio absolute path: C:\Users\mrema\Downloads\Video-Commentary-Bot-0.1\output_0\commentary_funny.wav
2025-02-23 21:58:59,467 - pipeline.Step_6_video_generation - INFO - Current working directory: C:\Users\mrema\Downloads\Video-Commentary-Bot-0.1
2025-02-23 21:58:59,468 - pipeline.Step_6_video_generation - INFO - FFmpeg command: ffmpeg -y -i C:\Users\mrema\Downloads\Video-Commentary-Bot-0.1\temp_0\video\video_20250223_215756.mp4 -i C:\Users\mrema\Downloads\Video-Commentary-Bot-0.1\output_0\commentary_funny.wav -filter_complex [1:a]aloop=loop=-1:size=2[a] -vf pad=636:1130:0:385:color=white -c:v libx264 -preset medium -crf 23 -c:a aac -b:a 192k -map 0:v -map [a] C:\Users\mrema\Downloads\Video-Commentary-Bot-0.1\output_0\final_video_funny.mp4
2025-02-23 22:03:13,834 - __main__ - INFO - Checking environment variables...
2025-02-23 22:03:13,836 - __main__ - INFO - âœ“ Found OPENAI_API_KEY in environment
2025-02-23 22:03:13,839 - __main__ - INFO - âœ“ Found DEEPSEEK_API_KEY in environment
2025-02-23 22:03:13,842 - __main__ - INFO - âœ“ Found GOOGLE_APPLICATION_CREDENTIALS_JSON in environment
2025-02-23 22:03:13,844 - __main__ - INFO - Attempting to parse Google credentials...
2025-02-23 22:03:13,845 - __main__ - WARNING - Direct JSON parsing failed: Invalid control character at: line 1 column 175 (char 174)
2025-02-23 22:03:13,847 - __main__ - INFO - âœ“ Google credentials configured successfully
2025-02-23 22:03:13,849 - __main__ - INFO - âœ“ Configuration loaded successfully
2025-02-23 22:03:13,855 - new_bot - INFO - Checking environment variables...
2025-02-23 22:03:13,856 - new_bot - INFO - âœ“ Found OPENAI_API_KEY in environment
2025-02-23 22:03:13,857 - new_bot - INFO - âœ“ Found DEEPSEEK_API_KEY in environment
2025-02-23 22:03:13,858 - new_bot - INFO - âœ“ Found GOOGLE_APPLICATION_CREDENTIALS_JSON in environment
2025-02-23 22:03:13,860 - new_bot - INFO - Attempting to parse Google credentials...
2025-02-23 22:03:13,861 - new_bot - WARNING - Direct JSON parsing failed: Invalid control character at: line 1 column 175 (char 174)
2025-02-23 22:03:13,863 - new_bot - INFO - âœ“ Google credentials configured successfully
2025-02-23 22:03:56,598 - pipeline.Step_6_video_generation - ERROR - FFmpeg command failed with error: ffmpeg version N-118274-gc0fbb6d5b7-20250110 Copyright (c) 2000-2025 the FFmpeg developers
  built with gcc 14.2.0 (crosstool-NG 1.26.0.120_4d36f27)
  configuration: --prefix=/ffbuild/prefix --pkg-config-flags=--static --pkg-config=pkg-config --cross-prefix=x86_64-w64-mingw32- --arch=x86_64 --target-os=mingw32 --enable-gpl --enable-version3 --disable-debug --enable-shared --disable-static --disable-w32threads --enable-pthreads --enable-iconv --enable-zlib --enable-libfreetype --enable-libfribidi --enable-gmp --enable-libxml2 --enable-lzma --enable-fontconfig --enable-libharfbuzz --enable-libvorbis --enable-opencl --disable-libpulse --enable-libvmaf --disable-libxcb --disable-xlib --enable-amf --enable-libaom --enable-libaribb24 --enable-avisynth --enable-chromaprint --enable-libdav1d --enable-libdavs2 --enable-libdvdread --enable-libdvdnav --disable-libfdk-aac --enable-ffnvcodec --enable-cuda-llvm --enable-frei0r --enable-libgme --enable-libkvazaar --enable-libaribcaption --enable-libass --enable-libbluray --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librist --enable-libssh --enable-libtheora --enable-libvpx --enable-libwebp --enable-libzmq --enable-lv2 --enable-libvpl --enable-openal --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenh264 --enable-libopenjpeg --enable-libopenmpt --enable-librav1e --enable-librubberband --enable-schannel --enable-sdl2 --enable-libsoxr --enable-libsrt --enable-libsvtav1 --enable-libtwolame --enable-libuavs3d --disable-libdrm --enable-vaapi --enable-libvidstab --enable-vulkan --enable-libshaderc --enable-libplacebo --disable-libvvenc --enable-libx264 --enable-libx265 --enable-libxavs2 --enable-libxvid --enable-libzimg --enable-libzvbi --extra-cflags=-DLIBTWOLAME_STATIC --extra-cxxflags= --extra-libs=-lgomp --extra-ldflags=-pthread --extra-ldexeflags= --cc=x86_64-w64-mingw32-gcc --cxx=x86_64-w64-mingw32-g++ --ar=x86_64-w64-mingw32-gcc-ar --ranlib=x86_64-w64-mingw32-gcc-ranlib --nm=x86_64-w64-mingw32-gcc-nm --extra-version=20250110
  libavutil      59. 54.101 / 59. 54.101
  libavcodec     61. 31.100 / 61. 31.100
  libavformat    61.  9.104 / 61.  9.104
  libavdevice    61.  4.100 / 61.  4.100
  libavfilter    10.  6.101 / 10.  6.101
  libswscale      8. 13.100 /  8. 13.100
  libswresample   5.  4.100 /  5.  4.100
  libpostproc    58.  4.100 / 58.  4.100
Input #0, mov,mp4,m4a,3gp,3g2,mj2, from 'C:\Users\mrema\Downloads\Video-Commentary-Bot-0.1\temp_0\video\video_20250223_215756.mp4':
  Metadata:
    major_brand     : isom
    minor_version   : 1
    compatible_brands: isomiso4
    creation_time   : 2025-02-03T01:43:57.000000Z
  Duration: 00:00:33.49, start: 0.000000, bitrate: 270 kb/s
  Stream #0:0[0x1](und): Video: h264 (Main) (avc1 / 0x31637661), yuv420p(progressive), 636x360, 197 kb/s, SAR 1:1 DAR 53:30, 30 fps, 30 tbr, 3000k tbn (default)
    Metadata:
      handler_name    : Twitter-vork muxer
      vendor_id       : [0][0][0][0]
  Stream #0:1[0x2](und): Audio: aac (LC) (mp4a / 0x6134706D), 48000 Hz, stereo, fltp, 64 kb/s (default)
    Metadata:
      handler_name    : Twitter-vork muxer
      vendor_id       : [0][0][0][0]
[aist#1:0/pcm_s16le @ 0000019901bfedc0] Guessed Channel Layout: mono
Input #1, wav, from 'C:\Users\mrema\Downloads\Video-Commentary-Bot-0.1\output_0\commentary_funny.wav':
  Duration: 00:00:09.42, bitrate: 384 kb/s
  Stream #1:0: Audio: pcm_s16le ([1][0][0][0] / 0x0001), 24000 Hz, mono, s16, 384 kb/s
Stream mapping:
  Stream #1:0 (pcm_s16le) -> aloop:default
  Stream #0:0 -> #0:0 (h264 (native) -> h264 (libx264))
  aloop:default -> Stream #0:1 (aac)
Press [q] to stop, [?] for help
[aac @ 0000019903f0d740] Too many bits 8192.000000 > 6144 per frame requested, clamping to max
[libx264 @ 0000019903915700] using SAR=1/1
[libx264 @ 0000019903915700] using cpu capabilities: MMX2 SSE2Fast SSSE3 SSE4.2 AVX FMA3 BMI2 AVX2
[libx264 @ 0000019903915700] profile High, level 3.1, 4:2:0, 8-bit
[libx264 @ 0000019903915700] 264 - core 164 - H.264/MPEG-4 AVC codec - Copyleft 2003-2024 - http://www.videolan.org/x264.html - options: cabac=1 ref=3 deblock=1:0:0 analyse=0x3:0x113 me=hex subme=7 psy=1 psy_rd=1.00:0.00 mixed_ref=1 me_range=16 chroma_me=1 trellis=1 8x8dct=1 cqm=0 deadzone=21,11 fast_pskip=1 chroma_qp_offset=-2 threads=12 lookahead_threads=2 sliced_threads=0 nr=0 decimate=1 interlaced=0 bluray_compat=0 constrained_intra=0 bframes=3 b_pyramid=2 b_adapt=1 b_bias=0 direct=1 weightb=1 open_gop=0 weightp=2 keyint=250 keyint_min=25 scenecut=40 intra_refresh=0 rc_lookahead=40 rc=crf mbtree=1 crf=23.0 qcomp=0.60 qpmin=0 qpmax=69 qpstep=4 ip_ratio=1.40 aq=1:1.00
Output #0, mp4, to 'C:\Users\mrema\Downloads\Video-Commentary-Bot-0.1\output_0\final_video_funny.mp4':
  Metadata:
    major_brand     : isom
    minor_version   : 1
    compatible_brands: isomiso4
    encoder         : Lavf61.9.104
  Stream #0:0(und): Video: h264 (avc1 / 0x31637661), yuv420p(tv, progressive), 636x1130 [SAR 1:1 DAR 318:565], q=2-31, 30 fps, 15360 tbn (default)
    Metadata:
      encoder         : Lavc61.31.100 libx264
      handler_name    : Twitter-vork muxer
      vendor_id       : [0][0][0][0]
    Side data:
      cpb: bitrate max/min/avg: 0/0/0 buffer size: 0 vbv_delay: N/A
  Stream #0:1: Audio: aac (LC) (mp4a / 0x6134706D), 24000 Hz, mono, fltp, 144 kb/s
    Metadata:
      encoder         : Lavc61.31.100 aac
frame=    9 fps=0.0 q=29.0 size=       0KiB time=00:00:00.23 bitrate=   1.6kbits/s speed=0.456x    
frame=  102 fps=100 q=29.0 size=       0KiB time=00:00:02.85 bitrate=   0.1kbits/s speed=2.79x    
frame=  202 fps=131 q=29.0 size=     256KiB time=00:00:06.05 bitrate= 346.2kbits/s speed=3.93x    
frame=  312 fps=151 q=29.0 size=     256KiB time=00:00:09.77 bitrate= 214.7kbits/s speed=4.73x    
frame=  419 fps=162 q=29.0 size=     512KiB time=00:00:13.65 bitrate= 307.2kbits/s speed=5.29x    
frame=  520 fps=167 q=29.0 size=     512KiB time=00:00:16.64 bitrate= 252.1kbits/s speed=5.36x    
frame=  616 fps=170 q=29.0 size=     768KiB time=00:00:20.30 bitrate= 309.8kbits/s speed=5.61x    
frame=  712 fps=172 q=29.0 size=     768KiB time=00:00:23.38 bitrate= 269.1kbits/s speed=5.64x    
frame=  810 fps=174 q=29.0 size=    1024KiB time=00:00:26.79 bitrate= 313.1kbits/s speed=5.75x    
frame=  904 fps=175 q=29.0 size=    1024KiB time=00:00:29.39 bitrate= 285.4kbits/s speed=5.69x    
frame=  947 fps=167 q=29.0 size=    1280KiB time=00:00:35.92 bitrate= 291.9kbits/s speed=6.32x    
frame=  947 fps=153 q=29.0 size=    1280KiB time=00:00:48.34 bitrate= 216.9kbits/s speed= 7.8x    
frame=  947 fps=141 q=29.0 size=    1280KiB time=00:01:01.61 bitrate= 170.2kbits/s speed=9.17x    
frame=  947 fps=131 q=29.0 size=    1280KiB time=00:01:13.89 bitrate= 141.9kbits/s speed=10.2x    
frame=  947 fps=122 q=29.0 size=    1280KiB time=00:01:26.91 bitrate= 120.7kbits/s speed=11.2x    
frame=  947 fps=115 q=29.0 size=    1280KiB time=00:01:36.17 bitrate= 109.0kbits/s speed=11.6x    
frame=  947 fps=108 q=29.0 size=    1280KiB time=00:01:42.65 bitrate= 102.1kbits/s speed=11.7x    
frame=  947 fps=102 q=29.0 size=    1280KiB time=00:01:48.84 bitrate=  96.3kbits/s speed=11.7x    
frame=  947 fps= 97 q=29.0 size=    1280KiB time=00:01:52.93 bitrate=  92.8kbits/s speed=11.5x    
frame=  947 fps= 92 q=29.0 size=    1280KiB time=00:01:59.46 bitrate=  87.8kbits/s speed=11.6x    
frame=  947 fps= 87 q=29.0 size=    1280KiB time=00:02:05.90 bitrate=  83.3kbits/s speed=11.6x    
frame=  947 fps= 83 q=29.0 size=    1280KiB time=00:02:12.18 bitrate=  79.3kbits/s speed=11.6x    
frame=  947 fps= 80 q=29.0 size=    1280KiB time=00:02:18.58 bitrate=  75.7kbits/s speed=11.7x    
frame=  947 fps= 76 q=29.0 size=    1280KiB time=00:02:24.93 bitrate=  72.3kbits/s speed=11.7x    
frame=  947 fps= 73 q=29.0 size=    1280KiB time=00:02:31.46 bitrate=  69.2kbits/s speed=11.7x    
frame=  947 fps= 71 q=29.0 size=    1280KiB time=00:02:37.73 bitrate=  66.5kbits/s speed=11.7x    
frame=  947 fps= 68 q=29.0 size=    1280KiB time=00:02:44.05 bitrate=  63.9kbits/s speed=11.8x    
frame=  947 fps= 66 q=29.0 size=    1280KiB time=00:02:50.41 bitrate=  61.5kbits/s speed=11.8x    
frame=  947 fps= 63 q=29.0 size=    1280KiB time=00:02:56.98 bitrate=  59.3kbits/s speed=11.8x    
frame=  947 fps= 61 q=29.0 size=    1280KiB time=00:03:03.29 bitrate=  57.2kbits/s speed=11.8x    
frame=  947 fps= 59 q=29.0 size=    1280KiB time=00:03:09.61 bitrate=  55.3kbits/s speed=11.9x    
frame=  947 fps= 57 q=29.0 size=    1280KiB time=00:03:16.18 bitrate=  53.5kbits/s speed=11.9x    
frame=  947 fps= 56 q=29.0 size=    1280KiB time=00:03:22.53 bitrate=  51.8kbits/s speed=11.9x    
frame=  947 fps= 54 q=29.0 size=    1280KiB time=00:03:28.89 bitrate=  50.2kbits/s speed=11.9x    
frame=  947 fps= 52 q=29.0 size=    1280KiB time=00:03:35.04 bitrate=  48.8kbits/s speed=11.9x    
frame=  947 fps= 51 q=29.0 size=    1280KiB time=00:03:41.26 bitrate=  47.4kbits/s speed=11.9x    
frame=  947 fps= 50 q=29.0 size=    1280KiB time=00:03:47.54 bitrate=  46.1kbits/s speed=11.9x    
frame=  947 fps= 48 q=29.0 size=    1280KiB time=00:03:53.98 bitrate=  44.8kbits/s speed=11.9x    
frame=  947 fps= 47 q=29.0 size=    1280KiB time=00:04:00.29 bitrate=  43.6kbits/s speed=11.9x    
frame=  947 fps= 46 q=29.0 size=    1280KiB time=00:04:06.78 bitrate=  42.5kbits/s speed=11.9x    
frame=  947 fps= 45 q=29.0 size=    1280KiB time=00:04:13.05 bitrate=  41.4kbits/s speed=  12x    
frame=  947 fps= 44 q=29.0 size=    1280KiB time=00:04:19.37 bitrate=  40.4kbits/s speed=  12x    
frame=  947 fps= 43 q=29.0 size=    1280KiB time=00:04:25.85 bitrate=  39.4kbits/s speed=  12x    
frame=  947 fps= 42 q=29.0 size=    1280KiB time=00:04:32.17 bitrate=  38.5kbits/s speed=  12x    
frame=  947 fps= 41 q=29.0 size=    1280KiB time=00:04:38.31 bitrate=  37.7kbits/s speed=  12x    
frame=  947 fps= 40 q=29.0 size=    1280KiB time=00:04:44.92 bitrate=  36.8kbits/s speed=  12x    
frame=  947 fps= 39 q=29.0 size=    1280KiB time=00:04:51.24 bitrate=  36.0kbits/s speed=  12x    
frame=  947 fps= 38 q=29.0 size=    1280KiB time=00:04:57.77 bitrate=  35.2kbits/s speed=  12x    
frame=  947 fps= 37 q=29.0 size=    1280KiB time=00:05:04.08 bitrate=  34.5kbits/s speed=  12x    
frame=  947 fps= 37 q=29.0 size=    1280KiB time=00:05:10.44 bitrate=  33.8kbits/s speed=  12x    
frame=  947 fps= 36 q=29.0 size=    1280KiB time=00:05:16.62 bitrate=  33.1kbits/s speed=  12x    
frame=  947 fps= 35 q=29.0 size=    1280KiB time=00:05:22.94 bitrate=  32.5kbits/s speed=  12x    
frame=  947 fps= 35 q=29.0 size=    1280KiB time=00:05:29.42 bitrate=  31.8kbits/s speed=  12x    
frame=  947 fps= 34 q=29.0 size=    1280KiB time=00:05:35.78 bitrate=  31.2kbits/s speed=  12x    
frame=  947 fps= 33 q=29.0 size=    1280KiB time=00:05:42.31 bitrate=  30.6kbits/s speed=12.1x    
frame=  947 fps= 33 q=29.0 size=    1280KiB time=00:05:48.67 bitrate=  30.1kbits/s speed=12.1x    
frame=  947 fps= 32 q=29.0 size=    1280KiB time=00:05:54.85 bitrate=  29.6kbits/s speed=12.1x    
frame=  947 fps= 32 q=29.0 size=    1280KiB time=00:06:01.00 bitrate=  29.0kbits/s speed=12.1x    
frame=  947 fps= 31 q=29.0 size=    1280KiB time=00:06:08.25 bitrate=  28.5kbits/s speed=12.1x    
frame=  947 fps= 31 q=29.0 size=    1280KiB time=00:06:13.50 bitrate=  28.1kbits/s speed=12.1x    
frame=  947 fps= 30 q=29.0 size=    1280KiB time=00:06:19.73 bitrate=  27.6kbits/s speed=12.1x    
frame=  947 fps= 30 q=29.0 size=    1280KiB time=00:06:26.30 bitrate=  27.1kbits/s speed=12.1x    
frame=  947 fps= 29 q=29.0 size=    1280KiB time=00:06:32.66 bitrate=  26.7kbits/s speed=12.1x    
frame=  947 fps= 29 q=29.0 size=    1280KiB time=00:06:38.54 bitrate=  26.3kbits/s speed=12.1x    
frame=  947 fps= 28 q=29.0 size=    1280KiB time=00:06:44.52 bitrate=  25.9kbits/s speed=12.1x    
frame=  947 fps= 28 q=29.0 size=    1280KiB time=00:06:50.53 bitrate=  25.5kbits/s speed=12.1x    
frame=  947 fps= 27 q=29.0 size=    1280KiB time=00:06:56.81 bitrate=  25.2kbits/s speed=12.1x    
frame=  947 fps= 27 q=29.0 size=    1280KiB time=00:07:05.60 bitrate=  24.6kbits/s speed=12.1x    
frame=  947 fps= 27 q=29.0 size=    1280KiB time=00:07:13.53 bitrate=  24.2kbits/s speed=12.2x    
frame=  947 fps= 26 q=29.0 size=    1280KiB time=00:07:22.41 bitrate=  23.7kbits/s speed=12.2x    
frame=  947 fps= 26 q=29.0 size=    1280KiB time=00:07:34.40 bitrate=  23.1kbits/s speed=12.4x    
frame=  947 fps= 25 q=29.0 size=    1280KiB time=00:07:43.23 bitrate=  22.6kbits/s speed=12.5x    
frame=  947 fps= 25 q=29.0 size=    1280KiB time=00:07:52.32 bitrate=  22.2kbits/s speed=12.5x    
frame=  947 fps= 25 q=29.0 size=    1280KiB time=00:07:57.78 bitrate=  21.9kbits/s speed=12.5x    
frame=  947 fps= 24 q=29.0 size=    1280KiB time=00:08:06.69 bitrate=  21.5kbits/s speed=12.6x    
frame=  947 fps= 24 q=29.0 size=    1280KiB time=00:08:19.66 bitrate=  21.0kbits/s speed=12.7x    
frame=  947 fps= 24 q=29.0 size=    1280KiB time=00:08:32.72 bitrate=  20.5kbits/s speed=12.9x    
frame=  947 fps= 24 q=29.0 size=    1280KiB time=00:08:46.08 bitrate=  19.9kbits/s speed=13.1x    
frame=  947 fps= 23 q=29.0 size=    1280KiB time=00:08:58.58 bitrate=  19.5kbits/s speed=13.2x    
frame=  947 fps= 23 q=29.0 size=    1280KiB time=00:09:12.44 bitrate=  19.0kbits/s speed=13.4x    
frame=  947 fps= 23 q=29.0 size=    1280KiB time=00:09:24.18 bitrate=  18.6kbits/s speed=13.5x    
frame=  947 fps= 22 q=29.0 size=    1280KiB time=00:09:37.87 bitrate=  18.1kbits/s speed=13.7x    
frame=  947 fps= 22 q=29.0 size=    1280KiB time=00:09:46.96 bitrate=  17.9kbits/s speed=13.7x    
frame=  947 fps= 22 q=29.0 size=    1280KiB time=00:09:52.89 bitrate=  17.7kbits/s speed=13.7x    
frame=  947 fps= 22 q=29.0 size=    1280KiB time=00:09:59.04 bitrate=  17.5kbits/s speed=13.7x    
frame=  947 fps= 21 q=29.0 size=    1280KiB time=00:10:05.22 bitrate=  17.3kbits/s speed=13.6x    
frame=  947 fps= 21 q=29.0 size=    1280KiB time=00:10:11.28 bitrate=  17.2kbits/s speed=13.6x    
frame=  947 fps= 21 q=29.0 size=    1280KiB time=00:10:17.30 bitrate=  17.0kbits/s speed=13.6x    
frame=  947 fps= 21 q=29.0 size=    1280KiB time=00:10:22.97 bitrate=  16.8kbits/s speed=13.6x    
frame=  947 fps= 20 q=29.0 size=    1280KiB time=00:10:28.77 bitrate=  16.7kbits/s speed=13.5x    
frame=  947 fps= 20 q=29.0 size=    1280KiB time=00:10:34.92 bitrate=  16.5kbits/s speed=13.5x    
frame=  947 fps= 20 q=29.0 size=    1280KiB time=00:10:41.23 bitrate=  16.4kbits/s speed=13.5x    
frame=  947 fps= 20 q=29.0 size=    1280KiB time=00:10:47.55 bitrate=  16.2kbits/s speed=13.5x    
frame=  947 fps= 20 q=29.0 size=    1280KiB time=00:10:53.65 bitrate=  16.0kbits/s speed=13.5x    
frame=  947 fps= 19 q=29.0 size=    1280KiB time=00:10:59.84 bitrate=  15.9kbits/s speed=13.5x    
frame=  947 fps= 19 q=29.0 size=    1280KiB time=00:11:06.11 bitrate=  15.7kbits/s speed=13.5x    
frame=  947 fps= 19 q=29.0 size=    1280KiB time=00:11:12.59 bitrate=  15.6kbits/s speed=13.4x    
frame=  947 fps= 19 q=29.0 size=    1280KiB time=00:11:18.78 bitrate=  15.4kbits/s speed=13.4x    
frame=  947 fps= 19 q=29.0 size=    1280KiB time=00:11:25.01 bitrate=  15.3kbits/s speed=13.4x    
frame=  947 fps= 18 q=29.0 size=    1280KiB time=00:11:31.37 bitrate=  15.2kbits/s speed=13.4x    
frame=  947 fps= 18 q=29.0 size=    1280KiB time=00:11:37.68 bitrate=  15.0kbits/s speed=13.4x    
frame=  947 fps= 18 q=29.0 size=    1280KiB time=00:11:44.17 bitrate=  14.9kbits/s speed=13.4x    
frame=  947 fps= 18 q=29.0 size=    1280KiB time=00:11:50.40 bitrate=  14.8kbits/s speed=13.4x    
frame=  947 fps= 18 q=29.0 size=    1280KiB time=00:11:56.67 bitrate=  14.6kbits/s speed=13.4x    
frame=  947 fps= 17 q=29.0 size=    1280KiB time=00:12:03.20 bitrate=  14.5kbits/s speed=13.3x    
frame=  947 fps= 17 q=29.0 size=    1280KiB time=00:12:09.47 bitrate=  14.4kbits/s speed=13.3x    
frame=  947 fps= 17 q=29.0 size=    1280KiB time=00:12:15.78 bitrate=  14.3kbits/s speed=13.3x    
frame=  947 fps= 17 q=29.0 size=    1280KiB time=00:12:22.27 bitrate=  14.1kbits/s speed=13.3x    
frame=  947 fps= 17 q=29.0 size=    1280KiB time=00:12:28.67 bitrate=  14.0kbits/s speed=13.3x    
frame=  947 fps= 17 q=29.0 size=    1280KiB time=00:12:34.77 bitrate=  13.9kbits/s speed=13.3x    
frame=  947 fps= 17 q=29.0 size=    1280KiB time=00:12:41.00 bitrate=  13.8kbits/s speed=13.3x    
frame=  947 fps= 16 q=29.0 size=    1280KiB time=00:12:47.53 bitrate=  13.7kbits/s speed=13.3x    
frame=  947 fps= 16 q=29.0 size=    1280KiB time=00:12:53.76 bitrate=  13.6kbits/s speed=13.3x    
frame=  947 fps= 16 q=29.0 size=    1280KiB time=00:13:00.16 bitrate=  13.4kbits/s speed=13.3x    
frame=  947 fps= 16 q=29.0 size=    1280KiB time=00:13:06.43 bitrate=  13.3kbits/s speed=13.3x    
frame=  947 fps= 16 q=29.0 size=    1280KiB time=00:13:12.87 bitrate=  13.2kbits/s speed=13.2x    
frame=  947 fps= 16 q=29.0 size=    1280KiB time=00:13:19.14 bitrate=  13.1kbits/s speed=13.2x    
frame=  947 fps= 16 q=29.0 size=    1280KiB time=00:13:25.46 bitrate=  13.0kbits/s speed=13.2x    
frame=  947 fps= 15 q=29.0 size=    1280KiB time=00:13:31.90 bitrate=  12.9kbits/s speed=13.2x    
frame=  947 fps= 15 q=29.0 size=    1280KiB time=00:13:38.04 bitrate=  12.8kbits/s speed=13.2x    
frame=  947 fps= 15 q=29.0 size=    1280KiB time=00:13:44.53 bitrate=  12.7kbits/s speed=13.2x    
frame=  947 fps= 15 q=29.0 size=    1280KiB time=00:13:50.80 bitrate=  12.6kbits/s speed=13.2x    
frame=  947 fps= 15 q=29.0 size=    1280KiB time=00:13:57.16 bitrate=  12.5kbits/s speed=13.2x    
frame=  947 fps= 15 q=29.0 size=    1280KiB time=00:14:03.56 bitrate=  12.4kbits/s speed=13.2x    
frame=  947 fps= 15 q=29.0 size=    1280KiB time=00:14:09.83 bitrate=  12.3kbits/s speed=13.2x    
frame=  947 fps= 15 q=29.0 size=    1280KiB time=00:14:16.27 bitrate=  12.2kbits/s speed=13.2x    
frame=  947 fps= 14 q=29.0 size=    1280KiB time=00:14:22.59 bitrate=  12.2kbits/s speed=13.2x    
frame=  947 fps= 14 q=29.0 size=    1280KiB time=00:14:28.90 bitrate=  12.1kbits/s speed=13.2x    
frame=  947 fps= 14 q=29.0 size=    1280KiB time=00:14:35.22 bitrate=  12.0kbits/s speed=13.1x    
frame=  947 fps= 14 q=29.0 size=    1280KiB time=00:14:41.53 bitrate=  11.9kbits/s speed=13.1x    
frame=  947 fps= 14 q=29.0 size=    1280KiB time=00:14:47.85 bitrate=  11.8kbits/s speed=13.1x    
frame=  947 fps= 14 q=29.0 size=    1280KiB time=00:14:54.37 bitrate=  11.7kbits/s speed=13.1x    
frame=  947 fps= 14 q=29.0 size=    1280KiB time=00:15:00.05 bitrate=  11.7kbits/s speed=13.1x    
frame=  947 fps= 14 q=29.0 size=    1280KiB time=00:15:06.28 bitrate=  11.6kbits/s speed=13.1x    
frame=  947 fps= 14 q=29.0 size=    1280KiB time=00:15:11.78 bitrate=  11.5kbits/s speed=13.1x    
frame=  947 fps= 13 q=29.0 size=    1280KiB time=00:15:15.24 bitrate=  11.5kbits/s speed=  13x    
frame=  947 fps= 13 q=29.0 size=    1280KiB time=00:15:21.25 bitrate=  11.4kbits/s speed=  13x    
frame=  947 fps= 13 q=29.0 size=    1280KiB time=00:15:27.44 bitrate=  11.3kbits/s speed=  13x    
frame=  947 fps= 13 q=29.0 size=    1280KiB time=00:15:33.76 bitrate=  11.2kbits/s speed=  13x    
frame=  947 fps= 13 q=29.0 size=    1280KiB time=00:15:40.11 bitrate=  11.2kbits/s speed=  13x    
frame=  947 fps= 13 q=29.0 size=    1280KiB time=00:15:46.60 bitrate=  11.1kbits/s speed=  13x    
frame=  947 fps= 13 q=29.0 size=    1280KiB time=00:15:52.78 bitrate=  11.0kbits/s speed=  13x    
frame=  947 fps= 13 q=29.0 size=    1280KiB time=00:15:58.97 bitrate=  10.9kbits/s speed=  13x    
frame=  947 fps= 13 q=29.0 size=    1280KiB time=00:16:05.29 bitrate=  10.9kbits/s speed=  13x    
frame=  947 fps= 13 q=29.0 size=    1280KiB time=00:16:11.77 bitrate=  10.8kbits/s speed=  13x    
frame=  947 fps= 13 q=29.0 size=    1280KiB time=00:16:18.09 bitrate=  10.7kbits/s speed=  13x    
frame=  947 fps= 12 q=29.0 size=    1280KiB time=00:16:24.44 bitrate=  10.7kbits/s speed=  13x    
frame=  947 fps= 12 q=29.0 size=    1280KiB time=00:16:30.76 bitrate=  10.6kbits/s speed=  13x    
frame=  947 fps= 12 q=29.0 size=    1280KiB time=00:16:37.24 bitrate=  10.5kbits/s speed=  13x    
frame=  947 fps= 12 q=29.0 size=    1280KiB time=00:16:43.52 bitrate=  10.4kbits/s speed=  13x    
frame=  947 fps= 12 q=29.0 size=    1280KiB time=00:16:49.70 bitrate=  10.4kbits/s speed=  13x    
frame=  947 fps= 12 q=29.0 size=    1280KiB time=00:16:55.97 bitrate=  10.3kbits/s speed=  13x    
frame=  947 fps= 12 q=29.0 size=    1280KiB time=00:17:02.16 bitrate=  10.3kbits/s speed=12.9x    
frame=  947 fps= 12 q=29.0 size=    1280KiB time=00:17:08.48 bitrate=  10.2kbits/s speed=12.9x    
frame=  947 fps= 12 q=29.0 size=    1280KiB time=00:17:14.83 bitrate=  10.1kbits/s speed=12.9x    
frame=  947 fps= 12 q=29.0 size=    1280KiB time=00:17:21.15 bitrate=  10.1kbits/s speed=12.9x    
frame=  947 fps= 12 q=29.0 size=    1280KiB time=00:17:27.38 bitrate=  10.0kbits/s speed=12.9x    
frame=  947 fps= 12 q=29.0 size=    1280KiB time=00:17:33.52 bitrate=  10.0kbits/s speed=12.9x    
frame=  947 fps= 12 q=29.0 size=    1280KiB time=00:17:39.96 bitrate=   9.9kbits/s speed=12.9x    
frame=  947 fps= 11 q=29.0 size=    1280KiB time=00:17:46.19 bitrate=   9.8kbits/s speed=12.9x    
frame=  947 fps= 11 q=29.0 size=    1280KiB time=00:17:52.51 bitrate=   9.8kbits/s speed=12.9x    
frame=  947 fps= 11 q=29.0 size=    1280KiB time=00:17:58.86 bitrate=   9.7kbits/s speed=12.9x    
frame=  947 fps= 11 q=29.0 size=    1280KiB time=00:18:05.18 bitrate=   9.7kbits/s speed=12.9x    
frame=  947 fps= 11 q=29.0 size=    1280KiB time=00:18:11.45 bitrate=   9.6kbits/s speed=12.9x    
frame=  947 fps= 11 q=29.0 size=    1280KiB time=00:18:17.94 bitrate=   9.6kbits/s speed=12.9x    
frame=  947 fps= 11 q=29.0 size=    1280KiB time=00:18:24.25 bitrate=   9.5kbits/s speed=12.9x    
frame=  947 fps= 11 q=29.0 size=    1280KiB time=00:18:30.52 bitrate=   9.4kbits/s speed=12.9x    
frame=  947 fps= 11 q=29.0 size=    1280KiB time=00:18:36.88 bitrate=   9.4kbits/s speed=12.9x    
frame=  947 fps= 11 q=29.0 size=    1280KiB time=00:18:43.07 bitrate=   9.3kbits/s speed=12.9x    
frame=  947 fps= 11 q=29.0 size=    1280KiB time=00:18:49.38 bitrate=   9.3kbits/s speed=12.9x    
frame=  947 fps= 11 q=29.0 size=    1280KiB time=00:18:55.40 bitrate=   9.2kbits/s speed=12.9x    
frame=  947 fps= 11 q=29.0 size=    1280KiB time=00:19:01.67 bitrate=   9.2kbits/s speed=12.9x    
frame=  947 fps= 11 q=29.0 size=    1280KiB time=00:19:07.90 bitrate=   9.1kbits/s speed=12.9x    
frame=  947 fps= 11 q=29.0 size=    1280KiB time=00:19:14.38 bitrate=   9.1kbits/s speed=12.9x    
frame=  947 fps= 10 q=29.0 size=    1280KiB time=00:19:20.66 bitrate=   9.0kbits/s speed=12.9x    
frame=  947 fps= 10 q=29.0 size=    1280KiB time=00:19:26.93 bitrate=   9.0kbits/s speed=12.9x    
frame=  947 fps= 10 q=29.0 size=    1280KiB time=00:19:33.37 bitrate=   8.9kbits/s speed=12.8x    
frame=  947 fps= 10 q=29.0 size=    1280KiB time=00:19:39.64 bitrate=   8.9kbits/s speed=12.8x    
frame=  947 fps= 10 q=29.0 size=    1280KiB time=00:19:45.92 bitrate=   8.8kbits/s speed=12.8x    
frame=  947 fps= 10 q=29.0 size=    1280KiB time=00:19:52.44 bitrate=   8.8kbits/s speed=12.8x    
frame=  947 fps= 10 q=29.0 size=    1280KiB time=00:19:58.67 bitrate=   8.7kbits/s speed=12.8x    
frame=  947 fps= 10 q=29.0 size=    1280KiB time=00:20:05.03 bitrate=   8.7kbits/s speed=12.8x    
frame=  947 fps= 10 q=29.0 size=    1280KiB time=00:20:11.34 bitrate=   8.7kbits/s speed=12.8x    
frame=  947 fps= 10 q=29.0 size=    1280KiB time=00:20:17.74 bitrate=   8.6kbits/s speed=12.8x    
frame=  947 fps=9.9 q=29.0 size=    1280KiB time=00:20:24.02 bitrate=   8.6kbits/s speed=12.8x    
frame=  947 fps=9.9 q=29.0 size=    1280KiB time=00:20:30.25 bitrate=   8.5kbits/s speed=12.8x    
frame=  947 fps=9.8 q=29.0 size=    1280KiB time=00:20:36.52 bitrate=   8.5kbits/s speed=12.8x    
frame=  947 fps=9.8 q=29.0 size=    1280KiB time=00:20:42.79 bitrate=   8.4kbits/s speed=12.8x    
frame=  947 fps=9.7 q=29.0 size=    1280KiB time=00:20:49.15 bitrate=   8.4kbits/s speed=12.8x    
frame=  947 fps=9.7 q=29.0 size=    1280KiB time=00:20:55.46 bitrate=   8.4kbits/s speed=12.8x    
frame=  947 fps=9.6 q=29.0 size=    1280KiB time=00:21:01.73 bitrate=   8.3kbits/s speed=12.8x    
frame=  947 fps=9.6 q=29.0 size=    1280KiB time=00:21:07.88 bitrate=   8.3kbits/s speed=12.8x    
frame=  947 fps=9.5 q=29.0 size=    1280KiB time=00:21:13.94 bitrate=   8.2kbits/s speed=12.8x    
frame=  947 fps=9.5 q=29.0 size=    1280KiB time=00:21:19.95 bitrate=   8.2kbits/s speed=12.8x    
frame=  947 fps=9.4 q=29.0 size=    1280KiB time=00:21:26.31 bitrate=   8.2kbits/s speed=12.8x    
frame=  947 fps=9.4 q=29.0 size=    1280KiB time=00:21:32.37 bitrate=   8.1kbits/s speed=12.8x    
frame=  947 fps=9.3 q=29.0 size=    1280KiB time=00:21:38.90 bitrate=   8.1kbits/s speed=12.8x    
frame=  947 fps=9.3 q=29.0 size=    1280KiB time=00:21:44.53 bitrate=   8.0kbits/s speed=12.8x    
frame=  947 fps=9.2 q=29.0 size=    1280KiB time=00:21:50.67 bitrate=   8.0kbits/s speed=12.8x    
frame=  947 fps=9.2 q=29.0 size=    1280KiB time=00:21:56.73 bitrate=   8.0kbits/s speed=12.8x    
frame=  947 fps=9.1 q=29.0 size=    1280KiB time=00:22:02.58 bitrate=   7.9kbits/s speed=12.8x    
frame=  947 fps=9.1 q=29.0 size=    1280KiB time=00:22:08.59 bitrate=   7.9kbits/s speed=12.8x    
frame=  947 fps=9.0 q=29.0 size=    1280KiB time=00:22:14.61 bitrate=   7.9kbits/s speed=12.7x    
frame=  947 fps=9.0 q=29.0 size=    1280KiB time=00:22:20.33 bitrate=   7.8kbits/s speed=12.7x    
frame=  947 fps=9.0 q=29.0 size=    1280KiB time=00:22:28.52 bitrate=   7.8kbits/s speed=12.8x    
frame=  947 fps=8.9 q=29.0 size=    1280KiB time=00:22:39.23 bitrate=   7.7kbits/s speed=12.8x    
frame=  947 fps=8.9 q=29.0 size=    1280KiB time=00:22:49.34 bitrate=   7.7kbits/s speed=12.8x    
frame=  947 fps=8.8 q=29.0 size=    1280KiB time=00:23:01.24 bitrate=   7.6kbits/s speed=12.9x    
frame=  947 fps=8.8 q=29.0 size=    1280KiB time=00:23:12.68 bitrate=   7.5kbits/s speed=12.9x    
frame=  947 fps=8.7 q=29.0 size=    1280KiB time=00:23:23.26 bitrate=   7.5kbits/s speed=  13x    
frame=  947 fps=8.7 q=29.0 size=    1280KiB time=00:23:34.48 bitrate=   7.4kbits/s speed=  13x    
frame=  947 fps=8.7 q=29.0 size=    1280KiB time=00:23:45.45 bitrate=   7.4kbits/s speed=  13x    
frame=  947 fps=8.6 q=29.0 size=    1280KiB time=00:23:51.46 bitrate=   7.3kbits/s speed=  13x    
frame=  947 fps=8.6 q=29.0 size=    1280KiB time=00:23:58.97 bitrate=   7.3kbits/s speed=  13x    
frame=  947 fps=8.5 q=29.0 size=    1280KiB time=00:24:10.02 bitrate=   7.2kbits/s speed=13.1x    
frame=  947 fps=8.5 q=29.0 size=    1280KiB time=00:24:21.76 bitrate=   7.2kbits/s speed=13.1x    
frame=  947 fps=8.5 q=29.0 size=    1280KiB time=00:24:33.53 bitrate=   7.1kbits/s speed=13.2x    
frame=  947 fps=8.4 q=29.0 size=    1280KiB time=00:24:45.35 bitrate=   7.1kbits/s speed=13.2x    
frame=  947 fps=8.4 q=29.0 size=    1280KiB time=00:24:57.04 bitrate=   7.0kbits/s speed=13.3x    
frame=  947 fps=8.3 q=29.0 size=    1280KiB time=00:25:07.32 bitrate=   7.0kbits/s speed=13.3x    
frame=  947 fps=8.3 q=29.0 size=    1280KiB time=00:25:13.68 bitrate=   6.9kbits/s speed=13.3x    
frame=  947 fps=8.3 q=29.0 size=    1280KiB time=00:25:21.02 bitrate=   6.9kbits/s speed=13.3x    
frame=  947 fps=8.2 q=29.0 size=    1280KiB time=00:25:30.49 bitrate=   6.9kbits/s speed=13.3x    
frame=  947 fps=8.2 q=29.0 size=    1280KiB time=00:25:39.75 bitrate=   6.8kbits/s speed=13.3x    
frame=  947 fps=8.2 q=29.0 size=    1280KiB time=00:25:46.41 bitrate=   6.8kbits/s speed=13.3x    
frame=  947 fps=8.1 q=29.0 size=    1280KiB time=00:25:58.05 bitrate=   6.7kbits/s speed=13.4x    
frame=  947 fps=8.1 q=29.0 size=    1280KiB time=00:26:11.15 bitrate=   6.7kbits/s speed=13.4x    
frame=  947 fps=8.1 q=29.0 size=    1280KiB time=00:26:25.10 bitrate=   6.6kbits/s speed=13.5x    
frame=  947 fps=8.0 q=29.0 size=    1280KiB time=00:26:38.20 bitrate=   6.6kbits/s speed=13.5x    
frame=  947 fps=8.0 q=29.0 size=    1280KiB time=00:26:51.34 bitrate=   6.5kbits/s speed=13.6x    
frame=  947 fps=7.9 q=29.0 size=    1280KiB time=00:27:04.19 bitrate=   6.5kbits/s speed=13.6x    
frame=  947 fps=7.9 q=29.0 size=    1280KiB time=00:27:17.37 bitrate=   6.4kbits/s speed=13.7x    
frame=  947 fps=7.9 q=29.0 size=    1280KiB time=00:27:29.96 bitrate=   6.4kbits/s speed=13.7x    
frame=  947 fps=7.8 q=29.0 size=    1280KiB time=00:27:39.43 bitrate=   6.3kbits/s speed=13.7x    
frame=  947 fps=7.8 q=29.0 size=    1280KiB time=00:27:45.06 bitrate=   6.3kbits/s speed=13.7x    
frame=  947 fps=7.8 q=29.0 size=    1280KiB time=00:27:51.55 bitrate=   6.3kbits/s speed=13.7x    
frame=  947 fps=7.7 q=29.0 size=    1280KiB time=00:27:57.86 bitrate=   6.2kbits/s speed=13.7x    
frame=  947 fps=7.7 q=29.0 size=    1280KiB time=00:28:04.18 bitrate=   6.2kbits/s speed=13.7x    
frame=  947 fps=7.7 q=29.0 size=    1280KiB time=00:28:10.45 bitrate=   6.2kbits/s speed=13.7x    
frame=  947 fps=7.6 q=29.0 size=    1280KiB time=00:28:16.76 bitrate=   6.2kbits/s speed=13.7x    
frame=  947 fps=7.6 q=29.0 size=    1280KiB time=00:28:23.08 bitrate=   6.2kbits/s speed=13.7x    
frame=  947 fps=7.6 q=29.0 size=    1280KiB time=00:28:29.14 bitrate=   6.1kbits/s speed=13.7x    
frame=  947 fps=7.6 q=29.0 size=    1280KiB time=00:28:35.37 bitrate=   6.1kbits/s speed=13.7x    
frame=  947 fps=7.5 q=29.0 size=    1280KiB time=00:28:41.81 bitrate=   6.1kbits/s speed=13.7x    
frame=  947 fps=7.5 q=29.0 size=    1280KiB time=00:28:48.04 bitrate=   6.1kbits/s speed=13.7x    
frame=  947 fps=7.5 q=29.0 size=    1280KiB time=00:28:54.35 bitrate=   6.0kbits/s speed=13.7x    
frame=  947 fps=7.4 q=29.0 size=    1280KiB time=00:29:00.67 bitrate=   6.0kbits/s speed=13.7x    
frame=  947 fps=7.4 q=29.0 size=    1280KiB time=00:29:07.02 bitrate=   6.0kbits/s speed=13.7x    
frame=  947 fps=7.4 q=29.0 size=    1280KiB time=00:29:12.74 bitrate=   6.0kbits/s speed=13.6x    
frame=  947 fps=7.3 q=29.0 size=    1280KiB time=00:29:18.93 bitrate=   6.0kbits/s speed=13.6x    
frame=  947 fps=7.3 q=29.0 size=    1280KiB time=00:29:24.26 bitrate=   5.9kbits/s speed=13.6x    
frame=  947 fps=7.3 q=29.0 size=    1280KiB time=00:29:30.02 bitrate=   5.9kbits/s speed=13.6x    
frame=  947 fps=7.3 q=29.0 size=    1280KiB time=00:29:34.37 bitrate=   5.9kbits/s speed=13.6x    
frame=  947 fps=7.2 q=29.0 size=    1280KiB time=00:29:40.22 bitrate=   5.9kbits/s speed=13.6x    
frame=  947 fps=7.2 q=29.0 size=    1280KiB time=00:29:45.85 bitrate=   5.9kbits/s speed=13.6x    
frame=  947 fps=7.2 q=29.0 size=    1280KiB time=00:29:51.70 bitrate=   5.9kbits/s speed=13.6x    
frame=  947 fps=7.1 q=29.0 size=    1280KiB time=00:29:56.69 bitrate=   5.8kbits/s speed=13.6x    
frame=  947 fps=7.1 q=29.0 size=    1280KiB time=00:30:02.70 bitrate=   5.8kbits/s speed=13.5x    
frame=  947 fps=7.1 q=29.0 size=    1280KiB time=00:30:08.93 bitrate=   5.8kbits/s speed=13.5x    
frame=  947 fps=7.1 q=29.0 size=    1280KiB time=00:30:15.33 bitrate=   5.8kbits/s speed=13.5x    
frame=  947 fps=7.0 q=29.0 size=    1280KiB time=00:30:21.48 bitrate=   5.8kbits/s speed=13.5x    
frame=  947 fps=7.0 q=29.0 size=    1280KiB time=00:30:27.71 bitrate=   5.7kbits/s speed=13.5x    
frame=  947 fps=7.0 q=29.0 size=    1280KiB time=00:30:33.77 bitrate=   5.7kbits/s speed=13.5x    
frame=  947 fps=7.0 q=29.0 size=    1280KiB time=00:30:39.95 bitrate=   5.7kbits/s speed=13.5x    
frame=  947 fps=6.9 q=29.0 size=    1280KiB time=00:30:46.18 bitrate=   5.7kbits/s speed=13.5x    
frame=  947 fps=6.9 q=29.0 size=    1280KiB time=00:30:51.17 bitrate=   5.7kbits/s speed=13.5x    
frame=  947 fps=6.9 q=29.0 size=    1280KiB time=00:30:57.66 bitrate=   5.6kbits/s speed=13.5x    
frame=  947 fps=6.8 q=29.0 size=    1280KiB time=00:31:03.93 bitrate=   5.6kbits/s speed=13.5x    
frame=  947 fps=6.8 q=29.0 size=    1280KiB time=00:31:10.25 bitrate=   5.6kbits/s speed=13.5x    
frame=  947 fps=6.8 q=29.0 size=    1280KiB time=00:31:16.56 bitrate=   5.6kbits/s speed=13.5x    
frame=  947 fps=6.8 q=29.0 size=    1280KiB time=00:31:22.88 bitrate=   5.6kbits/s speed=13.5x    
frame=  947 fps=6.7 q=29.0 size=    1280KiB time=00:31:28.98 bitrate=   5.6kbits/s speed=13.5x    
frame=  947 fps=6.7 q=29.0 size=    1280KiB time=00:31:35.33 bitrate=   5.5kbits/s speed=13.5x    
frame=  947 fps=6.7 q=29.0 size=    1280KiB time=00:31:41.35 bitrate=   5.5kbits/s speed=13.5x    
frame=  947 fps=6.7 q=29.0 size=    1280KiB time=00:31:47.79 bitrate=   5.5kbits/s speed=13.4x    
frame=  947 fps=6.7 q=29.0 size=    1280KiB time=00:31:54.02 bitrate=   5.5kbits/s speed=13.4x    
frame=  947 fps=6.6 q=29.0 size=    1280KiB time=00:32:00.34 bitrate=   5.5kbits/s speed=13.4x    
frame=  947 fps=6.6 q=29.0 size=    1280KiB time=00:32:06.61 bitrate=   5.4kbits/s speed=13.4x    
frame=  947 fps=6.6 q=29.0 size=    1280KiB time=00:32:12.97 bitrate=   5.4kbits/s speed=13.4x    
frame=  947 fps=6.6 q=29.0 size=    1280KiB time=00:32:19.24 bitrate=   5.4kbits/s speed=13.4x    
frame=  947 fps=6.5 q=29.0 size=    1280KiB time=00:32:25.51 bitrate=   5.4kbits/s speed=13.4x    
frame=  947 fps=6.5 q=29.0 size=    1280KiB time=00:32:31.95 bitrate=   5.4kbits/s speed=13.4x    
frame=  947 fps=6.5 q=29.0 size=    1280KiB time=00:32:38.22 bitrate=   5.4kbits/s speed=13.4x    
frame=  947 fps=6.5 q=29.0 size=    1280KiB time=00:32:44.45 bitrate=   5.3kbits/s speed=13.4x    
frame=  947 fps=6.4 q=29.0 size=    1280KiB time=00:32:50.94 bitrate=   5.3kbits/s speed=13.4x    
frame=  947 fps=6.4 q=29.0 size=    1280KiB time=00:32:57.17 bitrate=   5.3kbits/s speed=13.4x    
frame=  947 fps=6.4 q=29.0 size=    1280KiB time=00:33:03.44 bitrate=   5.3kbits/s speed=13.4x    
frame=  947 fps=6.4 q=29.0 size=    1280KiB time=00:33:09.76 bitrate=   5.3kbits/s speed=13.4x    
frame=  947 fps=6.4 q=29.0 size=    1280KiB time=00:33:16.03 bitrate=   5.3kbits/s speed=13.4x    
frame=  947 fps=6.3 q=29.0 size=    1280KiB time=00:33:22.51 bitrate=   5.2kbits/s speed=13.4x    
frame=  947 fps=6.3 q=29.0 size=    1280KiB time=00:33:28.78 bitrate=   5.2kbits/s speed=13.4x    
frame=  947 fps=6.3 q=29.0 size=    1280KiB time=00:33:35.14 bitrate=   5.2kbits/s speed=13.4x    
frame=  947 fps=6.3 q=29.0 size=    1280KiB time=00:33:41.54 bitrate=   5.2kbits/s speed=13.4x    
frame=  947 fps=6.2 q=29.0 size=    1280KiB time=00:33:47.86 bitrate=   5.2kbits/s speed=13.4x    
frame=  947 fps=6.2 q=29.0 size=    1280KiB time=00:33:54.17 bitrate=   5.2kbits/s speed=13.4x    
frame=  947 fps=6.2 q=29.0 size=    1280KiB time=00:34:00.49 bitrate=   5.1kbits/s speed=13.4x    
frame=  947 fps=6.2 q=29.0 size=    1280KiB time=00:34:06.80 bitrate=   5.1kbits/s speed=13.4x    
frame=  947 fps=6.2 q=29.0 size=    1280KiB time=00:34:13.12 bitrate=   5.1kbits/s speed=13.4x    
frame=  947 fps=6.1 q=29.0 size=    1280KiB time=00:34:19.60 bitrate=   5.1kbits/s speed=13.4x    
frame=  947 fps=6.1 q=29.0 size=    1280KiB time=00:34:25.87 bitrate=   5.1kbits/s speed=13.3x    
frame=  947 fps=6.1 q=29.0 size=    1280KiB time=00:34:32.14 bitrate=   5.1kbits/s speed=13.3x    
frame=  947 fps=6.1 q=29.0 size=    1280KiB time=00:34:38.63 bitrate=   5.0kbits/s speed=13.3x    
frame=  947 fps=6.1 q=29.0 size=    1280KiB time=00:34:44.94 bitrate=   5.0kbits/s speed=13.3x    
frame=  947 fps=6.0 q=29.0 size=    1280KiB time=00:34:51.30 bitrate=   5.0kbits/s speed=13.3x    
frame=  947 fps=6.0 q=29.0 size=    1280KiB time=00:34:57.66 bitrate=   5.0kbits/s speed=13.3x    
frame=  947 fps=6.0 q=29.0 size=    1280KiB time=00:35:03.97 bitrate=   5.0kbits/s speed=13.3x    
frame=  947 fps=6.0 q=29.0 size=    1280KiB time=00:35:10.46 bitrate=   5.0kbits/s speed=13.3x    
frame=  947 fps=6.0 q=29.0 size=    1280KiB time=00:35:16.77 bitrate=   5.0kbits/s speed=13.3x    
frame=  947 fps=5.9 q=29.0 size=    1280KiB time=00:35:23.00 bitrate=   4.9kbits/s speed=13.3x    
frame=  947 fps=5.9 q=29.0 size=    1280KiB time=00:35:29.36 bitrate=   4.9kbits/s speed=13.3x    
frame=  947 fps=5.9 q=29.0 size=    1280KiB time=00:35:35.80 bitrate=   4.9kbits/s speed=13.3x    
frame=  947 fps=5.9 q=29.0 size=    1280KiB time=00:35:42.16 bitrate=   4.9kbits/s speed=13.3x    
frame=  947 fps=5.9 q=29.0 size=    1280KiB time=00:35:48.22 bitrate=   4.9kbits/s speed=13.3x    
frame=  947 fps=5.8 q=29.0 size=    1280KiB time=00:35:54.45 bitrate=   4.9kbits/s speed=13.3x    
frame=  947 fps=5.8 q=29.0 size=    1280KiB time=00:36:00.72 bitrate=   4.9kbits/s speed=13.3x    
frame=  947 fps=5.8 q=29.0 size=    1280KiB time=00:36:07.08 bitrate=   4.8kbits/s speed=13.3x    
frame=  947 fps=5.8 q=29.0 size=    1280KiB time=00:36:13.18 bitrate=   4.8kbits/s speed=13.3x    
frame=  947 fps=5.8 q=29.0 size=    1280KiB time=00:36:19.45 bitrate=   4.8kbits/s speed=13.3x    
frame=  947 fps=5.8 q=29.0 size=    1280KiB time=00:36:25.34 bitrate=   4.8kbits/s speed=13.3x    
frame=  947 fps=5.7 q=29.0 size=    1280KiB time=00:36:31.74 bitrate=   4.8kbits/s speed=13.3x    
frame=  947 fps=5.7 q=29.0 size=    1280KiB time=00:36:37.88 bitrate=   4.8kbits/s speed=13.3x    
frame=  947 fps=5.7 q=29.0 size=    1280KiB time=00:36:43.98 bitrate=   4.8kbits/s speed=13.3x    
frame=  947 fps=5.7 q=29.0 size=    1280KiB time=00:36:50.21 bitrate=   4.7kbits/s speed=13.3x    
frame=  947 fps=5.7 q=29.0 size=    1280KiB time=00:36:56.66 bitrate=   4.7kbits/s speed=13.3x    
frame=  947 fps=5.6 q=29.0 size=    1280KiB time=00:37:02.63 bitrate=   4.7kbits/s speed=13.3x    
frame=  947 fps=5.6 q=29.0 size=    1280KiB time=00:37:08.90 bitrate=   4.7kbits/s speed=13.3x    
frame=  947 fps=5.6 q=29.0 size=    1280KiB time=00:37:15.17 bitrate=   4.7kbits/s speed=13.3x    
frame=  947 fps=5.6 q=29.0 size=    1280KiB time=00:37:21.40 bitrate=   4.7kbits/s speed=13.2x    
frame=  947 fps=5.6 q=29.0 size=    1280KiB time=00:37:27.72 bitrate=   4.7kbits/s speed=13.2x    
frame=  947 fps=5.6 q=29.0 size=    1280KiB time=00:37:34.03 bitrate=   4.7kbits/s speed=13.2x    
frame=  947 fps=5.5 q=29.0 size=    1280KiB time=00:37:40.26 bitrate=   4.6kbits/s speed=13.2x    
frame=  947 fps=5.5 q=29.0 size=    1280KiB time=00:37:46.36 bitrate=   4.6kbits/s speed=13.2x    
frame=  947 fps=5.5 q=29.0 size=    1280KiB time=00:37:52.64 bitrate=   4.6kbits/s speed=13.2x    
frame=  947 fps=5.5 q=29.0 size=    1280KiB time=00:37:59.16 bitrate=   4.6kbits/s speed=13.2x    
frame=  947 fps=5.5 q=29.0 size=    1280KiB time=00:38:05.35 bitrate=   4.6kbits/s speed=13.2x    
frame=  947 fps=5.5 q=29.0 size=    1280KiB time=00:38:11.62 bitrate=   4.6kbits/s speed=13.2x    
frame=  947 fps=5.4 q=29.0 size=    1280KiB time=00:38:18.11 bitrate=   4.6kbits/s speed=13.2x    
frame=  947 fps=5.4 q=29.0 size=    1280KiB time=00:38:24.46 bitrate=   4.6kbits/s speed=13.2x    
frame=  947 fps=5.4 q=29.0 size=    1280KiB time=00:38:30.86 bitrate=   4.5kbits/s speed=13.2x    
frame=  947 fps=5.4 q=29.0 size=    1280KiB time=00:38:37.09 bitrate=   4.5kbits/s speed=13.2x    
frame=  947 fps=5.4 q=29.0 size=    1280KiB time=00:38:43.41 bitrate=   4.5kbits/s speed=13.2x    
frame=  947 fps=5.4 q=29.0 size=    1280KiB time=00:38:49.89 bitrate=   4.5kbits/s speed=13.2x    
frame=  947 fps=5.4 q=29.0 size=    1280KiB time=00:38:56.17 bitrate=   4.5kbits/s speed=13.2x    
frame=  947 fps=5.3 q=29.0 size=    1280KiB time=00:39:02.40 bitrate=   4.5kbits/s speed=13.2x    
frame=  947 fps=5.3 q=29.0 size=    1280KiB time=00:39:08.75 bitrate=   4.5kbits/s speed=13.2x    
frame=  947 fps=5.3 q=29.0 size=    1280KiB time=00:39:15.20 bitrate=   4.5kbits/s speed=13.2x    
frame=  947 fps=5.3 q=29.0 size=    1280KiB time=00:39:21.42 bitrate=   4.4kbits/s speed=13.2x    
frame=  947 fps=5.3 q=29.0 size=    1280KiB time=00:39:27.61 bitrate=   4.4kbits/s speed=13.2x    
frame=  947 fps=5.3 q=29.0 size=    1280KiB time=00:39:33.88 bitrate=   4.4kbits/s speed=13.2x    
frame=  947 fps=5.2 q=29.0 size=    1280KiB time=00:39:40.20 bitrate=   4.4kbits/s speed=13.2x    
frame=  947 fps=5.2 q=29.0 size=    1280KiB time=00:39:46.51 bitrate=   4.4kbits/s speed=13.2x    
frame=  947 fps=5.2 q=29.0 size=    1280KiB time=00:39:52.78 bitrate=   4.4kbits/s speed=13.2x    
frame=  947 fps=5.2 q=29.0 size=    1280KiB time=00:39:59.31 bitrate=   4.4kbits/s speed=13.2x    
frame=  947 fps=5.2 q=29.0 size=    1280KiB time=00:40:05.63 bitrate=   4.4kbits/s speed=13.2x    
frame=  947 fps=5.2 q=29.0 size=    1280KiB time=00:40:11.86 bitrate=   4.3kbits/s speed=13.2x    
frame=  947 fps=5.2 q=29.0 size=    1280KiB time=00:40:18.34 bitrate=   4.3kbits/s speed=13.2x    
frame=  947 fps=5.1 q=29.0 size=    1280KiB time=00:40:24.57 bitrate=   4.3kbits/s speed=13.2x    
frame=  947 fps=5.1 q=29.0 size=    1280KiB time=00:40:30.89 bitrate=   4.3kbits/s speed=13.2x    
frame=  947 fps=5.1 q=29.0 size=    1280KiB time=00:40:37.12 bitrate=   4.3kbits/s speed=13.2x    
frame=  947 fps=5.1 q=29.0 size=    1280KiB time=00:40:43.60 bitrate=   4.3kbits/s speed=13.2x    
frame=  947 fps=5.1 q=29.0 size=    1280KiB time=00:40:50.00 bitrate=   4.3kbits/s speed=13.2x    
frame=  947 fps=5.1 q=29.0 size=    1280KiB time=00:40:56.23 bitrate=   4.3kbits/s speed=13.2x    
frame=  947 fps=5.1 q=29.0 size=    1280KiB time=00:41:02.46 bitrate=   4.3kbits/s speed=13.2x    
frame=  947 fps=5.0 q=29.0 size=    1280KiB time=00:41:08.77 bitrate=   4.2kbits/s speed=13.1x    
frame=  947 fps=5.0 q=29.0 size=    1280KiB time=00:41:15.22 bitrate=   4.2kbits/s speed=13.1x    
frame=  947 fps=5.0 q=29.0 size=    1280KiB time=00:41:21.49 bitrate=   4.2kbits/s speed=13.1x    
frame=  947 fps=5.0 q=29.0 size=    1280KiB time=00:41:27.72 bitrate=   4.2kbits/s speed=13.1x    
frame=  947 fps=5.0 q=29.0 size=    1280KiB time=00:41:34.16 bitrate=   4.2kbits/s speed=13.1x    
frame=  947 fps=5.0 q=29.0 size=    1280KiB time=00:41:40.39 bitrate=   4.2kbits/s speed=13.1x    
frame=  947 fps=5.0 q=29.0 size=    1280KiB time=00:41:45.47 bitrate=   4.2kbits/s speed=13.1x    
frame=  947 fps=4.9 q=29.0 size=    1280KiB time=00:41:51.31 bitrate=   4.2kbits/s speed=13.1x    
frame=  947 fps=4.9 q=29.0 size=    1280KiB time=00:41:57.71 bitrate=   4.2kbits/s speed=13.1x    
frame=  947 fps=4.9 q=29.0 size=    1280KiB time=00:42:04.03 bitrate=   4.2kbits/s speed=13.1x    
frame=  947 fps=4.9 q=29.0 size=    1280KiB time=00:42:10.34 bitrate=   4.1kbits/s speed=13.1x    
frame=  947 fps=4.9 q=29.0 size=    1280KiB time=00:42:16.57 bitrate=   4.1kbits/s speed=13.1x    
frame=  947 fps=4.9 q=29.0 size=    1280KiB time=00:42:23.01 bitrate=   4.1kbits/s speed=13.1x    
frame=  947 fps=4.9 q=29.0 size=    1536KiB time=00:42:29.33 bitrate=   4.9kbits/s speed=13.1x    
frame=  947 fps=4.9 q=29.0 size=    1536KiB time=00:42:35.64 bitrate=   4.9kbits/s speed=13.1x    
frame=  947 fps=4.8 q=29.0 size=    1536KiB time=00:42:41.92 bitrate=   4.9kbits/s speed=13.1x    
frame=  947 fps=4.8 q=29.0 size=    1536KiB time=00:42:48.10 bitrate=   4.9kbits/s speed=13.1x    
frame=  947 fps=4.8 q=29.0 size=    1536KiB time=00:42:53.86 bitrate=   4.9kbits/s speed=13.1x    
frame=  947 fps=4.8 q=29.0 size=    1536KiB time=00:42:59.58 bitrate=   4.9kbits/s speed=13.1x    
frame=  947 fps=4.8 q=29.0 size=    1536KiB time=00:43:05.64 bitrate=   4.9kbits/s speed=13.1x    
frame=  947 fps=4.8 q=29.0 size=    1536KiB time=00:43:11.95 bitrate=   4.9kbits/s speed=13.1x    
frame=  947 fps=4.8 q=29.0 size=    1536KiB time=00:43:18.40 bitrate=   4.8kbits/s speed=13.1x    
frame=  947 fps=4.8 q=29.0 size=    1536KiB time=00:43:24.54 bitrate=   4.8kbits/s speed=13.1x    
frame=  947 fps=4.7 q=29.0 size=    1536KiB time=00:43:30.73 bitrate=   4.8kbits/s speed=13.1x    
frame=  947 fps=4.7 q=29.0 size=    1536KiB time=00:43:37.21 bitrate=   4.8kbits/s speed=13.1x    
frame=  947 fps=4.7 q=29.0 size=    1536KiB time=00:43:43.48 bitrate=   4.8kbits/s speed=13.1x    
frame=  947 fps=4.7 q=29.0 size=    1536KiB time=00:43:49.63 bitrate=   4.8kbits/s speed=13.1x    
frame=  947 fps=4.7 q=29.0 size=    1536KiB time=00:43:56.07 bitrate=   4.8kbits/s speed=13.1x    
frame=  947 fps=4.7 q=29.0 size=    1536KiB time=00:44:02.34 bitrate=   4.8kbits/s speed=13.1x    
frame=  947 fps=4.7 q=29.0 size=    1536KiB time=00:44:08.61 bitrate=   4.8kbits/s speed=13.1x    
frame=  947 fps=4.7 q=29.0 size=    1536KiB time=00:44:14.89 bitrate=   4.7kbits/s speed=13.1x    
frame=  947 fps=4.6 q=29.0 size=    1536KiB time=00:44:21.33 bitrate=   4.7kbits/s speed=13.1x    
frame=  947 fps=4.6 q=29.0 size=    1536KiB time=00:44:27.64 bitrate=   4.7kbits/s speed=13.1x    
frame=  947 fps=4.6 q=29.0 size=    1536KiB time=00:44:33.92 bitrate=   4.7kbits/s speed=13.1x    
frame=  947 fps=4.6 q=29.0 size=    1536KiB time=00:44:40.32 bitrate=   4.7kbits/s speed=13.1x    
frame=  947 fps=4.6 q=29.0 size=    1536KiB time=00:44:46.63 bitrate=   4.7kbits/s speed=  13x    
frame=  947 fps=4.6 q=29.0 size=    1536KiB time=00:44:52.90 bitrate=   4.7kbits/s speed=  13x    
frame=  947 fps=4.6 q=29.0 size=    1536KiB time=00:44:59.30 bitrate=   4.7kbits/s speed=  13x    
frame=  947 fps=4.6 q=29.0 size=    1536KiB time=00:45:05.45 bitrate=   4.7kbits/s speed=  13x    
frame=  947 fps=4.6 q=29.0 size=    1536KiB time=00:45:11.85 bitrate=   4.6kbits/s speed=  13x    
frame=  947 fps=4.5 q=29.0 size=    1536KiB time=00:45:18.16 bitrate=   4.6kbits/s speed=  13x    
frame=  947 fps=4.5 q=29.0 size=    1536KiB time=00:45:24.39 bitrate=   4.6kbits/s speed=  13x    
frame=  947 fps=4.5 q=29.0 size=    1536KiB time=00:45:30.53 bitrate=   4.6kbits/s speed=  13x    
frame=  947 fps=4.5 q=29.0 size=    1536KiB time=00:45:36.29 bitrate=   4.6kbits/s speed=  13x    
frame=  947 fps=4.5 q=29.0 size=    1536KiB time=00:45:42.52 bitrate=   4.6kbits/s speed=  13x    
frame=  947 fps=4.5 q=29.0 size=    1536KiB time=00:45:49.01 bitrate=   4.6kbits/s speed=  13x    
frame=  947 fps=4.5 q=29.0 size=    1536KiB time=00:45:54.64 bitrate=   4.6kbits/s speed=  13x    
frame=  947 fps=4.5 q=29.0 size=    1536KiB time=00:46:00.27 bitrate=   4.6kbits/s speed=  13x    
frame=  947 fps=4.5 q=29.0 size=    1536KiB time=00:46:05.65 bitrate=   4.5kbits/s speed=  13x    
frame=  947 fps=4.4 q=29.0 size=    1536KiB time=00:46:11.54 bitrate=   4.5kbits/s speed=  13x    
frame=  947 fps=4.4 q=29.0 size=    1536KiB time=00:46:18.58 bitrate=   4.5kbits/s speed=  13x    
frame=  947 fps=4.4 q=29.0 size=    1536KiB time=00:46:25.36 bitrate=   4.5kbits/s speed=  13x    
frame=  947 fps=4.4 q=29.0 size=    1536KiB time=00:46:30.95 bitrate=   4.5kbits/s speed=  13x    
frame=  947 fps=4.4 q=29.0 size=    1536KiB time=00:46:36.07 bitrate=   4.5kbits/s speed=  13x    
frame=  947 fps=4.4 q=29.0 size=    1536KiB time=00:46:39.01 bitrate=   4.5kbits/s speed=  13x    
frame=  947 fps=4.4 q=29.0 size=    1536KiB time=00:46:42.98 bitrate=   4.5kbits/s speed=  13x    
frame=  947 fps=4.4 q=29.0 size=    1536KiB time=00:46:53.31 bitrate=   4.5kbits/s speed=  13x    
frame=  947 fps=4.4 q=29.0 size=    1536KiB time=00:47:06.79 bitrate=   4.5kbits/s speed=  13x    
frame=  947 fps=4.3 q=29.0 size=    1536KiB time=00:47:19.12 bitrate=   4.4kbits/s speed=  13x    
frame=  947 fps=4.3 q=29.0 size=    1536KiB time=00:47:31.75 bitrate=   4.4kbits/s speed=13.1x    
frame=  947 fps=4.3 q=29.0 size=    1536KiB time=00:47:44.98 bitrate=   4.4kbits/s speed=13.1x    
frame=  947 fps=4.3 q=29.0 size=    1536KiB time=00:47:57.78 bitrate=   4.4kbits/s speed=13.1x    
frame=  947 fps=4.3 q=29.0 size=    1536KiB time=00:48:11.47 bitrate=   4.4kbits/s speed=13.2x    
frame=  947 fps=4.3 q=29.0 size=    1536KiB time=00:48:24.06 bitrate=   4.3kbits/s speed=13.2x    
frame=  947 fps=4.3 q=29.0 size=    1536KiB time=00:48:36.43 bitrate=   4.3kbits/s speed=13.2x    
frame=  947 fps=4.3 q=29.0 size=    1536KiB time=00:48:48.51 bitrate=   4.3kbits/s speed=13.2x    
frame=  947 fps=4.3 q=29.0 size=    1536KiB time=00:49:01.09 bitrate=   4.3kbits/s speed=13.3x    
frame=  947 fps=4.3 q=29.0 size=    1536KiB time=00:49:14.49 bitrate=   4.3kbits/s speed=13.3x    
frame=  947 fps=4.2 q=29.0 size=    1536KiB time=00:49:27.72 bitrate=   4.2kbits/s speed=13.3x    
frame=  947 fps=4.2 q=29.0 size=    1536KiB time=00:49:40.35 bitrate=   4.2kbits/s speed=13.3x    
frame=  947 fps=4.2 q=29.0 size=    1536KiB time=00:49:52.89 bitrate=   4.2kbits/s speed=13.4x    
frame=  947 fps=4.2 q=29.0 size=    1536KiB time=00:50:05.26 bitrate=   4.2kbits/s speed=13.4x    
frame=  947 fps=4.2 q=29.0 size=    1536KiB time=00:50:12.90 bitrate=   4.2kbits/s speed=13.4x    
frame=  947 fps=4.2 q=29.0 size=    1536KiB time=00:50:19.90 bitrate=   4.2kbits/s speed=13.4x    
frame=  947 fps=4.2 q=29.0 size=    1536KiB time=00:50:26.26 bitrate=   4.2kbits/s speed=13.4x    
frame=  947 fps=4.2 q=29.0 size=    1536KiB time=00:50:32.96 bitrate=   4.1kbits/s speed=13.4x    
frame=  947 fps=4.2 q=29.0 size=    1536KiB time=00:50:44.18 bitrate=   4.1kbits/s speed=13.4x    
frame=  947 fps=4.2 q=29.0 size=    1536KiB time=00:50:55.91 bitrate=   4.1kbits/s speed=13.4x    
frame=  947 fps=4.2 q=29.0 size=    1536KiB time=00:51:07.86 bitrate=   4.1kbits/s speed=13.5x    
frame=  947 fps=4.1 q=29.0 size=    1536KiB time=00:51:18.52 bitrate=   4.1kbits/s speed=13.5x    
frame=  947 fps=4.1 q=29.0 size=    1536KiB time=00:51:27.74 bitrate=   4.1kbits/s speed=13.5x    
frame=  947 fps=4.1 q=29.0 size=    1536KiB time=00:51:38.66 bitrate=   4.1kbits/s speed=13.5x    
frame=  947 fps=4.1 q=29.0 size=    1536KiB time=00:51:49.37 bitrate=   4.0kbits/s speed=13.5x    
frame=  947 fps=4.1 q=29.0 size=    1536KiB time=00:51:58.76 bitrate=   4.0kbits/s speed=13.5x    
frame=  947 fps=4.1 q=29.0 size=    1536KiB time=00:52:08.10 bitrate=   4.0kbits/s speed=13.5x    
frame=  947 fps=4.1 q=29.0 size=    1536KiB time=00:52:16.89 bitrate=   4.0kbits/s speed=13.5x    
frame=  947 fps=4.1 q=29.0 size=    1536KiB time=00:52:27.73 bitrate=   4.0kbits/s speed=13.6x    
frame=  947 fps=4.1 q=29.0 size=    1536KiB time=00:52:38.86 bitrate=   4.0kbits/s speed=13.6x    
frame=  947 fps=4.1 q=29.0 size=    1536KiB time=00:52:50.34 bitrate=   4.0kbits/s speed=13.6x    
frame=  947 fps=4.1 q=29.0 size=    1536KiB time=00:53:01.99 bitrate=   4.0kbits/s speed=13.6x    
frame=  947 fps=4.0 q=29.0 size=    1536KiB time=00:53:13.89 bitrate=   3.9kbits/s speed=13.6x    
frame=  947 fps=4.0 q=29.0 size=    1536KiB time=00:53:25.24 bitrate=   3.9kbits/s speed=13.7x    
frame=  947 fps=4.0 q=29.0 size=    1536KiB time=00:53:36.89 bitrate=   3.9kbits/s speed=13.7x    
frame=  947 fps=4.0 q=29.0 size=    1536KiB time=00:53:47.39 bitrate=   3.9kbits/s speed=13.7x    
frame=  947 fps=4.0 q=29.0 size=    1536KiB time=00:53:58.78 bitrate=   3.9kbits/s speed=13.7x    
frame=  947 fps=4.0 q=29.0 size=    1536KiB time=00:54:10.43 bitrate=   3.9kbits/s speed=13.7x    
frame=  947 fps=4.0 q=29.0 size=    1536KiB time=00:54:22.67 bitrate=   3.9kbits/s speed=13.7x    
frame=  947 fps=4.0 q=29.0 size=    1536KiB time=00:54:35.39 bitrate=   3.8kbits/s speed=13.8x    
frame=  947 fps=4.0 q=29.0 size=    1536KiB time=00:54:46.78 bitrate=   3.8kbits/s speed=13.8x    
frame=  947 fps=4.0 q=29.0 size=    1536KiB time=00:54:58.98 bitrate=   3.8kbits/s speed=13.8x    
frame=  947 fps=4.0 q=29.0 size=    1536KiB time=00:55:10.80 bitrate=   3.8kbits/s speed=13.8x    
frame=  947 fps=3.9 q=29.0 size=    1536KiB time=00:55:21.85 bitrate=   3.8kbits/s speed=13.8x    
frame=  947 fps=3.9 q=29.0 size=    1536KiB time=00:55:34.10 bitrate=   3.8kbits/s speed=13.9x    
frame=  947 fps=3.9 q=29.0 size=    1536KiB time=00:55:44.93 bitrate=   3.8kbits/s speed=13.9x    
frame=  947 fps=3.9 q=29.0 size=    1536KiB time=00:55:56.45 bitrate=   3.7kbits/s speed=13.9x    
frame=  947 fps=3.9 q=29.0 size=    1536KiB time=00:56:07.50 bitrate=   3.7kbits/s speed=13.9x    
frame=  947 fps=3.9 q=29.0 size=    1536KiB time=00:56:19.58 bitrate=   3.7kbits/s speed=13.9x    
frame=  947 fps=3.9 q=29.0 size=    1536KiB time=00:56:31.44 bitrate=   3.7kbits/s speed=  14x    
frame=  947 fps=3.9 q=29.0 size=    1536KiB time=00:56:41.17 bitrate=   3.7kbits/s speed=  14x    
frame=  947 fps=3.9 q=29.0 size=    1536KiB time=00:56:52.52 bitrate=   3.7kbits/s speed=  14x    
frame=  947 fps=3.9 q=29.0 size=    1536KiB time=00:57:03.70 bitrate=   3.7kbits/s speed=  14x    
frame=  947 fps=3.9 q=29.0 size=    1536KiB time=00:57:15.52 bitrate=   3.7kbits/s speed=  14x    
frame=  947 fps=3.9 q=29.0 size=    1536KiB time=00:57:26.48 bitrate=   3.7kbits/s speed=  14x    
frame=  947 fps=3.8 q=29.0 size=    1536KiB time=00:57:36.64 bitrate=   3.6kbits/s speed=  14x    
frame=  947 fps=3.8 q=29.0 size=    1536KiB time=00:57:41.97 bitrate=   3.6kbits/s speed=  14x    
frame=  947 fps=3.8 q=29.0 size=    1536KiB time=00:57:48.62 bitrate=   3.6kbits/s speed=  14x    
frame=  947 fps=3.8 q=29.0 size=    1536KiB time=00:57:59.85 bitrate=   3.6kbits/s speed=14.1x    
frame=  947 fps=3.8 q=29.0 size=    1536KiB time=00:58:11.96 bitrate=   3.6kbits/s speed=14.1x    
frame=  947 fps=3.8 q=29.0 size=    1536KiB time=00:58:24.59 bitrate=   3.6kbits/s speed=14.1x    
frame=  947 fps=3.8 q=29.0 size=    1536KiB time=00:58:36.37 bitrate=   3.6kbits/s speed=14.1x    
frame=  947 fps=3.8 q=29.0 size=    1536KiB time=00:58:48.70 bitrate=   3.6kbits/s speed=14.1x    
frame=  947 fps=3.8 q=29.0 size=    1536KiB time=00:59:00.69 bitrate=   3.6kbits/s speed=14.1x    
frame=  947 fps=3.8 q=29.0 size=    1536KiB time=00:59:12.72 bitrate=   3.5kbits/s speed=14.2x    
frame=  947 fps=3.8 q=29.0 size=    1536KiB time=00:59:22.19 bitrate=   3.5kbits/s speed=14.2x    
frame=  947 fps=3.8 q=29.0 size=    1536KiB time=00:59:32.26 bitrate=   3.5kbits/s speed=14.2x    
frame=  947 fps=3.8 q=29.0 size=    1536KiB time=00:59:40.80 bitrate=   3.5kbits/s speed=14.2x    
frame=  947 fps=3.7 q=29.0 size=    1536KiB time=00:59:49.37 bitrate=   3.5kbits/s speed=14.2x    
frame=  947 fps=3.7 q=29.0 size=    1536KiB time=00:59:56.07 bitrate=   3.5kbits/s speed=14.2x    
frame=  947 fps=3.7 q=29.0 size=    1536KiB time=00:59:59.78 bitrate=   3.5kbits/s speed=14.2x    
frame=  947 fps=3.7 q=29.0 size=    1536KiB time=01:00:03.28 bitrate=   3.5kbits/s speed=14.2x    
frame=  947 fps=3.7 q=29.0 size=    1536KiB time=01:00:09.89 bitrate=   3.5kbits/s speed=14.2x    
frame=  947 fps=3.7 q=29.0 size=    1536KiB time=01:00:16.42 bitrate=   3.5kbits/s speed=14.2x    
frame=  947 fps=3.7 q=29.0 size=    1536KiB time=01:00:20.26 bitrate=   3.5kbits/s speed=14.1x    
frame=  947 fps=3.7 q=29.0 size=    1536KiB time=01:00:24.49 bitrate=   3.5kbits/s speed=14.1x    
frame=  947 fps=3.7 q=29.0 size=    1536KiB time=01:00:30.67 bitrate=   3.5kbits/s speed=14.1x    
frame=  947 fps=3.7 q=29.0 size=    1536KiB time=01:00:35.37 bitrate=   3.5kbits/s speed=14.1x    
frame=  947 fps=3.7 q=29.0 size=    1536KiB time=01:00:43.81 bitrate=   3.5kbits/s speed=14.1x    
frame=  947 fps=3.7 q=29.0 size=    1536KiB time=01:00:54.91 bitrate=   3.4kbits/s speed=14.1x    
frame=  947 fps=3.7 q=29.0 size=    1536KiB time=01:01:05.79 bitrate=   3.4kbits/s speed=14.2x    
frame=  947 fps=3.6 q=29.0 size=    1536KiB time=01:01:15.09 bitrate=   3.4kbits/s speed=14.2x    
frame=  947 fps=3.6 q=29.0 size=    1536KiB time=01:01:26.99 bitrate=   3.4kbits/s speed=14.2x    
Received > 3 system signals, hard exiting

2025-02-23 22:03:56,738 - new_bot - ERROR - Error processing video file: Failed to generate final video
2025-02-23 22:03:56,739 - __main__ - INFO - Status update: âŒ Error processing video: Failed to generate final video
Please try again or contact support.
2025-02-23 22:04:08,574 - __main__ - INFO - Checking environment variables...
2025-02-23 22:04:08,577 - __main__ - WARNING - âœ— Missing OPENAI_API_KEY in environment
2025-02-23 22:04:08,578 - __main__ - WARNING - âœ— Missing DEEPSEEK_API_KEY in environment
2025-02-23 22:04:08,578 - __main__ - WARNING - âœ— Missing GOOGLE_APPLICATION_CREDENTIALS_JSON in environment
2025-02-23 22:04:08,579 - __main__ - INFO - Some variables missing, checking railway.json...
2025-02-23 22:04:08,580 - __main__ - INFO - Found railway.json, loading configuration...
2025-02-23 22:04:08,581 - __main__ - INFO - Loaded OPENAI_API_KEY from railway.json
2025-02-23 22:04:08,582 - __main__ - INFO - Loaded DEEPSEEK_API_KEY from railway.json
2025-02-23 22:04:08,583 - __main__ - INFO - Loaded GOOGLE_APPLICATION_CREDENTIALS_JSON from railway.json
2025-02-23 22:04:08,584 - __main__ - INFO - Attempting to parse Google credentials...
2025-02-23 22:04:08,585 - __main__ - WARNING - Direct JSON parsing failed: Invalid control character at: line 1 column 175 (char 174)
2025-02-23 22:04:08,588 - __main__ - INFO - âœ“ Google credentials configured successfully
2025-02-23 22:04:08,589 - __main__ - INFO - âœ“ Configuration loaded successfully
2025-02-23 22:04:09,082 - __main__ - INFO - Checking environment variables...
2025-02-23 22:04:09,085 - __main__ - INFO - âœ“ Found OPENAI_API_KEY in environment
2025-02-23 22:04:09,090 - __main__ - INFO - âœ“ Found DEEPSEEK_API_KEY in environment
2025-02-23 22:04:09,102 - __main__ - INFO - âœ“ Found GOOGLE_APPLICATION_CREDENTIALS_JSON in environment
2025-02-23 22:04:09,105 - __main__ - INFO - Attempting to parse Google credentials...
2025-02-23 22:04:09,107 - __main__ - WARNING - Direct JSON parsing failed: Invalid control character at: line 1 column 175 (char 174)
2025-02-23 22:04:09,118 - __main__ - INFO - âœ“ Google credentials configured successfully
2025-02-23 22:04:09,120 - __main__ - INFO - âœ“ Configuration loaded successfully
2025-02-23 22:04:11,185 - new_bot - INFO - Checking environment variables...
2025-02-23 22:04:11,186 - new_bot - INFO - âœ“ Found OPENAI_API_KEY in environment
2025-02-23 22:04:11,187 - new_bot - INFO - âœ“ Found DEEPSEEK_API_KEY in environment
2025-02-23 22:04:11,187 - new_bot - INFO - âœ“ Found GOOGLE_APPLICATION_CREDENTIALS_JSON in environment
2025-02-23 22:04:11,188 - new_bot - INFO - Attempting to parse Google credentials...
2025-02-23 22:04:11,189 - new_bot - WARNING - Direct JSON parsing failed: Invalid control character at: line 1 column 175 (char 174)
2025-02-23 22:04:11,192 - new_bot - INFO - âœ“ Google credentials configured successfully
2025-02-23 22:04:14,118 - __main__ - INFO - Initializing StreamlitUpdate
2025-02-23 22:04:14,121 - __main__ - INFO - Initializing StreamlitContext
2025-02-23 22:04:14,124 - __main__ - INFO - Processing video URL: https://x.com/AMAZlNGNATURE/status/1886229103587602773
2025-02-23 22:04:14,125 - __main__ - INFO - Status update: ğŸ¬ Starting video processing...

0% â–±â–±â–±â–±â–±â–±â–±â–±â–±â–±
2025-02-23 22:04:14,128 - __main__ - INFO - Status update: ğŸ“¥ Downloading video...

10% â–°â–±â–±â–±â–±â–±â–±â–±â–±â–±
2025-02-23 22:04:14,130 - new_bot - INFO - Downloading video from: https://x.com/AMAZlNGNATURE/status/1886229103587602773
2025-02-23 22:04:14,131 - pipeline.Step_1_download_video - INFO - Downloading video from: https://twitter.com/AMAZlNGNATURE/status/1886229103587602773
2025-02-23 22:04:22,500 - pipeline.Step_1_download_video - INFO - Download completed
2025-02-23 22:04:22,501 - pipeline.Step_1_download_video - INFO - Downloaded file: temp_0\video\video_20250223_220417.mp4
2025-02-23 22:04:22,523 - new_bot - INFO - Starting video processing...
2025-02-23 22:04:22,525 - new_bot - INFO - Extracting frames...
2025-02-23 22:04:22,526 - __main__ - INFO - Status update: ğŸï¸ Extracting frames...

30% â–°â–°â–°â–±â–±â–±â–±â–±â–±â–±
2025-02-23 22:04:22,603 - pipeline.Step_2_extract_frames - INFO - Analyzing video for key frames...
2025-02-23 22:04:22,630 - pipeline.Step_2_extract_frames - INFO - Progress: 0.0%
2025-02-23 22:04:23,024 - pipeline.Step_2_extract_frames - INFO - Saved frame at 0.30s (scene_change=False, motion=2.43
2025-02-23 22:04:23,113 - pipeline.Step_2_extract_frames - INFO - Saved frame at 0.40s (scene_change=False, motion=2.41
2025-02-23 22:04:23,201 - pipeline.Step_2_extract_frames - INFO - Saved frame at 0.50s (scene_change=False, motion=2.24
2025-02-23 22:04:23,301 - pipeline.Step_2_extract_frames - INFO - Saved frame at 0.60s (scene_change=False, motion=2.09
2025-02-23 22:04:25,117 - pipeline.Step_2_extract_frames - INFO - Saved frame at 2.70s (scene_change=False, motion=2.23
2025-02-23 22:04:25,204 - pipeline.Step_2_extract_frames - INFO - Saved frame at 2.80s (scene_change=False, motion=2.09
2025-02-23 22:04:25,285 - pipeline.Step_2_extract_frames - INFO - Saved frame at 2.90s (scene_change=False, motion=2.17
2025-02-23 22:04:31,180 - pipeline.Step_2_extract_frames - INFO - Progress: 29.9%
2025-02-23 22:04:36,283 - pipeline.Step_2_extract_frames - INFO - Saved frame at 16.10s (scene_change=False, motion=2.09
2025-02-23 22:04:36,364 - pipeline.Step_2_extract_frames - INFO - Saved frame at 16.20s (scene_change=False, motion=2.42
2025-02-23 22:04:36,445 - pipeline.Step_2_extract_frames - INFO - Saved frame at 16.30s (scene_change=False, motion=2.80
2025-02-23 22:04:36,527 - pipeline.Step_2_extract_frames - INFO - Saved frame at 16.40s (scene_change=False, motion=3.02
2025-02-23 22:04:36,610 - pipeline.Step_2_extract_frames - INFO - Saved frame at 16.50s (scene_change=False, motion=3.00
2025-02-23 22:04:36,700 - pipeline.Step_2_extract_frames - INFO - Saved frame at 16.60s (scene_change=False, motion=2.77
2025-02-23 22:04:36,781 - pipeline.Step_2_extract_frames - INFO - Saved frame at 16.70s (scene_change=False, motion=2.67
2025-02-23 22:04:36,862 - pipeline.Step_2_extract_frames - INFO - Saved frame at 16.80s (scene_change=False, motion=2.49
2025-02-23 22:04:36,945 - pipeline.Step_2_extract_frames - INFO - Saved frame at 16.90s (scene_change=False, motion=2.08
2025-02-23 22:04:36,950 - pipeline.Step_2_extract_frames - INFO - Extracted 16 key frames
2025-02-23 22:04:36,950 - new_bot - INFO - Analyzing frames...
2025-02-23 22:04:36,952 - __main__ - INFO - Status update: ğŸ” Analyzing video content...

50% â–°â–°â–°â–°â–°â–±â–±â–±â–±â–±
2025-02-23 22:04:37,329 - pipeline.Step_3_analyze_frames - INFO - Selected 3 key frames for analysis
2025-02-23 22:04:45,113 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-23 22:04:50,105 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-23 22:04:58,453 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-23 22:04:58,467 - pipeline.Step_3_analyze_frames - INFO - Analysis complete. Results saved to output_0\final_analysis.json
2025-02-23 22:04:58,471 - new_bot - INFO - Generating commentary in ur...
2025-02-23 22:04:58,473 - __main__ - INFO - Status update: ğŸ’­ Generating commentary...

70% â–°â–°â–°â–°â–°â–°â–°â–±â–±â–±
2025-02-23 22:04:58,480 - pipeline.Step_4_generate_commentary - INFO - 
=== STARTING COMMENTARY GENERATION ===
2025-02-23 22:04:58,484 - pipeline.Step_4_generate_commentary - INFO - Content Type: funny
2025-02-23 22:04:58,485 - pipeline.Step_4_generate_commentary - INFO - Analysis File: output_0\final_analysis.json
2025-02-23 22:04:58,868 - pipeline.Step_4_generate_commentary - INFO - 
=== VIDEO TEXT FROM METADATA ===
2025-02-23 22:04:58,869 - pipeline.Step_4_generate_commentary - INFO - No text found in metadata
2025-02-23 22:04:58,870 - pipeline.Step_4_generate_commentary - INFO - 
=== SYSTEM PROMPT ===
2025-02-23 22:04:58,871 - pipeline.Step_4_generate_commentary - INFO - You are an entertaining commentator. Create humorous commentary that:
- Uses witty observations and jokes
- Maintains light and playful tone
- Includes appropriate humor
- Emphasizes amusing moments
- Keeps engagement through humor
2025-02-23 22:04:58,873 - pipeline.Step_4_generate_commentary - INFO - 
=== USER PROMPT ===
2025-02-23 22:04:58,873 - pipeline.Step_4_generate_commentary - INFO - Generate a VERY SHORT UR commentary (1-2 lines maximum) for this video in funny style.

VIDEO CONTENT:
Title: Nature is Amazing â˜˜ï¸ - The chicken has figured out how her feeder works Now closes it in time so the alpacas don't eat all the food.
Description: The chicken has figured out how her feeder works Now closes it in time so the alpacas don't eat all the food. https://t.co/GVBsJu9Lr9

VISUAL ANALYSIS:

Key visual elements (with confidence):
- Camelids (0.96)
- Alpaca (0.91)
- Llama (0.91)
- Terrestrial animal (0.89)
- Deer (0.82)
- Lawn (0.73)
- Livestock (0.71)

Detailed scene descriptions:
- 1. **Main Focus or Subject:**
   The frame showcases an encounter between a chicken and an alpaca, highlighting the chicken's clever behavior regarding its feeder. This aligns with the video's context of animal intelligence and interaction, particularly the chicken's ability to manage its food supply against the alpacas.

2. **Actions, Movements, or Interactions:**
   The chicken is situated near a feeder, presumably closing it or preparing to do so, illustrating its understanding of protecting its food. The alpaca stands nearby, likely representing the opportunistic presence mentioned in the video's description, potentially waiting to access the food if the feeder were left open.

3. **Significant Details:**
   - The chicken's proximity to the feeder underscores its role in managing the supply.
   - The alpaca's curious stance signifies its interest in the feeder's contents.
   - The setting, a grassy area, further contextualizes the natural setting of this interaction, reflecting the theme of "Nature is Amazing."

4. **Connection to Overall Story:**
   This moment connects to the narrative of animal intelligence, where the chicken demonstrates an evolved adaptation by closing the feeder to prevent the alpacas from depleting her food supply. It's an example of a behavioral adaptation that maintains resource control.

5. **Corrections to Misidentifications:**
   While the computer vision analysis detected camelids like alpacas, llamas, and even deer, it's clear from the frame that the animal is an alpaca.
- 1. **Main Focus/Subject:**
   The primary focus of the frame is the interaction between a chicken and an alpaca near a feeder. This ties directly to the video's context, which highlights a clever chicken managing a feeder to ensure the alpacas do not consume all the food.

2. **Actions/Movements/Interactions:**
   In the frame, the chicken is positioned near the feeder, appearing to interact with it. The alpaca is standing nearby, seemingly interested in the feeder, perhaps waiting for an opportunity to access the food. The chicken's positioning suggests it might be in the process of closing the feeder, as described in the video's narrative.

3. **Significant Details:**
   - The feeder is centrally located, emphasizing its importance in the interaction.
   - The presence of the alpaca waiting near the feeder aligns with the description that alpacas are trying to eat from it.

4. **Connection to the Overall Story:**
   This moment visually represents the story described in the video, showing the interaction dynamic between the chicken and alpaca over the feeder. It encapsulates the cleverness of the chicken in managing food access against the alpaca's presence, presenting a miniature tale of animal behavior and intelligence.

5. **Correcting Potential Misidentifications:**
   - Previous computer vision analysis detected camels and llamas, but based on the visual content and context, the animal is accurately identified as an alpaca. There are no signs of camels,


STRICT REQUIREMENTS:
1. MUST be 1-2 lines only - no exceptions
2. Focus on combining the video description with what is actually shown in the video
3. If there is text in the video, incorporate it naturally
4. Match the funny style while staying extremely brief
5. Make it engaging but concise
6. Format for ur
7. Ensure commentary reflects both visual content and video description
8. Correct any obvious errors in object detection (e.g., if a deer was labeled as a dog)
9. Use proper Urdu script and punctuation (Û”ØŒ ØŸ)
2025-02-23 22:04:58,897 - pipeline.Step_4_generate_commentary - INFO - 
=== GENERATING COMMENTARY ===
2025-02-23 22:05:01,175 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-23 22:05:01,233 - pipeline.Step_4_generate_commentary - INFO - 
=== RAW GENERATED COMMENTARY ===
2025-02-23 22:05:01,235 - pipeline.Step_4_generate_commentary - INFO - Ú†Ú©Ù† Ù†Û’ Ø§Ù¾Ù†ÛŒ Ø®ÙˆØ±Ø§Ú© Ú©ÛŒ Ø­ÙØ§Ø¸Øª Ú©Ø§ Ù†ÛŒØ§ Ø·Ø±ÛŒÙ‚Û Ø³ÛŒÚ©Ú¾ Ù„ÛŒØ§! Ø§Ø¨ ÙˆÛ ÙÛŒÚˆØ± Ø¨Ù†Ø¯ Ú©Ø± Ú©Û’ Ø§Ù„Ùˆ Ù¾ÛŒÚ©Ø§ Ú©ÛŒ "ÙØ±ÛŒ Ù„Ù†Ú†" Ú©ÛŒ Ø§Ù…ÛŒØ¯ÙˆÚº Ù¾Ø± Ù¾Ø§Ù†ÛŒ Ù¾Ú¾ÛŒØ± Ø±ÛÛŒ ÛÛ’Û” ğŸ”ğŸ¥³
2025-02-23 22:05:01,238 - pipeline.Step_4_generate_commentary - INFO - 
=== PROCESSED COMMENTARY ===
2025-02-23 22:05:01,241 - pipeline.Step_4_generate_commentary - INFO - Ú†Ú©Ù† Ù†Û’ Ø§Ù¾Ù†ÛŒ Ø®ÙˆØ±Ø§Ú© Ú©ÛŒ Ø­ÙØ§Ø¸Øª Ú©Ø§ Ù†ÛŒØ§ Ø·Ø±ÛŒÙ‚Û Ø³ÛŒÚ©Ú¾ Ù„ÛŒØ§! Ø§Ø¨ ÙˆÛ ÙÛŒÚˆØ± Ø¨Ù†Ø¯ Ú©Ø± Ú©Û’ Ø§Ù„Ùˆ Ù¾ÛŒÚ©Ø§ Ú©ÛŒ "ÙØ±ÛŒ Ù„Ù†Ú†" Ú©ÛŒ Ø§Ù…ÛŒØ¯ÙˆÚº Ù¾Ø± Ù¾Ø§Ù†ÛŒ Ù¾Ú¾ÛŒØ± Ø±ÛÛŒ ÛÛ’Û”<break time="1s"/> ğŸ”ğŸ¥³
2025-02-23 22:05:01,244 - pipeline.Step_4_generate_commentary - INFO - 
=== FINAL COMMENTARY OBJECT ===
2025-02-23 22:05:01,246 - pipeline.Step_4_generate_commentary - INFO - {
  "style": "funny",
  "commentary": "Ú†Ú©Ù† Ù†Û’ Ø§Ù¾Ù†ÛŒ Ø®ÙˆØ±Ø§Ú© Ú©ÛŒ Ø­ÙØ§Ø¸Øª Ú©Ø§ Ù†ÛŒØ§ Ø·Ø±ÛŒÙ‚Û Ø³ÛŒÚ©Ú¾ Ù„ÛŒØ§! Ø§Ø¨ ÙˆÛ ÙÛŒÚˆØ± Ø¨Ù†Ø¯ Ú©Ø± Ú©Û’ Ø§Ù„Ùˆ Ù¾ÛŒÚ©Ø§ Ú©ÛŒ \"ÙØ±ÛŒ Ù„Ù†Ú†\" Ú©ÛŒ Ø§Ù…ÛŒØ¯ÙˆÚº Ù¾Ø± Ù¾Ø§Ù†ÛŒ Ù¾Ú¾ÛŒØ± Ø±ÛÛŒ ÛÛ’Û”<break time=\"1s\"/> ğŸ”ğŸ¥³",
  "metadata": {
    "title": "Nature is Amazing â˜˜ï¸ - The chicken has figured out how her feeder works Now closes it in time so the alpacas don't eat all the food.",
    "duration": 33.43333333333333,
    "description": "The chicken has figured out how her feeder works Now closes it in time so the alpacas don't eat all the food. https://t.co/GVBsJu9Lr9",
    "uploader": "Nature is Amazing â˜˜ï¸",
    "view_count": null,
    "like_count": 141271,
    "upload_date": "20250203",
    "scene_changes": [],
    "motion_scores": [
      [
        "output_0\\frames\\frame_0.30s.jpg",
        2.4328114986419678
      ],
      [
        "output_0\\frames\\frame_0.40s.jpg",
        2.40671443939209
      ],
      [
        "output_0\\frames\\frame_0.50s.jpg",
        2.242037296295166
      ],
      [
        "output_0\\frames\\frame_0.60s.jpg",
        2.093170404434204
      ],
      [
        "output_0\\frames\\frame_2.70s.jpg",
        2.2306339740753174
      ],
      [
        "output_0\\frames\\frame_2.80s.jpg",
        2.085573196411133
      ],
      [
        "output_0\\frames\\frame_2.90s.jpg",
        2.167114019393921
      ],
      [
        "output_0\\frames\\frame_16.10s.jpg",
        2.091686248779297
      ],
      [
        "output_0\\frames\\frame_16.20s.jpg",
        2.42148494720459
      ],
      [
        "output_0\\frames\\frame_16.30s.jpg",
        2.7960448265075684
      ],
      [
        "output_0\\frames\\frame_16.40s.jpg",
        3.0180258750915527
      ],
      [
        "output_0\\frames\\frame_16.50s.jpg",
        3.00411319732666
      ],
      [
        "output_0\\frames\\frame_16.60s.jpg",
        2.7661421298980713
      ],
      [
        "output_0\\frames\\frame_16.70s.jpg",
        2.6690316200256348
      ],
      [
        "output_0\\frames\\frame_16.80s.jpg",
        2.4878687858581543
      ],
      [
        "output_0\\frames\\frame_16.90s.jpg",
        2.0821049213409424
      ]
    ],
    "language": "ur"
  },
  "language": "ur"
}
2025-02-23 22:05:01,271 - pipeline.Step_4_generate_commentary - INFO - 
=== PROCESSING FOR AUDIO ===
2025-02-23 22:05:01,272 - pipeline.Step_4_generate_commentary - INFO - Language: ur
2025-02-23 22:05:01,273 - pipeline.Step_4_generate_commentary - INFO - 
=== FINAL AUDIO SCRIPT ===
2025-02-23 22:05:01,274 - pipeline.Step_4_generate_commentary - INFO - Ú†Ú©Ù† Ù†Û’ Ø§Ù¾Ù†ÛŒ Ø®ÙˆØ±Ø§Ú© Ú©ÛŒ Ø­ÙØ§Ø¸Øª Ú©Ø§ Ù†ÛŒØ§ Ø·Ø±ÛŒÙ‚Û Ø³ÛŒÚ©Ú¾ Ù„ÛŒØ§! Ø§Ø¨ ÙˆÛ ÙÛŒÚˆØ± Ø¨Ù†Ø¯ Ú©Ø± Ú©Û’ Ø§Ù„Ùˆ Ù¾ÛŒÚ©Ø§ Ú©ÛŒ ÙØ±ÛŒ Ù„Ù†Ú† Ú©ÛŒ Ø§Ù…ÛŒØ¯ÙˆÚº Ù¾Ø± Ù¾Ø§Ù†ÛŒ Ù¾Ú¾ÛŒØ± Ø±ÛÛŒ ÛÛ’Û”<break time="1s"/>
2025-02-23 22:05:01,276 - new_bot - INFO - Generating audio in ur...
2025-02-23 22:05:01,276 - __main__ - INFO - Status update: ğŸ™ï¸ Synthesizing voice...

80% â–°â–°â–°â–°â–°â–°â–°â–°â–±â–±
2025-02-23 22:05:01,294 - pipeline.Step_5_generate_audio - INFO - Generating audio for text: Ú†Ú©Ù† Ù†Û’ Ø§Ù¾Ù†ÛŒ Ø®ÙˆØ±Ø§Ú© Ú©ÛŒ Ø­ÙØ§Ø¸Øª Ú©Ø§ Ù†ÛŒØ§ Ø·Ø±ÛŒÙ‚Û Ø³ÛŒÚ©Ú¾ Ù„ÛŒØ§! Ø§Ø¨ ÙˆÛ ÙÛŒÚˆØ± Ø¨Ù†Ø¯ Ú©Ø± Ú©Û’ Ø§Ù„Ùˆ Ù¾ÛŒÚ©Ø§ Ú©ÛŒ "ÙØ±ÛŒ Ù„Ù†Ú†" Ú©ÛŒ Ø§Ù…ÛŒØ¯...
2025-02-23 22:05:02,396 - pipeline.Step_5_generate_audio - INFO - Successfully generated audio file: output_0\commentary_funny.wav
2025-02-23 22:05:02,399 - new_bot - INFO - Generating final video...
2025-02-23 22:05:02,400 - __main__ - INFO - Status update: ğŸ¥ Creating final video...

85% â–°â–°â–°â–°â–°â–°â–°â–°â–°â–±
2025-02-23 22:05:02,408 - pipeline.Step_6_video_generation - INFO - Ensured output directory exists: output_0
2025-02-23 22:05:02,410 - pipeline.Step_6_video_generation - INFO - Input video file: temp_0\video\video_20250223_220417.mp4 (exists: True)
2025-02-23 22:05:02,412 - pipeline.Step_6_video_generation - INFO - Input audio file: output_0\commentary_funny.wav (exists: True)
2025-02-23 22:05:02,457 - pipeline.Step_6_video_generation - INFO - FFmpeg verified successfully
2025-02-23 22:05:02,458 - pipeline.Step_6_video_generation - INFO - Ensured video directory exists: C:\Users\mrema\Downloads\Video-Commentary-Bot-0.1\temp_0\video
2025-02-23 22:05:02,459 - pipeline.Step_6_video_generation - INFO - Ensured output directory exists: C:\Users\mrema\Downloads\Video-Commentary-Bot-0.1\output_0
2025-02-23 22:05:02,460 - pipeline.Step_6_video_generation - INFO - Video file exists: True (C:\Users\mrema\Downloads\Video-Commentary-Bot-0.1\temp_0\video\video_20250223_220417.mp4)
2025-02-23 22:05:02,460 - pipeline.Step_6_video_generation - INFO - Audio file exists: True (C:\Users\mrema\Downloads\Video-Commentary-Bot-0.1\output_0\commentary_funny.wav)
2025-02-23 22:05:02,461 - pipeline.Step_6_video_generation - INFO - Video file size: 1131657 bytes
2025-02-23 22:05:02,462 - pipeline.Step_6_video_generation - INFO - Audio file size: 453266 bytes
2025-02-23 22:05:02,462 - pipeline.Step_6_video_generation - INFO - Video absolute path: C:\Users\mrema\Downloads\Video-Commentary-Bot-0.1\temp_0\video\video_20250223_220417.mp4
2025-02-23 22:05:02,463 - pipeline.Step_6_video_generation - INFO - Audio absolute path: C:\Users\mrema\Downloads\Video-Commentary-Bot-0.1\output_0\commentary_funny.wav
2025-02-23 22:05:02,465 - pipeline.Step_6_video_generation - INFO - Current working directory: C:\Users\mrema\Downloads\Video-Commentary-Bot-0.1
2025-02-23 22:05:02,465 - pipeline.Step_6_video_generation - INFO - FFmpeg command: ffmpeg -y -i C:\Users\mrema\Downloads\Video-Commentary-Bot-0.1\temp_0\video\video_20250223_220417.mp4 -i C:\Users\mrema\Downloads\Video-Commentary-Bot-0.1\output_0\commentary_funny.wav -vf pad=636:1130:0:385:color=white -c:v libx264 -preset ultrafast -crf 28 -c:a aac -b:a 128k -map 0:v -map 1:a -max_muxing_queue_size 1024 C:\Users\mrema\Downloads\Video-Commentary-Bot-0.1\output_0\final_video_funny.mp4
2025-02-23 22:05:03,769 - pipeline.Step_6_video_generation - INFO - Video generated successfully: C:\Users\mrema\Downloads\Video-Commentary-Bot-0.1\output_0\final_video_funny.mp4
2025-02-23 22:05:03,770 - __main__ - INFO - Status update: ğŸ“¤ Uploading enhanced video...

90% â–°â–°â–°â–°â–°â–°â–°â–°â–±â–±
2025-02-23 22:05:03,770 - __main__ - INFO - Handling video reply
2025-02-23 22:05:03,851 - __main__ - INFO - Status update: âœ… Processing complete!

100% â–°â–°â–°â–°â–°â–°â–°â–°â–°â–°
2025-02-23 22:05:03,976 - __main__ - INFO - Cleanup completed successfully
2025-02-23 22:07:14,492 - __main__ - INFO - Checking environment variables...
2025-02-23 22:07:14,493 - __main__ - INFO - âœ“ Found OPENAI_API_KEY in environment
2025-02-23 22:07:14,494 - __main__ - INFO - âœ“ Found DEEPSEEK_API_KEY in environment
2025-02-23 22:07:14,495 - __main__ - INFO - âœ“ Found GOOGLE_APPLICATION_CREDENTIALS_JSON in environment
2025-02-23 22:07:14,496 - __main__ - INFO - Attempting to parse Google credentials...
2025-02-23 22:07:14,498 - __main__ - WARNING - Direct JSON parsing failed: Invalid control character at: line 1 column 175 (char 174)
2025-02-23 22:07:14,500 - __main__ - INFO - âœ“ Google credentials configured successfully
2025-02-23 22:07:14,500 - __main__ - INFO - âœ“ Configuration loaded successfully
2025-02-23 22:07:14,503 - new_bot - INFO - Checking environment variables...
2025-02-23 22:07:14,504 - new_bot - INFO - âœ“ Found OPENAI_API_KEY in environment
2025-02-23 22:07:14,504 - new_bot - INFO - âœ“ Found DEEPSEEK_API_KEY in environment
2025-02-23 22:07:14,506 - new_bot - INFO - âœ“ Found GOOGLE_APPLICATION_CREDENTIALS_JSON in environment
2025-02-23 22:07:14,507 - new_bot - INFO - Attempting to parse Google credentials...
2025-02-23 22:07:14,507 - new_bot - WARNING - Direct JSON parsing failed: Invalid control character at: line 1 column 175 (char 174)
2025-02-23 22:07:14,509 - new_bot - INFO - âœ“ Google credentials configured successfully
2025-02-23 22:07:38,158 - __main__ - INFO - Checking environment variables...
2025-02-23 22:07:38,158 - __main__ - INFO - âœ“ Found OPENAI_API_KEY in environment
2025-02-23 22:07:38,160 - __main__ - INFO - âœ“ Found DEEPSEEK_API_KEY in environment
2025-02-23 22:07:38,160 - __main__ - INFO - âœ“ Found GOOGLE_APPLICATION_CREDENTIALS_JSON in environment
2025-02-23 22:07:38,161 - __main__ - INFO - Attempting to parse Google credentials...
2025-02-23 22:07:38,162 - __main__ - WARNING - Direct JSON parsing failed: Invalid control character at: line 1 column 175 (char 174)
2025-02-23 22:07:38,164 - __main__ - INFO - âœ“ Google credentials configured successfully
2025-02-23 22:07:38,165 - __main__ - INFO - âœ“ Configuration loaded successfully
2025-02-23 22:07:38,170 - new_bot - INFO - Checking environment variables...
2025-02-23 22:07:38,171 - new_bot - INFO - âœ“ Found OPENAI_API_KEY in environment
2025-02-23 22:07:38,172 - new_bot - INFO - âœ“ Found DEEPSEEK_API_KEY in environment
2025-02-23 22:07:38,173 - new_bot - INFO - âœ“ Found GOOGLE_APPLICATION_CREDENTIALS_JSON in environment
2025-02-23 22:07:38,173 - new_bot - INFO - Attempting to parse Google credentials...
2025-02-23 22:07:38,174 - new_bot - WARNING - Direct JSON parsing failed: Invalid control character at: line 1 column 175 (char 174)
2025-02-23 22:07:38,176 - new_bot - INFO - âœ“ Google credentials configured successfully
2025-02-23 22:08:44,158 - __main__ - INFO - Checking environment variables...
2025-02-23 22:08:44,159 - __main__ - WARNING - âœ— Missing OPENAI_API_KEY in environment
2025-02-23 22:08:44,161 - __main__ - WARNING - âœ— Missing DEEPSEEK_API_KEY in environment
2025-02-23 22:08:44,162 - __main__ - WARNING - âœ— Missing GOOGLE_APPLICATION_CREDENTIALS_JSON in environment
2025-02-23 22:08:44,162 - __main__ - INFO - Some variables missing, checking railway.json...
2025-02-23 22:08:44,164 - __main__ - INFO - Found railway.json, loading configuration...
2025-02-23 22:08:44,165 - __main__ - INFO - Loaded OPENAI_API_KEY from railway.json
2025-02-23 22:08:44,166 - __main__ - INFO - Loaded DEEPSEEK_API_KEY from railway.json
2025-02-23 22:08:44,167 - __main__ - INFO - Loaded GOOGLE_APPLICATION_CREDENTIALS_JSON from railway.json
2025-02-23 22:08:44,168 - __main__ - INFO - Attempting to parse Google credentials...
2025-02-23 22:08:44,169 - __main__ - WARNING - Direct JSON parsing failed: Invalid control character at: line 1 column 175 (char 174)
2025-02-23 22:08:44,174 - __main__ - INFO - âœ“ Google credentials configured successfully
2025-02-23 22:08:44,175 - __main__ - INFO - âœ“ Configuration loaded successfully
2025-02-23 22:08:46,462 - new_bot - INFO - Checking environment variables...
2025-02-23 22:08:46,463 - new_bot - INFO - âœ“ Found OPENAI_API_KEY in environment
2025-02-23 22:08:46,463 - new_bot - INFO - âœ“ Found DEEPSEEK_API_KEY in environment
2025-02-23 22:08:46,464 - new_bot - INFO - âœ“ Found GOOGLE_APPLICATION_CREDENTIALS_JSON in environment
2025-02-23 22:08:46,464 - new_bot - INFO - Attempting to parse Google credentials...
2025-02-23 22:08:46,465 - new_bot - WARNING - Direct JSON parsing failed: Invalid control character at: line 1 column 175 (char 174)
2025-02-23 22:08:46,466 - new_bot - INFO - âœ“ Google credentials configured successfully
2025-02-23 22:09:31,206 - __main__ - INFO - Checking environment variables...
2025-02-23 22:09:31,209 - __main__ - INFO - âœ“ Found OPENAI_API_KEY in environment
2025-02-23 22:09:31,210 - __main__ - INFO - âœ“ Found DEEPSEEK_API_KEY in environment
2025-02-23 22:09:31,211 - __main__ - INFO - âœ“ Found GOOGLE_APPLICATION_CREDENTIALS_JSON in environment
2025-02-23 22:09:31,213 - __main__ - INFO - Attempting to parse Google credentials...
2025-02-23 22:09:31,213 - __main__ - WARNING - Direct JSON parsing failed: Invalid control character at: line 1 column 175 (char 174)
2025-02-23 22:09:31,217 - __main__ - INFO - âœ“ Google credentials configured successfully
2025-02-23 22:09:31,218 - __main__ - INFO - âœ“ Configuration loaded successfully
2025-02-23 22:09:31,468 - __main__ - INFO - Checking environment variables...
2025-02-23 22:09:31,470 - __main__ - INFO - âœ“ Found OPENAI_API_KEY in environment
2025-02-23 22:09:31,472 - __main__ - INFO - âœ“ Found DEEPSEEK_API_KEY in environment
2025-02-23 22:09:31,474 - __main__ - INFO - âœ“ Found GOOGLE_APPLICATION_CREDENTIALS_JSON in environment
2025-02-23 22:09:31,477 - __main__ - INFO - Attempting to parse Google credentials...
2025-02-23 22:09:31,480 - __main__ - WARNING - Direct JSON parsing failed: Invalid control character at: line 1 column 175 (char 174)
2025-02-23 22:09:31,487 - __main__ - INFO - âœ“ Google credentials configured successfully
2025-02-23 22:09:31,489 - __main__ - INFO - âœ“ Configuration loaded successfully
2025-02-23 22:09:31,529 - __main__ - INFO - Initializing StreamlitUpdate
2025-02-23 22:09:31,533 - __main__ - INFO - Initializing StreamlitContext
2025-02-23 22:09:31,535 - __main__ - INFO - Processing video URL: https://x.com/AMAZlNGNATURE/status/1893762820786868245
2025-02-23 22:09:31,537 - __main__ - INFO - Status update: ğŸ¬ Starting video processing...

0% â–±â–±â–±â–±â–±â–±â–±â–±â–±â–±
2025-02-23 22:09:31,541 - __main__ - INFO - Status update: ğŸ“¥ Downloading video...

10% â–°â–±â–±â–±â–±â–±â–±â–±â–±â–±
2025-02-23 22:09:31,543 - new_bot - INFO - Downloading video from: https://x.com/AMAZlNGNATURE/status/1893762820786868245
2025-02-23 22:09:31,544 - pipeline.Step_1_download_video - INFO - Downloading video from: https://twitter.com/AMAZlNGNATURE/status/1893762820786868245
2025-02-23 22:09:44,996 - pipeline.Step_1_download_video - INFO - Download completed
2025-02-23 22:09:44,997 - pipeline.Step_1_download_video - INFO - Downloaded file: temp_0\video\video_20250223_220935.mp4
2025-02-23 22:09:45,030 - new_bot - INFO - Starting video processing...
2025-02-23 22:09:45,031 - new_bot - INFO - Extracting frames...
2025-02-23 22:09:45,031 - __main__ - INFO - Status update: ğŸï¸ Extracting frames...

30% â–°â–°â–°â–±â–±â–±â–±â–±â–±â–±
2025-02-23 22:09:45,135 - pipeline.Step_2_extract_frames - INFO - Analyzing video for key frames...
2025-02-23 22:09:45,204 - pipeline.Step_2_extract_frames - INFO - Progress: 0.0%
2025-02-23 22:09:46,334 - pipeline.Step_2_extract_frames - INFO - Saved frame at 0.10s (scene_change=False, motion=3.44
2025-02-23 22:09:46,885 - pipeline.Step_2_extract_frames - INFO - Saved frame at 0.20s (scene_change=False, motion=4.68
2025-02-23 22:09:47,452 - pipeline.Step_2_extract_frames - INFO - Saved frame at 0.30s (scene_change=False, motion=4.78
2025-02-23 22:09:48,029 - pipeline.Step_2_extract_frames - INFO - Saved frame at 0.40s (scene_change=False, motion=3.19
2025-02-23 22:09:48,597 - pipeline.Step_2_extract_frames - INFO - Saved frame at 0.50s (scene_change=False, motion=3.20
2025-02-23 22:09:49,154 - pipeline.Step_2_extract_frames - INFO - Saved frame at 0.60s (scene_change=False, motion=2.69
2025-02-23 22:09:49,706 - pipeline.Step_2_extract_frames - INFO - Saved frame at 0.70s (scene_change=False, motion=2.38
2025-02-23 22:09:50,252 - pipeline.Step_2_extract_frames - INFO - Saved frame at 0.80s (scene_change=False, motion=4.47
2025-02-23 22:09:50,818 - pipeline.Step_2_extract_frames - INFO - Saved frame at 0.90s (scene_change=False, motion=4.89
2025-02-23 22:09:52,369 - pipeline.Step_2_extract_frames - INFO - Saved frame at 1.10s (scene_change=False, motion=2.55
2025-02-23 22:09:52,922 - pipeline.Step_2_extract_frames - INFO - Saved frame at 1.20s (scene_change=False, motion=3.24
2025-02-23 22:09:53,486 - pipeline.Step_2_extract_frames - INFO - Saved frame at 1.30s (scene_change=False, motion=3.81
2025-02-23 22:09:54,027 - pipeline.Step_2_extract_frames - INFO - Saved frame at 1.40s (scene_change=False, motion=3.82
2025-02-23 22:09:54,580 - pipeline.Step_2_extract_frames - INFO - Saved frame at 1.50s (scene_change=False, motion=4.66
2025-02-23 22:09:55,140 - pipeline.Step_2_extract_frames - INFO - Saved frame at 1.60s (scene_change=False, motion=7.28
2025-02-23 22:09:55,698 - pipeline.Step_2_extract_frames - INFO - Saved frame at 1.70s (scene_change=False, motion=6.09
2025-02-23 22:09:56,246 - pipeline.Step_2_extract_frames - INFO - Saved frame at 1.80s (scene_change=False, motion=4.80
2025-02-23 22:09:56,801 - pipeline.Step_2_extract_frames - INFO - Saved frame at 1.90s (scene_change=False, motion=4.97
2025-02-23 22:09:56,814 - pipeline.Step_2_extract_frames - INFO - Extracted 18 key frames
2025-02-23 22:09:56,816 - new_bot - INFO - Analyzing frames...
2025-02-23 22:09:56,817 - __main__ - INFO - Status update: ğŸ” Analyzing video content...

50% â–°â–°â–°â–°â–°â–±â–±â–±â–±â–±
2025-02-23 22:09:57,583 - pipeline.Step_3_analyze_frames - INFO - Selected 1 key frames for analysis
2025-02-23 22:10:10,602 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-23 22:10:10,619 - pipeline.Step_3_analyze_frames - INFO - Analysis complete. Results saved to output_0\final_analysis.json
2025-02-23 22:10:10,623 - new_bot - INFO - Generating commentary in ur...
2025-02-23 22:10:10,625 - __main__ - INFO - Status update: ğŸ’­ Generating commentary...

70% â–°â–°â–°â–°â–°â–°â–°â–±â–±â–±
2025-02-23 22:10:10,629 - pipeline.Step_4_generate_commentary - INFO - 
=== STARTING COMMENTARY GENERATION ===
2025-02-23 22:10:10,631 - pipeline.Step_4_generate_commentary - INFO - Content Type: funny
2025-02-23 22:10:10,632 - pipeline.Step_4_generate_commentary - INFO - Analysis File: output_0\final_analysis.json
2025-02-23 22:10:11,396 - pipeline.Step_4_generate_commentary - INFO - 
=== VIDEO TEXT FROM METADATA ===
2025-02-23 22:10:11,397 - pipeline.Step_4_generate_commentary - INFO - No text found in metadata
2025-02-23 22:10:11,398 - pipeline.Step_4_generate_commentary - INFO - 
=== SYSTEM PROMPT ===
2025-02-23 22:10:11,399 - pipeline.Step_4_generate_commentary - INFO - You are an entertaining commentator. Create humorous commentary that:
- Uses witty observations and jokes
- Maintains light and playful tone
- Includes appropriate humor
- Emphasizes amusing moments
- Keeps engagement through humor
2025-02-23 22:10:11,400 - pipeline.Step_4_generate_commentary - INFO - 
=== USER PROMPT ===
2025-02-23 22:10:11,401 - pipeline.Step_4_generate_commentary - INFO - Generate a VERY SHORT UR commentary (1-2 lines maximum) for this video in funny style.

VIDEO CONTENT:
Title: Nature is Amazing â˜˜ï¸ - Today I discovered there is a bird known as Standard-Winged Nightjar. The male hasÂ wing ornaments called "standards" that grow out of the middle of its wings during mating season.
Description: Today I discovered there is a bird known as Standard-Winged Nightjar. The male hasÂ wing ornaments called "standards" that grow out of the middle of its wings during mating season. https://t.co/2sdZ6BA9Ih

VISUAL ANALYSIS:

Key visual elements (with confidence):
- Sea (0.93)
- Horizon (0.92)
- Waterway (0.92)
- Deck (0.92)
- Ocean (0.89)
- Handrail (0.80)
- Naval architecture (0.79)
- Watercraft (0.77)

Detailed scene descriptions:
- 1. **Main Focus or Subject:**
   - The frame focuses on the Standard-Winged Nightjar perched on the railing of a ship. The notable feature is the bird's wing ornaments, known as "standards," which are unique to the males during mating season.

2. **Actions, Movements, or Interactions:**
   - The bird appears to be at rest, showing its distinctive wing ornaments. There doesnâ€™t seem to be any significant movement or interaction, highlighting its calm presence amidst the open sea.

3. **Significant Details:**
   - The image captures the bird in a maritime setting, suggesting a blend of natural and man-made environments. The birdâ€™s "standards" are clearly visible, which aligns with the video's context of showcasing this unique characteristic during the mating season.

4. **Connection to Overall Story:**
   - This frame exemplifies the video's narrative by displaying the Standard-Winged Nightjar and its remarkable "standards" against the vast backdrop of the ocean. It connects to the story of discovering and appreciating unique natural phenomena.

5. **Misidentifications by Computer Vision:**
   - The computer vision had a high confidence in terms related to water and naval architecture (e.g., sea, horizon, deck). These labels are correct as the scene is set on a ship on a water body. However, the term "bridgeâ€“tunnel" seems out of place here and may have been erroneously identified.

6. **Dist


STRICT REQUIREMENTS:
1. MUST be 1-2 lines only - no exceptions
2. Focus on combining the video description with what is actually shown in the video
3. If there is text in the video, incorporate it naturally
4. Match the funny style while staying extremely brief
5. Make it engaging but concise
6. Format for ur
7. Ensure commentary reflects both visual content and video description
8. Correct any obvious errors in object detection (e.g., if a deer was labeled as a dog)
9. Use proper Urdu script and punctuation (Û”ØŒ ØŸ)
2025-02-23 22:10:11,413 - pipeline.Step_4_generate_commentary - INFO - 
=== GENERATING COMMENTARY ===
2025-02-23 22:10:12,580 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-23 22:10:12,590 - pipeline.Step_4_generate_commentary - INFO - 
=== RAW GENERATED COMMENTARY ===
2025-02-23 22:10:12,592 - pipeline.Step_4_generate_commentary - INFO - "Ø¬Ø¨ Ø¢Ù¾ Ú©ÛŒ Ù…Ø­Ø¨Øª Ú©ÛŒ Ø¹Ù„Ø§Ù…ØªÛŒÚº Ø§ÛŒØ³Ø§ Ù„Ú¯ØªØ§ ÛÛ’ Ø¬ÛŒØ³Û’ Ø¢Ù¾ Ú©Ø§ Ù¾Ù†Ú¯Ø§ ÛÙˆØŒ ØªÙˆ Ø¢Ù¾ Ø¬Ø§Ù†ØªÛ’ ÛÛŒÚº Ú©Û ÛŒÛ Ù…ÙØ±Ø¯ÙˆÚº Ú©Ø§ Ù…ÙÙˆØ³Ù… ÛÛ’! ğŸ¦âœ¨"
2025-02-23 22:10:12,596 - pipeline.Step_4_generate_commentary - INFO - 
=== PROCESSED COMMENTARY ===
2025-02-23 22:10:12,598 - pipeline.Step_4_generate_commentary - INFO - "Ø¬Ø¨ Ø¢Ù¾ Ú©ÛŒ Ù…Ø­Ø¨Øª Ú©ÛŒ Ø¹Ù„Ø§Ù…ØªÛŒÚº Ø§ÛŒØ³Ø§ Ù„Ú¯ØªØ§ ÛÛ’ Ø¬ÛŒØ³Û’ Ø¢Ù¾ Ú©Ø§ Ù¾Ù†Ú¯Ø§ ÛÙˆØŒ<break time="0.5s"/> ØªÙˆ Ø¢Ù¾ Ø¬Ø§Ù†ØªÛ’ ÛÛŒÚº Ú©Û ÛŒÛ Ù…ÙØ±Ø¯ÙˆÚº Ú©Ø§ Ù…ÙÙˆØ³Ù… ÛÛ’! ğŸ¦âœ¨"
2025-02-23 22:10:12,601 - pipeline.Step_4_generate_commentary - INFO - 
=== FINAL COMMENTARY OBJECT ===
2025-02-23 22:10:12,604 - pipeline.Step_4_generate_commentary - INFO - {
  "style": "funny",
  "commentary": "\"Ø¬Ø¨ Ø¢Ù¾ Ú©ÛŒ Ù…Ø­Ø¨Øª Ú©ÛŒ Ø¹Ù„Ø§Ù…ØªÛŒÚº Ø§ÛŒØ³Ø§ Ù„Ú¯ØªØ§ ÛÛ’ Ø¬ÛŒØ³Û’ Ø¢Ù¾ Ú©Ø§ Ù¾Ù†Ú¯Ø§ ÛÙˆØŒ<break time=\"0.5s\"/> ØªÙˆ Ø¢Ù¾ Ø¬Ø§Ù†ØªÛ’ ÛÛŒÚº Ú©Û ÛŒÛ Ù…ÙØ±Ø¯ÙˆÚº Ú©Ø§ Ù…ÙÙˆØ³Ù… ÛÛ’! ğŸ¦âœ¨\"",
  "metadata": {
    "title": "Nature is Amazing â˜˜ï¸ - Today I discovered there is a bird known as Standard-Winged Nightjar. The male hasÂ wing ornaments called \"standards\" that grow out of the middle of its wings during mating season.",
    "duration": 12.266666666666667,
    "description": "Today I discovered there is a bird known as Standard-Winged Nightjar. The male hasÂ wing ornaments called \"standards\" that grow out of the middle of its wings during mating season. https://t.co/2sdZ6BA9Ih",
    "uploader": "Nature is Amazing â˜˜ï¸",
    "view_count": null,
    "like_count": 2779,
    "upload_date": "20250223",
    "scene_changes": [],
    "motion_scores": [
      [
        "output_0\\frames\\frame_0.10s.jpg",
        3.4405486583709717
      ],
      [
        "output_0\\frames\\frame_0.20s.jpg",
        4.677728176116943
      ],
      [
        "output_0\\frames\\frame_0.30s.jpg",
        4.781957626342773
      ],
      [
        "output_0\\frames\\frame_0.40s.jpg",
        3.1893484592437744
      ],
      [
        "output_0\\frames\\frame_0.50s.jpg",
        3.204416275024414
      ],
      [
        "output_0\\frames\\frame_0.60s.jpg",
        2.691624641418457
      ],
      [
        "output_0\\frames\\frame_0.70s.jpg",
        2.375185489654541
      ],
      [
        "output_0\\frames\\frame_0.80s.jpg",
        4.473906993865967
      ],
      [
        "output_0\\frames\\frame_0.90s.jpg",
        4.887641429901123
      ],
      [
        "output_0\\frames\\frame_1.10s.jpg",
        2.5479652881622314
      ],
      [
        "output_0\\frames\\frame_1.20s.jpg",
        3.2369003295898438
      ],
      [
        "output_0\\frames\\frame_1.30s.jpg",
        3.813791513442993
      ],
      [
        "output_0\\frames\\frame_1.40s.jpg",
        3.823683977127075
      ],
      [
        "output_0\\frames\\frame_1.50s.jpg",
        4.660773277282715
      ],
      [
        "output_0\\frames\\frame_1.60s.jpg",
        7.277024745941162
      ],
      [
        "output_0\\frames\\frame_1.70s.jpg",
        6.092142581939697
      ],
      [
        "output_0\\frames\\frame_1.80s.jpg",
        4.797623634338379
      ],
      [
        "output_0\\frames\\frame_1.90s.jpg",
        4.973909854888916
      ]
    ],
    "language": "ur"
  },
  "language": "ur"
}
2025-02-23 22:10:12,637 - pipeline.Step_4_generate_commentary - INFO - 
=== PROCESSING FOR AUDIO ===
2025-02-23 22:10:12,638 - pipeline.Step_4_generate_commentary - INFO - Language: ur
2025-02-23 22:10:12,640 - pipeline.Step_4_generate_commentary - INFO - 
=== FINAL AUDIO SCRIPT ===
2025-02-23 22:10:12,641 - pipeline.Step_4_generate_commentary - INFO - Ø¬Ø¨ Ø¢Ù¾ Ú©ÛŒ Ù…Ø­Ø¨Øª Ú©ÛŒ Ø¹Ù„Ø§Ù…ØªÛŒÚº Ø§ÛŒØ³Ø§ Ù„Ú¯ØªØ§ ÛÛ’ Ø¬ÛŒØ³Û’ Ø¢Ù¾ Ú©Ø§ Ù¾Ù†Ú¯Ø§ ÛÙˆØŒ<break time="0.5s"/> ØªÙˆ Ø¢Ù¾ Ø¬Ø§Ù†ØªÛ’ ÛÛŒÚº Ú©Û ÛŒÛ Ù…ÙØ±Ø¯ÙˆÚº Ú©Ø§ Ù…ÙÙˆØ³Ù… ÛÛ’!
2025-02-23 22:10:12,644 - new_bot - INFO - Generating audio in ur...
2025-02-23 22:10:12,644 - __main__ - INFO - Status update: ğŸ™ï¸ Synthesizing voice...

80% â–°â–°â–°â–°â–°â–°â–°â–°â–±â–±
2025-02-23 22:10:12,674 - pipeline.Step_5_generate_audio - INFO - Generating audio for text: "Ø¬Ø¨ Ø¢Ù¾ Ú©ÛŒ Ù…Ø­Ø¨Øª Ú©ÛŒ Ø¹Ù„Ø§Ù…ØªÛŒÚº Ø§ÛŒØ³Ø§ Ù„Ú¯ØªØ§ ÛÛ’ Ø¬ÛŒØ³Û’ Ø¢Ù¾ Ú©Ø§ Ù¾Ù†Ú¯Ø§ ÛÙˆØŒ<break time="0.5s"/> ØªÙˆ Ø¢Ù¾ Ø¬Ø§Ù†ØªÛ’ ÛÛŒÚº Ú©Û ÛŒÛ...
2025-02-23 22:10:13,453 - pipeline.Step_5_generate_audio - INFO - Successfully generated audio file: output_0\commentary_funny.wav
2025-02-23 22:10:13,455 - new_bot - INFO - Generating final video...
2025-02-23 22:10:13,456 - __main__ - INFO - Status update: ğŸ¥ Creating final video...

85% â–°â–°â–°â–°â–°â–°â–°â–°â–°â–±
2025-02-23 22:10:13,460 - pipeline.Step_6_video_generation - INFO - Ensured output directory exists: output_0
2025-02-23 22:10:13,461 - pipeline.Step_6_video_generation - INFO - Input video file: temp_0\video\video_20250223_220935.mp4 (exists: True)
2025-02-23 22:10:13,463 - pipeline.Step_6_video_generation - INFO - Input audio file: output_0\commentary_funny.wav (exists: True)
2025-02-23 22:10:13,518 - pipeline.Step_6_video_generation - INFO - FFmpeg verified successfully
2025-02-23 22:10:13,519 - pipeline.Step_6_video_generation - INFO - Ensured video directory exists: C:\Users\mrema\Downloads\Video-Commentary-Bot-0.1\temp_0\video
2025-02-23 22:10:13,521 - pipeline.Step_6_video_generation - INFO - Ensured output directory exists: C:\Users\mrema\Downloads\Video-Commentary-Bot-0.1\output_0
2025-02-23 22:10:13,522 - pipeline.Step_6_video_generation - INFO - Video file exists: True (C:\Users\mrema\Downloads\Video-Commentary-Bot-0.1\temp_0\video\video_20250223_220935.mp4)
2025-02-23 22:10:13,523 - pipeline.Step_6_video_generation - INFO - Audio file exists: True (C:\Users\mrema\Downloads\Video-Commentary-Bot-0.1\output_0\commentary_funny.wav)
2025-02-23 22:10:13,524 - pipeline.Step_6_video_generation - INFO - Video file size: 3182566 bytes
2025-02-23 22:10:13,525 - pipeline.Step_6_video_generation - INFO - Audio file size: 342354 bytes
2025-02-23 22:10:13,526 - pipeline.Step_6_video_generation - INFO - Video absolute path: C:\Users\mrema\Downloads\Video-Commentary-Bot-0.1\temp_0\video\video_20250223_220935.mp4
2025-02-23 22:10:13,526 - pipeline.Step_6_video_generation - INFO - Audio absolute path: C:\Users\mrema\Downloads\Video-Commentary-Bot-0.1\output_0\commentary_funny.wav
2025-02-23 22:10:13,605 - pipeline.Step_6_video_generation - INFO - Commentary duration: 7.131458 seconds
2025-02-23 22:10:13,606 - pipeline.Step_6_video_generation - INFO - Current working directory: C:\Users\mrema\Downloads\Video-Commentary-Bot-0.1
2025-02-23 22:10:13,607 - pipeline.Step_6_video_generation - INFO - FFmpeg command: ffmpeg -y -i C:\Users\mrema\Downloads\Video-Commentary-Bot-0.1\temp_0\video\video_20250223_220935.mp4 -i C:\Users\mrema\Downloads\Video-Commentary-Bot-0.1\output_0\commentary_funny.wav -filter_complex [0:a]volume=1[original];[1:a]volume=0.7[commentary];[original]volume=0.3:enable='between(t,0,7.131458)':eval=frame[ducked];[ducked][commentary]amix=inputs=2:duration=longest[audio] -vf pad=636:1130:0:385:color=white -c:v libx264 -preset ultrafast -crf 28 -c:a aac -b:a 192k -map 0:v -map [audio] -max_muxing_queue_size 1024 C:\Users\mrema\Downloads\Video-Commentary-Bot-0.1\output_0\final_video_funny.mp4
2025-02-23 22:10:13,799 - pipeline.Step_6_video_generation - ERROR - FFmpeg command failed with error: ffmpeg version N-118274-gc0fbb6d5b7-20250110 Copyright (c) 2000-2025 the FFmpeg developers
  built with gcc 14.2.0 (crosstool-NG 1.26.0.120_4d36f27)
  configuration: --prefix=/ffbuild/prefix --pkg-config-flags=--static --pkg-config=pkg-config --cross-prefix=x86_64-w64-mingw32- --arch=x86_64 --target-os=mingw32 --enable-gpl --enable-version3 --disable-debug --enable-shared --disable-static --disable-w32threads --enable-pthreads --enable-iconv --enable-zlib --enable-libfreetype --enable-libfribidi --enable-gmp --enable-libxml2 --enable-lzma --enable-fontconfig --enable-libharfbuzz --enable-libvorbis --enable-opencl --disable-libpulse --enable-libvmaf --disable-libxcb --disable-xlib --enable-amf --enable-libaom --enable-libaribb24 --enable-avisynth --enable-chromaprint --enable-libdav1d --enable-libdavs2 --enable-libdvdread --enable-libdvdnav --disable-libfdk-aac --enable-ffnvcodec --enable-cuda-llvm --enable-frei0r --enable-libgme --enable-libkvazaar --enable-libaribcaption --enable-libass --enable-libbluray --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librist --enable-libssh --enable-libtheora --enable-libvpx --enable-libwebp --enable-libzmq --enable-lv2 --enable-libvpl --enable-openal --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenh264 --enable-libopenjpeg --enable-libopenmpt --enable-librav1e --enable-librubberband --enable-schannel --enable-sdl2 --enable-libsoxr --enable-libsrt --enable-libsvtav1 --enable-libtwolame --enable-libuavs3d --disable-libdrm --enable-vaapi --enable-libvidstab --enable-vulkan --enable-libshaderc --enable-libplacebo --disable-libvvenc --enable-libx264 --enable-libx265 --enable-libxavs2 --enable-libxvid --enable-libzimg --enable-libzvbi --extra-cflags=-DLIBTWOLAME_STATIC --extra-cxxflags= --extra-libs=-lgomp --extra-ldflags=-pthread --extra-ldexeflags= --cc=x86_64-w64-mingw32-gcc --cxx=x86_64-w64-mingw32-g++ --ar=x86_64-w64-mingw32-gcc-ar --ranlib=x86_64-w64-mingw32-gcc-ranlib --nm=x86_64-w64-mingw32-gcc-nm --extra-version=20250110
  libavutil      59. 54.101 / 59. 54.101
  libavcodec     61. 31.100 / 61. 31.100
  libavformat    61.  9.104 / 61.  9.104
  libavdevice    61.  4.100 / 61.  4.100
  libavfilter    10.  6.101 / 10.  6.101
  libswscale      8. 13.100 /  8. 13.100
  libswresample   5.  4.100 /  5.  4.100
  libpostproc    58.  4.100 / 58.  4.100
Input #0, mov,mp4,m4a,3gp,3g2,mj2, from 'C:\Users\mrema\Downloads\Video-Commentary-Bot-0.1\temp_0\video\video_20250223_220935.mp4':
  Metadata:
    major_brand     : isom
    minor_version   : 1
    compatible_brands: isomiso4
    creation_time   : 2025-02-23T20:40:15.000000Z
  Duration: 00:00:12.31, start: 0.000000, bitrate: 2068 kb/s
  Stream #0:0[0x1](und): Video: h264 (High) (avc1 / 0x31637661), yuv420p(progressive), 720x1280, 1938 kb/s, SAR 1:1 DAR 9:16, 30 fps, 30 tbr, 3000k tbn (default)
    Metadata:
      handler_name    : Twitter-vork muxer
      vendor_id       : [0][0][0][0]
  Stream #0:1[0x2](und): Audio: aac (LC) (mp4a / 0x6134706D), 48000 Hz, stereo, fltp, 128 kb/s (default)
    Metadata:
      handler_name    : Twitter-vork muxer
      vendor_id       : [0][0][0][0]
[aist#1:0/pcm_s16le @ 000001d37b4a9f80] Guessed Channel Layout: mono
Input #1, wav, from 'C:\Users\mrema\Downloads\Video-Commentary-Bot-0.1\output_0\commentary_funny.wav':
  Duration: 00:00:07.13, bitrate: 384 kb/s
  Stream #1:0: Audio: pcm_s16le ([1][0][0][0] / 0x0001), 24000 Hz, mono, s16, 384 kb/s
Stream mapping:
  Stream #0:1 (aac) -> volume:default
  Stream #1:0 (pcm_s16le) -> volume:default
  Stream #0:0 -> #0:0 (h264 (native) -> h264 (libx264))
  amix:default -> Stream #0:1 (aac)
Press [q] to stop, [?] for help
[Parsed_pad_0 @ 000001d379624a00] Padded dimensions cannot be smaller than input dimensions.
[Parsed_pad_0 @ 000001d379624a00] Failed to configure input pad on Parsed_pad_0
[vf#0:0 @ 000001d3795cf580] Error reinitializing filters!
[vf#0:0 @ 000001d3795cf580] Task finished with error code: -22 (Invalid argument)
[vf#0:0 @ 000001d3795cf580] Terminating thread with return code -22 (Invalid argument)
[vost#0:0/libx264 @ 000001d37b49a580] [enc:libx264 @ 000001d3796a0880] Could not open encoder before EOF
[vost#0:0/libx264 @ 000001d37b49a580] Task finished with error code: -22 (Invalid argument)
[vost#0:0/libx264 @ 000001d37b49a580] Terminating thread with return code -22 (Invalid argument)
[out#0/mp4 @ 000001d379623d40] Nothing was written into output file, because at least one of its streams received no packets.
frame=    0 fps=0.0 q=0.0 Lsize=       0KiB time=N/A bitrate=N/A speed=N/A    
[aac @ 000001d37b822bc0] Qavg: 1176.251
Conversion failed!

2025-02-23 22:10:13,831 - new_bot - ERROR - Error processing video file: Failed to generate final video
2025-02-23 22:10:13,832 - __main__ - INFO - Status update: âŒ Error processing video: Failed to generate final video
Please try again or contact support.
2025-02-23 22:10:13,838 - __main__ - ERROR - No video data found after processing
2025-02-23 22:10:13,955 - __main__ - INFO - Cleanup completed successfully
2025-02-23 22:11:30,770 - __main__ - INFO - Checking environment variables...
2025-02-23 22:11:30,771 - __main__ - INFO - âœ“ Found OPENAI_API_KEY in environment
2025-02-23 22:11:30,772 - __main__ - INFO - âœ“ Found DEEPSEEK_API_KEY in environment
2025-02-23 22:11:30,773 - __main__ - INFO - âœ“ Found GOOGLE_APPLICATION_CREDENTIALS_JSON in environment
2025-02-23 22:11:30,773 - __main__ - INFO - Attempting to parse Google credentials...
2025-02-23 22:11:30,774 - __main__ - WARNING - Direct JSON parsing failed: Invalid control character at: line 1 column 175 (char 174)
2025-02-23 22:11:30,776 - __main__ - INFO - âœ“ Google credentials configured successfully
2025-02-23 22:11:30,777 - __main__ - INFO - âœ“ Configuration loaded successfully
2025-02-23 22:11:30,780 - new_bot - INFO - Checking environment variables...
2025-02-23 22:11:30,781 - new_bot - INFO - âœ“ Found OPENAI_API_KEY in environment
2025-02-23 22:11:30,781 - new_bot - INFO - âœ“ Found DEEPSEEK_API_KEY in environment
2025-02-23 22:11:30,782 - new_bot - INFO - âœ“ Found GOOGLE_APPLICATION_CREDENTIALS_JSON in environment
2025-02-23 22:11:30,782 - new_bot - INFO - Attempting to parse Google credentials...
2025-02-23 22:11:30,784 - new_bot - WARNING - Direct JSON parsing failed: Invalid control character at: line 1 column 175 (char 174)
2025-02-23 22:11:30,785 - new_bot - INFO - âœ“ Google credentials configured successfully
2025-02-23 22:20:51,103 - __main__ - INFO - Checking environment variables...
2025-02-23 22:20:51,104 - __main__ - WARNING - âœ— Missing OPENAI_API_KEY in environment
2025-02-23 22:20:51,105 - __main__ - WARNING - âœ— Missing DEEPSEEK_API_KEY in environment
2025-02-23 22:20:51,105 - __main__ - WARNING - âœ— Missing GOOGLE_APPLICATION_CREDENTIALS_JSON in environment
2025-02-23 22:20:51,106 - __main__ - INFO - Some variables missing, checking railway.json...
2025-02-23 22:20:51,106 - __main__ - INFO - Found railway.json, loading configuration...
2025-02-23 22:20:51,107 - __main__ - INFO - Loaded OPENAI_API_KEY from railway.json
2025-02-23 22:20:51,109 - __main__ - INFO - Loaded DEEPSEEK_API_KEY from railway.json
2025-02-23 22:20:51,110 - __main__ - INFO - Loaded GOOGLE_APPLICATION_CREDENTIALS_JSON from railway.json
2025-02-23 22:20:51,110 - __main__ - INFO - Attempting to parse Google credentials...
2025-02-23 22:20:51,111 - __main__ - WARNING - Direct JSON parsing failed: Invalid control character at: line 1 column 175 (char 174)
2025-02-23 22:20:51,112 - __main__ - INFO - âœ“ Google credentials configured successfully
2025-02-23 22:20:51,113 - __main__ - INFO - âœ“ Configuration loaded successfully
2025-02-23 22:20:53,031 - new_bot - INFO - Checking environment variables...
2025-02-23 22:20:53,032 - new_bot - INFO - âœ“ Found OPENAI_API_KEY in environment
2025-02-23 22:20:53,032 - new_bot - INFO - âœ“ Found DEEPSEEK_API_KEY in environment
2025-02-23 22:20:53,033 - new_bot - INFO - âœ“ Found GOOGLE_APPLICATION_CREDENTIALS_JSON in environment
2025-02-23 22:20:53,033 - new_bot - INFO - Attempting to parse Google credentials...
2025-02-23 22:20:53,034 - new_bot - WARNING - Direct JSON parsing failed: Invalid control character at: line 1 column 175 (char 174)
2025-02-23 22:20:53,036 - new_bot - INFO - âœ“ Google credentials configured successfully
2025-02-23 22:20:59,468 - __main__ - INFO - Checking environment variables...
2025-02-23 22:20:59,472 - __main__ - INFO - âœ“ Found OPENAI_API_KEY in environment
2025-02-23 22:20:59,474 - __main__ - INFO - âœ“ Found DEEPSEEK_API_KEY in environment
2025-02-23 22:20:59,475 - __main__ - INFO - âœ“ Found GOOGLE_APPLICATION_CREDENTIALS_JSON in environment
2025-02-23 22:20:59,478 - __main__ - INFO - Attempting to parse Google credentials...
2025-02-23 22:20:59,480 - __main__ - WARNING - Direct JSON parsing failed: Invalid control character at: line 1 column 175 (char 174)
2025-02-23 22:20:59,483 - __main__ - INFO - âœ“ Google credentials configured successfully
2025-02-23 22:20:59,484 - __main__ - INFO - âœ“ Configuration loaded successfully
2025-02-23 22:20:59,500 - __main__ - INFO - Initializing StreamlitUpdate
2025-02-23 22:20:59,502 - __main__ - INFO - Initializing StreamlitContext
2025-02-23 22:20:59,505 - __main__ - INFO - Processing video URL: https://x.com/AMAZlNGNATURE/status/1893762820786868245
2025-02-23 22:20:59,506 - __main__ - INFO - Status update: ğŸ¬ Starting video processing...

0% â–±â–±â–±â–±â–±â–±â–±â–±â–±â–±
2025-02-23 22:20:59,508 - __main__ - INFO - Status update: ğŸ“¥ Downloading video...

10% â–°â–±â–±â–±â–±â–±â–±â–±â–±â–±
2025-02-23 22:20:59,510 - new_bot - INFO - Downloading video from: https://x.com/AMAZlNGNATURE/status/1893762820786868245
2025-02-23 22:20:59,510 - pipeline.Step_1_download_video - INFO - Downloading video from: https://twitter.com/AMAZlNGNATURE/status/1893762820786868245
2025-02-23 22:21:09,432 - pipeline.Step_1_download_video - INFO - Download completed
2025-02-23 22:21:09,433 - pipeline.Step_1_download_video - INFO - Downloaded file: temp_0\video\video_20250223_222102.mp4
2025-02-23 22:21:09,467 - new_bot - INFO - Starting video processing...
2025-02-23 22:21:09,467 - new_bot - INFO - Extracting frames...
2025-02-23 22:21:09,468 - __main__ - INFO - Status update: ğŸï¸ Extracting frames...

30% â–°â–°â–°â–±â–±â–±â–±â–±â–±â–±
2025-02-23 22:21:09,543 - pipeline.Step_2_extract_frames - INFO - Analyzing video for key frames...
2025-02-23 22:21:09,587 - pipeline.Step_2_extract_frames - INFO - Progress: 0.0%
2025-02-23 22:21:10,402 - pipeline.Step_2_extract_frames - INFO - Saved frame at 0.10s (scene_change=False, motion=3.44
2025-02-23 22:21:10,697 - pipeline.Step_2_extract_frames - INFO - Saved frame at 0.20s (scene_change=False, motion=4.68
2025-02-23 22:21:11,011 - pipeline.Step_2_extract_frames - INFO - Saved frame at 0.30s (scene_change=False, motion=4.78
2025-02-23 22:21:11,361 - pipeline.Step_2_extract_frames - INFO - Saved frame at 0.40s (scene_change=False, motion=3.19
2025-02-23 22:21:11,712 - pipeline.Step_2_extract_frames - INFO - Saved frame at 0.50s (scene_change=False, motion=3.20
2025-02-23 22:21:12,054 - pipeline.Step_2_extract_frames - INFO - Saved frame at 0.60s (scene_change=False, motion=2.69
2025-02-23 22:21:12,325 - pipeline.Step_2_extract_frames - INFO - Saved frame at 0.70s (scene_change=False, motion=2.38
2025-02-23 22:21:12,657 - pipeline.Step_2_extract_frames - INFO - Saved frame at 0.80s (scene_change=False, motion=4.47
2025-02-23 22:21:12,997 - pipeline.Step_2_extract_frames - INFO - Saved frame at 0.90s (scene_change=False, motion=4.89
2025-02-23 22:21:14,017 - pipeline.Step_2_extract_frames - INFO - Saved frame at 1.10s (scene_change=False, motion=2.55
2025-02-23 22:21:14,325 - pipeline.Step_2_extract_frames - INFO - Saved frame at 1.20s (scene_change=False, motion=3.24
2025-02-23 22:21:14,627 - pipeline.Step_2_extract_frames - INFO - Saved frame at 1.30s (scene_change=False, motion=3.81
2025-02-23 22:21:14,921 - pipeline.Step_2_extract_frames - INFO - Saved frame at 1.40s (scene_change=False, motion=3.82
2025-02-23 22:21:15,229 - pipeline.Step_2_extract_frames - INFO - Saved frame at 1.50s (scene_change=False, motion=4.66
2025-02-23 22:21:15,535 - pipeline.Step_2_extract_frames - INFO - Saved frame at 1.60s (scene_change=False, motion=7.28
2025-02-23 22:21:15,912 - pipeline.Step_2_extract_frames - INFO - Saved frame at 1.70s (scene_change=False, motion=6.09
2025-02-23 22:21:16,252 - pipeline.Step_2_extract_frames - INFO - Saved frame at 1.80s (scene_change=False, motion=4.80
2025-02-23 22:21:16,633 - pipeline.Step_2_extract_frames - INFO - Saved frame at 1.90s (scene_change=False, motion=4.97
2025-02-23 22:21:16,642 - pipeline.Step_2_extract_frames - INFO - Extracted 18 key frames
2025-02-23 22:21:16,643 - new_bot - INFO - Analyzing frames...
2025-02-23 22:21:16,643 - __main__ - INFO - Status update: ğŸ” Analyzing video content...

50% â–°â–°â–°â–°â–°â–±â–±â–±â–±â–±
2025-02-23 22:21:17,008 - pipeline.Step_3_analyze_frames - INFO - Selected 1 key frames for analysis
2025-02-23 22:21:28,521 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-23 22:21:28,538 - pipeline.Step_3_analyze_frames - INFO - Analysis complete. Results saved to output_0\final_analysis.json
2025-02-23 22:21:28,541 - new_bot - INFO - Generating commentary in ur...
2025-02-23 22:21:28,543 - __main__ - INFO - Status update: ğŸ’­ Generating commentary...

70% â–°â–°â–°â–°â–°â–°â–°â–±â–±â–±
2025-02-23 22:21:28,547 - pipeline.Step_4_generate_commentary - INFO - 
=== STARTING COMMENTARY GENERATION ===
2025-02-23 22:21:28,549 - pipeline.Step_4_generate_commentary - INFO - Content Type: funny
2025-02-23 22:21:28,550 - pipeline.Step_4_generate_commentary - INFO - Analysis File: output_0\final_analysis.json
2025-02-23 22:21:29,019 - pipeline.Step_4_generate_commentary - INFO - 
=== VIDEO TEXT FROM METADATA ===
2025-02-23 22:21:29,020 - pipeline.Step_4_generate_commentary - INFO - No text found in metadata
2025-02-23 22:21:29,021 - pipeline.Step_4_generate_commentary - INFO - 
=== SYSTEM PROMPT ===
2025-02-23 22:21:29,022 - pipeline.Step_4_generate_commentary - INFO - You are an entertaining commentator. Create humorous commentary that:
- Uses witty observations and jokes
- Maintains light and playful tone
- Includes appropriate humor
- Emphasizes amusing moments
- Keeps engagement through humor
2025-02-23 22:21:29,023 - pipeline.Step_4_generate_commentary - INFO - 
=== USER PROMPT ===
2025-02-23 22:21:29,024 - pipeline.Step_4_generate_commentary - INFO - Generate a VERY SHORT UR commentary (1-2 lines maximum) for this video in funny style.

VIDEO CONTENT:
Title: Nature is Amazing â˜˜ï¸ - Today I discovered there is a bird known as Standard-Winged Nightjar. The male hasÂ wing ornaments called "standards" that grow out of the middle of its wings during mating season.
Description: Today I discovered there is a bird known as Standard-Winged Nightjar. The male hasÂ wing ornaments called "standards" that grow out of the middle of its wings during mating season. https://t.co/2sdZ6BA9Ih

VISUAL ANALYSIS:

Key visual elements (with confidence):
- Sea (0.93)
- Horizon (0.92)
- Waterway (0.92)
- Deck (0.92)
- Ocean (0.89)
- Handrail (0.80)
- Naval architecture (0.79)
- Watercraft (0.77)

Detailed scene descriptions:
- ### Frame Analysis

1. **Main Focus or Subject:**
   The primary subject of this frame is the Standard-Winged Nightjar perched on the ship's handrail. This aligns directly with the video's context, which introduces viewers to this bird species known for its unique wing ornaments.

2. **Actions, Movements, or Interactions:**
   The bird is stationary, allowing for a clear view of its distinctive "standards," which are elongated feather structures extending from the wings. This lack of movement helps highlight the unusual feature during the mating season.

3. **Significant Details:**
   - **Wing Ornaments:** The emphasis on the wing ornaments is crucial, as it makes the bird stand out and connects with the videoâ€™s focus on this unique aspect of the bird.
   - **Location:** The setting on the shipâ€™s deck provides an interesting juxtaposition between nature and human-made environments, possibly emphasizing the reach or unexpected appearances of nature.

4. **Connection to Overall Story:**
   This moment visually complements the narrative of discovering unique aspects of nature. The video aims to educate and fascinate viewers with unusual natural phenomena, in this case, the nightjar's striking "standards."

5. **Correcting Potential Misidentifications:**
   - The computer vision's identification of elements such as "naval architecture" and "watercraft" is accurate in describing the ship context, but the focus here should be on the bird rather than these maritime elements.
   -


STRICT REQUIREMENTS:
1. MUST be 1-2 lines only - no exceptions
2. Focus on combining the video description with what is actually shown in the video
3. If there is text in the video, incorporate it naturally
4. Match the funny style while staying extremely brief
5. Make it engaging but concise
6. Format for ur
7. Ensure commentary reflects both visual content and video description
8. Correct any obvious errors in object detection (e.g., if a deer was labeled as a dog)
9. Use proper Urdu script and punctuation (Û”ØŒ ØŸ)
2025-02-23 22:21:29,038 - pipeline.Step_4_generate_commentary - INFO - 
=== GENERATING COMMENTARY ===
2025-02-23 22:21:30,362 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-23 22:21:30,373 - pipeline.Step_4_generate_commentary - INFO - 
=== RAW GENERATED COMMENTARY ===
2025-02-23 22:21:30,376 - pipeline.Step_4_generate_commentary - INFO - Ø§ÙÙØŒ ÛŒÛ ØªÙˆ ÙÛŒØ´Ù† Ú©ÛŒ Ø¯Ù†ÛŒØ§ Ù…ÛŒÚº Ø§ÛŒÚ© Ù†Ø¦ÛŒ ÙˆÙ†Ú¯ Ø§Ø³Ù¹Ø§Ø¦Ù„ ÛÛ’! ÛŒÛ Standard-Winged Nightjar ØªÙˆ Ø¬ÛŒÙ†Ø² Ú©Û’ Ø¨Ø¬Ø§Ø¦Û’ Ø§Ù¾Ù†ÛŒ "Ù…Ø¹ÛŒØ§Ø±ÛŒ" Ù¾Ø±Ù†Ø¯Û Ú©ÛŒ Ø´Ø±ÙˆØ¹Ø§Øª Ú©Ø± Ø±ÛØ§ ÛÛ’Û” ğŸ˜‚âœ¨
2025-02-23 22:21:30,382 - pipeline.Step_4_generate_commentary - INFO - 
=== PROCESSED COMMENTARY ===
2025-02-23 22:21:30,384 - pipeline.Step_4_generate_commentary - INFO - Ø§ÙÙØŒ<break time="0.5s"/> ÛŒÛ ØªÙˆ ÙÛŒØ´Ù† Ú©ÛŒ Ø¯Ù†ÛŒØ§ Ù…ÛŒÚº Ø§ÛŒÚ© Ù†Ø¦ÛŒ ÙˆÙ†Ú¯ Ø§Ø³Ù¹Ø§Ø¦Ù„ ÛÛ’! ÛŒÛ Standard-Winged Nightjar ØªÙˆ Ø¬ÛŒÙ†Ø² Ú©Û’ Ø¨Ø¬Ø§Ø¦Û’ Ø§Ù¾Ù†ÛŒ "Ù…Ø¹ÛŒØ§Ø±ÛŒ" Ù¾Ø±Ù†Ø¯Û Ú©ÛŒ Ø´Ø±ÙˆØ¹Ø§Øª Ú©Ø± Ø±ÛØ§ ÛÛ’Û”<break time="1s"/> ğŸ˜‚âœ¨
2025-02-23 22:21:30,387 - pipeline.Step_4_generate_commentary - INFO - 
=== FINAL COMMENTARY OBJECT ===
2025-02-23 22:21:30,390 - pipeline.Step_4_generate_commentary - INFO - {
  "style": "funny",
  "commentary": "Ø§ÙÙØŒ<break time=\"0.5s\"/> ÛŒÛ ØªÙˆ ÙÛŒØ´Ù† Ú©ÛŒ Ø¯Ù†ÛŒØ§ Ù…ÛŒÚº Ø§ÛŒÚ© Ù†Ø¦ÛŒ ÙˆÙ†Ú¯ Ø§Ø³Ù¹Ø§Ø¦Ù„ ÛÛ’! ÛŒÛ Standard-Winged Nightjar ØªÙˆ Ø¬ÛŒÙ†Ø² Ú©Û’ Ø¨Ø¬Ø§Ø¦Û’ Ø§Ù¾Ù†ÛŒ \"Ù…Ø¹ÛŒØ§Ø±ÛŒ\" Ù¾Ø±Ù†Ø¯Û Ú©ÛŒ Ø´Ø±ÙˆØ¹Ø§Øª Ú©Ø± Ø±ÛØ§ ÛÛ’Û”<break time=\"1s\"/> ğŸ˜‚âœ¨",
  "metadata": {
    "title": "Nature is Amazing â˜˜ï¸ - Today I discovered there is a bird known as Standard-Winged Nightjar. The male hasÂ wing ornaments called \"standards\" that grow out of the middle of its wings during mating season.",
    "duration": 12.266666666666667,
    "description": "Today I discovered there is a bird known as Standard-Winged Nightjar. The male hasÂ wing ornaments called \"standards\" that grow out of the middle of its wings during mating season. https://t.co/2sdZ6BA9Ih",
    "uploader": "Nature is Amazing â˜˜ï¸",
    "view_count": null,
    "like_count": 3087,
    "upload_date": "20250223",
    "scene_changes": [],
    "motion_scores": [
      [
        "output_0\\frames\\frame_0.10s.jpg",
        3.4405486583709717
      ],
      [
        "output_0\\frames\\frame_0.20s.jpg",
        4.677728176116943
      ],
      [
        "output_0\\frames\\frame_0.30s.jpg",
        4.781957626342773
      ],
      [
        "output_0\\frames\\frame_0.40s.jpg",
        3.1893484592437744
      ],
      [
        "output_0\\frames\\frame_0.50s.jpg",
        3.204416275024414
      ],
      [
        "output_0\\frames\\frame_0.60s.jpg",
        2.691624641418457
      ],
      [
        "output_0\\frames\\frame_0.70s.jpg",
        2.375185489654541
      ],
      [
        "output_0\\frames\\frame_0.80s.jpg",
        4.473906993865967
      ],
      [
        "output_0\\frames\\frame_0.90s.jpg",
        4.887641429901123
      ],
      [
        "output_0\\frames\\frame_1.10s.jpg",
        2.5479652881622314
      ],
      [
        "output_0\\frames\\frame_1.20s.jpg",
        3.2369003295898438
      ],
      [
        "output_0\\frames\\frame_1.30s.jpg",
        3.813791513442993
      ],
      [
        "output_0\\frames\\frame_1.40s.jpg",
        3.823683977127075
      ],
      [
        "output_0\\frames\\frame_1.50s.jpg",
        4.660773277282715
      ],
      [
        "output_0\\frames\\frame_1.60s.jpg",
        7.277024745941162
      ],
      [
        "output_0\\frames\\frame_1.70s.jpg",
        6.092142581939697
      ],
      [
        "output_0\\frames\\frame_1.80s.jpg",
        4.797623634338379
      ],
      [
        "output_0\\frames\\frame_1.90s.jpg",
        4.973909854888916
      ]
    ],
    "language": "ur"
  },
  "language": "ur"
}
2025-02-23 22:21:30,421 - pipeline.Step_4_generate_commentary - INFO - 
=== PROCESSING FOR AUDIO ===
2025-02-23 22:21:30,422 - pipeline.Step_4_generate_commentary - INFO - Language: ur
2025-02-23 22:21:30,423 - pipeline.Step_4_generate_commentary - INFO - 
=== FINAL AUDIO SCRIPT ===
2025-02-23 22:21:30,424 - pipeline.Step_4_generate_commentary - INFO - Ø§ÙÙØŒ<break time="0.5s"/> ÛŒÛ ØªÙˆ ÙÛŒØ´Ù† Ú©ÛŒ Ø¯Ù†ÛŒØ§ Ù…ÛŒÚº Ø§ÛŒÚ© Ù†Ø¦ÛŒ ÙˆÙ†Ú¯ Ø§Ø³Ù¹Ø§Ø¦Ù„ ÛÛ’! ÛŒÛ ØªÙˆ Ø¬ÛŒÙ†Ø² Ú©Û’ Ø¨Ø¬Ø§Ø¦Û’ Ø§Ù¾Ù†ÛŒ Ù…Ø¹ÛŒØ§Ø±ÛŒ Ù¾Ø±Ù†Ø¯Û Ú©ÛŒ Ø´Ø±ÙˆØ¹Ø§Øª Ú©Ø± Ø±ÛØ§ ÛÛ’Û”<break time="1s"/>
2025-02-23 22:21:30,427 - new_bot - INFO - Generating audio in ur...
2025-02-23 22:21:30,427 - __main__ - INFO - Status update: ğŸ™ï¸ Synthesizing voice...

80% â–°â–°â–°â–°â–°â–°â–°â–°â–±â–±
2025-02-23 22:21:30,445 - pipeline.Step_5_generate_audio - INFO - Generating audio for text: Ø§ÙÙØŒ<break time="0.5s"/> ÛŒÛ ØªÙˆ ÙÛŒØ´Ù† Ú©ÛŒ Ø¯Ù†ÛŒØ§ Ù…ÛŒÚº Ø§ÛŒÚ© Ù†Ø¦ÛŒ ÙˆÙ†Ú¯ Ø§Ø³Ù¹Ø§Ø¦Ù„ ÛÛ’! ÛŒÛ Standard-Winged Nightjar Øª...
2025-02-23 22:21:31,217 - pipeline.Step_5_generate_audio - INFO - Successfully generated audio file: output_0\commentary_funny.wav
2025-02-23 22:21:31,219 - new_bot - INFO - Generating final video...
2025-02-23 22:21:31,221 - __main__ - INFO - Status update: ğŸ¥ Creating final video...

85% â–°â–°â–°â–°â–°â–°â–°â–°â–°â–±
2025-02-23 22:21:31,229 - pipeline.Step_6_video_generation - INFO - Ensured output directory exists: output_0
2025-02-23 22:21:31,231 - pipeline.Step_6_video_generation - INFO - Input video file: temp_0\video\video_20250223_222102.mp4 (exists: True)
2025-02-23 22:21:31,233 - pipeline.Step_6_video_generation - INFO - Input audio file: output_0\commentary_funny.wav (exists: True)
2025-02-23 22:21:31,277 - pipeline.Step_6_video_generation - INFO - FFmpeg verified successfully
2025-02-23 22:21:31,278 - pipeline.Step_6_video_generation - INFO - Ensured video directory exists: C:\Users\mrema\Downloads\Video-Commentary-Bot-0.1\temp_0\video
2025-02-23 22:21:31,279 - pipeline.Step_6_video_generation - INFO - Ensured output directory exists: C:\Users\mrema\Downloads\Video-Commentary-Bot-0.1\output_0
2025-02-23 22:21:31,280 - pipeline.Step_6_video_generation - INFO - Video file exists: True (C:\Users\mrema\Downloads\Video-Commentary-Bot-0.1\temp_0\video\video_20250223_222102.mp4)
2025-02-23 22:21:31,280 - pipeline.Step_6_video_generation - INFO - Audio file exists: True (C:\Users\mrema\Downloads\Video-Commentary-Bot-0.1\output_0\commentary_funny.wav)
2025-02-23 22:21:31,281 - pipeline.Step_6_video_generation - INFO - Video file size: 3182566 bytes
2025-02-23 22:21:31,281 - pipeline.Step_6_video_generation - INFO - Audio file size: 512248 bytes
2025-02-23 22:21:31,282 - pipeline.Step_6_video_generation - INFO - Video absolute path: C:\Users\mrema\Downloads\Video-Commentary-Bot-0.1\temp_0\video\video_20250223_222102.mp4
2025-02-23 22:21:31,282 - pipeline.Step_6_video_generation - INFO - Audio absolute path: C:\Users\mrema\Downloads\Video-Commentary-Bot-0.1\output_0\commentary_funny.wav
2025-02-23 22:21:31,343 - pipeline.Step_6_video_generation - INFO - Commentary duration: 10.670917 seconds
2025-02-23 22:21:31,344 - pipeline.Step_6_video_generation - INFO - Current working directory: C:\Users\mrema\Downloads\Video-Commentary-Bot-0.1
2025-02-23 22:21:31,344 - pipeline.Step_6_video_generation - INFO - FFmpeg command: ffmpeg -y -i C:\Users\mrema\Downloads\Video-Commentary-Bot-0.1\temp_0\video\video_20250223_222102.mp4 -i C:\Users\mrema\Downloads\Video-Commentary-Bot-0.1\output_0\commentary_funny.wav -filter_complex [0:a]volume=1[original];[1:a]volume=0.7[commentary];[original]volume=0.3:enable='between(t,0,10.670917)':eval=frame[ducked];[ducked][commentary]amix=inputs=2:duration=longest[audio] -vf pad=720:1280:0:0:color=white -c:v libx264 -preset ultrafast -crf 28 -c:a aac -b:a 192k -map 0:v -map [audio] -max_muxing_queue_size 1024 C:\Users\mrema\Downloads\Video-Commentary-Bot-0.1\output_0\final_video_funny.mp4
2025-02-23 22:21:32,875 - pipeline.Step_6_video_generation - INFO - Video generated successfully: C:\Users\mrema\Downloads\Video-Commentary-Bot-0.1\output_0\final_video_funny.mp4
2025-02-23 22:21:32,876 - __main__ - INFO - Status update: ğŸ“¤ Uploading enhanced video...

90% â–°â–°â–°â–°â–°â–°â–°â–°â–±â–±
2025-02-23 22:21:32,878 - __main__ - INFO - Handling video reply
2025-02-23 22:21:32,939 - __main__ - INFO - Status update: âœ… Processing complete!

100% â–°â–°â–°â–°â–°â–°â–°â–°â–°â–°
2025-02-23 22:21:33,055 - __main__ - INFO - Cleanup completed successfully
2025-02-23 22:33:45,901 - __main__ - INFO - Checking environment variables...
2025-02-23 22:33:45,904 - __main__ - INFO - âœ“ Found OPENAI_API_KEY in environment
2025-02-23 22:33:45,906 - __main__ - INFO - âœ“ Found DEEPSEEK_API_KEY in environment
2025-02-23 22:33:45,907 - __main__ - INFO - âœ“ Found GOOGLE_APPLICATION_CREDENTIALS_JSON in environment
2025-02-23 22:33:45,909 - __main__ - INFO - Attempting to parse Google credentials...
2025-02-23 22:33:45,910 - __main__ - WARNING - Direct JSON parsing failed: Invalid control character at: line 1 column 175 (char 174)
2025-02-23 22:33:45,915 - __main__ - INFO - âœ“ Google credentials configured successfully
2025-02-23 22:33:45,917 - __main__ - INFO - âœ“ Configuration loaded successfully
2025-02-23 22:33:46,196 - __main__ - INFO - Checking environment variables...
2025-02-23 22:33:46,197 - __main__ - INFO - âœ“ Found OPENAI_API_KEY in environment
2025-02-23 22:33:46,198 - __main__ - INFO - âœ“ Found DEEPSEEK_API_KEY in environment
2025-02-23 22:33:46,199 - __main__ - INFO - âœ“ Found GOOGLE_APPLICATION_CREDENTIALS_JSON in environment
2025-02-23 22:33:46,200 - __main__ - INFO - Attempting to parse Google credentials...
2025-02-23 22:33:46,201 - __main__ - WARNING - Direct JSON parsing failed: Invalid control character at: line 1 column 175 (char 174)
2025-02-23 22:33:46,204 - __main__ - INFO - âœ“ Google credentials configured successfully
2025-02-23 22:33:46,205 - __main__ - INFO - âœ“ Configuration loaded successfully
2025-02-23 22:33:51,302 - __main__ - INFO - Checking environment variables...
2025-02-23 22:33:51,305 - __main__ - INFO - âœ“ Found OPENAI_API_KEY in environment
2025-02-23 22:33:51,307 - __main__ - INFO - âœ“ Found DEEPSEEK_API_KEY in environment
2025-02-23 22:33:51,309 - __main__ - INFO - âœ“ Found GOOGLE_APPLICATION_CREDENTIALS_JSON in environment
2025-02-23 22:33:51,312 - __main__ - INFO - Attempting to parse Google credentials...
2025-02-23 22:33:51,313 - __main__ - WARNING - Direct JSON parsing failed: Invalid control character at: line 1 column 175 (char 174)
2025-02-23 22:33:51,319 - __main__ - INFO - âœ“ Google credentials configured successfully
2025-02-23 22:33:51,320 - __main__ - INFO - âœ“ Configuration loaded successfully
2025-02-23 22:33:51,368 - __main__ - INFO - Initializing StreamlitUpdate
2025-02-23 22:33:51,372 - __main__ - INFO - Initializing StreamlitContext
2025-02-23 22:33:51,377 - __main__ - INFO - Processing video URL: https://x.com/AMAZlNGNATURE/status/1893740160908435775
2025-02-23 22:33:51,379 - __main__ - INFO - Status update: ğŸ¬ Starting video processing...

0% â–±â–±â–±â–±â–±â–±â–±â–±â–±â–±
2025-02-23 22:33:51,382 - __main__ - INFO - Status update: ğŸ“¥ Downloading video...

10% â–°â–±â–±â–±â–±â–±â–±â–±â–±â–±
2025-02-23 22:33:51,385 - new_bot - INFO - Downloading video from: https://x.com/AMAZlNGNATURE/status/1893740160908435775
2025-02-23 22:33:51,386 - pipeline.Step_1_download_video - INFO - Downloading video from: https://twitter.com/AMAZlNGNATURE/status/1893740160908435775
2025-02-23 22:34:01,746 - pipeline.Step_1_download_video - INFO - Download completed
2025-02-23 22:34:01,748 - pipeline.Step_1_download_video - INFO - Downloaded file: temp_0\video\video_20250223_223353.mp4
2025-02-23 22:34:01,784 - new_bot - INFO - Starting video processing...
2025-02-23 22:34:01,784 - new_bot - INFO - Extracting frames...
2025-02-23 22:34:01,785 - __main__ - INFO - Status update: ğŸï¸ Extracting frames...

30% â–°â–°â–°â–±â–±â–±â–±â–±â–±â–±
2025-02-23 22:34:01,879 - pipeline.Step_2_extract_frames - INFO - Analyzing video for key frames...
2025-02-23 22:34:01,970 - pipeline.Step_2_extract_frames - INFO - Progress: 0.0%
2025-02-23 22:34:03,140 - pipeline.Step_2_extract_frames - INFO - Saved frame at 0.10s (scene_change=False, motion=4.37
2025-02-23 22:34:03,711 - pipeline.Step_2_extract_frames - INFO - Saved frame at 0.20s (scene_change=False, motion=4.01
2025-02-23 22:34:04,281 - pipeline.Step_2_extract_frames - INFO - Saved frame at 0.30s (scene_change=False, motion=3.21
2025-02-23 22:34:04,848 - pipeline.Step_2_extract_frames - INFO - Saved frame at 0.40s (scene_change=False, motion=3.50
2025-02-23 22:34:05,410 - pipeline.Step_2_extract_frames - INFO - Saved frame at 0.50s (scene_change=False, motion=3.54
2025-02-23 22:34:05,980 - pipeline.Step_2_extract_frames - INFO - Saved frame at 0.60s (scene_change=False, motion=3.68
2025-02-23 22:34:06,534 - pipeline.Step_2_extract_frames - INFO - Saved frame at 0.70s (scene_change=False, motion=3.19
2025-02-23 22:34:07,099 - pipeline.Step_2_extract_frames - INFO - Saved frame at 0.80s (scene_change=False, motion=3.75
2025-02-23 22:34:07,659 - pipeline.Step_2_extract_frames - INFO - Saved frame at 0.90s (scene_change=False, motion=4.72
2025-02-23 22:34:09,303 - pipeline.Step_2_extract_frames - INFO - Saved frame at 1.10s (scene_change=False, motion=7.27
2025-02-23 22:34:09,869 - pipeline.Step_2_extract_frames - INFO - Saved frame at 1.20s (scene_change=False, motion=8.78
2025-02-23 22:34:10,437 - pipeline.Step_2_extract_frames - INFO - Saved frame at 1.30s (scene_change=False, motion=8.85
2025-02-23 22:34:10,996 - pipeline.Step_2_extract_frames - INFO - Saved frame at 1.40s (scene_change=False, motion=8.22
2025-02-23 22:34:11,555 - pipeline.Step_2_extract_frames - INFO - Saved frame at 1.50s (scene_change=False, motion=7.45
2025-02-23 22:34:12,126 - pipeline.Step_2_extract_frames - INFO - Saved frame at 1.60s (scene_change=False, motion=6.87
2025-02-23 22:34:12,692 - pipeline.Step_2_extract_frames - INFO - Saved frame at 1.70s (scene_change=False, motion=5.80
2025-02-23 22:34:13,251 - pipeline.Step_2_extract_frames - INFO - Saved frame at 1.80s (scene_change=False, motion=5.88
2025-02-23 22:34:13,809 - pipeline.Step_2_extract_frames - INFO - Saved frame at 1.90s (scene_change=False, motion=5.72
2025-02-23 22:34:13,823 - pipeline.Step_2_extract_frames - INFO - Extracted 18 key frames
2025-02-23 22:34:13,824 - new_bot - INFO - Analyzing frames...
2025-02-23 22:34:13,825 - __main__ - INFO - Status update: ğŸ” Analyzing video content...

50% â–°â–°â–°â–°â–°â–±â–±â–±â–±â–±
2025-02-23 22:34:14,562 - pipeline.Step_3_analyze_frames - INFO - Selected 1 key frames for analysis
2025-02-23 22:34:26,960 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-23 22:34:26,977 - pipeline.Step_3_analyze_frames - INFO - Analysis complete. Results saved to output_0\final_analysis.json
2025-02-23 22:34:26,980 - new_bot - INFO - Generating commentary in ur...
2025-02-23 22:34:26,982 - __main__ - INFO - Status update: ğŸ’­ Generating commentary...

70% â–°â–°â–°â–°â–°â–°â–°â–±â–±â–±
2025-02-23 22:34:26,985 - pipeline.Step_4_generate_commentary - INFO - 
=== STARTING COMMENTARY GENERATION ===
2025-02-23 22:34:26,987 - pipeline.Step_4_generate_commentary - INFO - Content Type: funny
2025-02-23 22:34:26,989 - pipeline.Step_4_generate_commentary - INFO - Analysis File: output_0\final_analysis.json
2025-02-23 22:34:27,737 - pipeline.Step_4_generate_commentary - INFO - 
=== VIDEO TEXT FROM METADATA ===
2025-02-23 22:34:27,738 - pipeline.Step_4_generate_commentary - INFO - No text found in metadata
2025-02-23 22:34:27,739 - pipeline.Step_4_generate_commentary - INFO - 
=== SYSTEM PROMPT ===
2025-02-23 22:34:27,741 - pipeline.Step_4_generate_commentary - INFO - You are an entertaining commentator. Create humorous commentary that:
- Uses witty observations and jokes
- Maintains light and playful tone
- Includes appropriate humor
- Emphasizes amusing moments
- Keeps engagement through humor
2025-02-23 22:34:27,741 - pipeline.Step_4_generate_commentary - INFO - 
=== USER PROMPT ===
2025-02-23 22:34:27,742 - pipeline.Step_4_generate_commentary - INFO - Generate a VERY SHORT UR commentary (1-2 lines maximum) for this video in funny style.

VIDEO CONTENT:
Title: Nature is Amazing â˜˜ï¸ - What kind of dog is this?
Description: What kind of dog is this? https://t.co/5B3R6ujys7

VISUAL ANALYSIS:

Key visual elements (with confidence):
- Lizard (0.93)
- Reptile (0.89)
- Monitor lizards (0.88)
- Scaled reptiles (0.81)
- Monitor lizard (0.73)

Detailed scene descriptions:
- 1. **Main Focus or Subject**:
   The main focus of the frame is a large, distinctive reptile, likely a monitor lizard, being held by a person. This aligns with the videoâ€™s theme of showcasing fascinating aspects of nature.

2. **Actions, Movements, or Interactions**:
   The lizard appears to be calmly perched in the person's arms. Thereâ€™s no immediate action or movement that suggests distress or threat, indicating a comfortable handling situation.

3. **Significant Details**:
   - The lizardâ€™s size and prominent scales are clearly visible, highlighting its exotic appearance.
   - The setting appears to be outside a building, adding an urban context to the encounter.

4. **Overall Story Connection**:
   This moment humorously contrasts with the videoâ€™s title, â€œNature is Amazing â˜˜ï¸ - What kind of dog is this?â€ The presence of a reptile instead of a dog adds to an element of surprise and curiosity, engaging viewers with an unexpected twist on the title's question.

5. **Correcting Misidentifications**:
   There is no dog in this image; the focus is indeed a monitor lizard. The computer vision analysis correctly identified it as such, with a high confidence level.

6. **Distinguishing Characteristics**:
   The reptileâ€™s features, like its long body, scaly skin, and strong limbs, clearly set it apart from any canine characteristics, reinforcing that itâ€™s not a dog as humorously


STRICT REQUIREMENTS:
1. MUST be 1-2 lines only - no exceptions
2. Focus on combining the video description with what is actually shown in the video
3. If there is text in the video, incorporate it naturally
4. Match the funny style while staying extremely brief
5. Make it engaging but concise
6. Format for ur
7. Ensure commentary reflects both visual content and video description
8. Correct any obvious errors in object detection (e.g., if a deer was labeled as a dog)
9. Use proper Urdu script and punctuation (Û”ØŒ ØŸ)
2025-02-23 22:34:27,753 - pipeline.Step_4_generate_commentary - INFO - 
=== GENERATING COMMENTARY ===
2025-02-23 22:34:29,006 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-23 22:34:29,016 - pipeline.Step_4_generate_commentary - INFO - 
=== RAW GENERATED COMMENTARY ===
2025-02-23 22:34:29,018 - pipeline.Step_4_generate_commentary - INFO - Ú©ÛŒØ§ ÛŒÛ ÙˆØ§Ù‚Ø¹ÛŒ Ø§ÛŒÚ© Ú©ØªØ§ ÛÛ’ ÛŒØ§ Ù„ÛŒØ²Ø± Ú©Ø§ Ú©ØªØ§ØŸ ğŸ˜„ Ù„Ú¯ØªØ§ ÛÛ’ Ú©Û ÛŒÛ "Ù†ÛŒÚ†Ø±" Ú©Û’ Ø³Ø§ØªÚ¾ Ú©Ú†Ú¾ "Ø¢Ú¯Û’ Ú©ÛŒ Ø³ÙˆÚ†" Ú©Ø± Ø±ÛØ§ ÛÛ’! ğŸ¦âœ¨
2025-02-23 22:34:29,021 - pipeline.Step_4_generate_commentary - INFO - 
=== PROCESSED COMMENTARY ===
2025-02-23 22:34:29,023 - pipeline.Step_4_generate_commentary - INFO - Ú©ÛŒØ§ ÛŒÛ ÙˆØ§Ù‚Ø¹ÛŒ Ø§ÛŒÚ© Ú©ØªØ§ ÛÛ’ ÛŒØ§ Ù„ÛŒØ²Ø± Ú©Ø§ Ú©ØªØ§ØŸ ğŸ˜„ Ù„Ú¯ØªØ§ ÛÛ’ Ú©Û ÛŒÛ "Ù†ÛŒÚ†Ø±" Ú©Û’ Ø³Ø§ØªÚ¾ Ú©Ú†Ú¾ "Ø¢Ú¯Û’ Ú©ÛŒ Ø³ÙˆÚ†" Ú©Ø± Ø±ÛØ§ ÛÛ’! ğŸ¦âœ¨
2025-02-23 22:34:29,026 - pipeline.Step_4_generate_commentary - INFO - 
=== FINAL COMMENTARY OBJECT ===
2025-02-23 22:34:29,029 - pipeline.Step_4_generate_commentary - INFO - {
  "style": "funny",
  "commentary": "Ú©ÛŒØ§ ÛŒÛ ÙˆØ§Ù‚Ø¹ÛŒ Ø§ÛŒÚ© Ú©ØªØ§ ÛÛ’ ÛŒØ§ Ù„ÛŒØ²Ø± Ú©Ø§ Ú©ØªØ§ØŸ ğŸ˜„ Ù„Ú¯ØªØ§ ÛÛ’ Ú©Û ÛŒÛ \"Ù†ÛŒÚ†Ø±\" Ú©Û’ Ø³Ø§ØªÚ¾ Ú©Ú†Ú¾ \"Ø¢Ú¯Û’ Ú©ÛŒ Ø³ÙˆÚ†\" Ú©Ø± Ø±ÛØ§ ÛÛ’! ğŸ¦âœ¨",
  "metadata": {
    "title": "Nature is Amazing â˜˜ï¸ - What kind of dog is this?",
    "duration": 10.533333333333333,
    "description": "What kind of dog is this? https://t.co/5B3R6ujys7",
    "uploader": "Nature is Amazing â˜˜ï¸",
    "view_count": null,
    "like_count": 3737,
    "upload_date": "20250223",
    "scene_changes": [],
    "motion_scores": [
      [
        "output_0\\frames\\frame_0.10s.jpg",
        4.370751857757568
      ],
      [
        "output_0\\frames\\frame_0.20s.jpg",
        4.012811660766602
      ],
      [
        "output_0\\frames\\frame_0.30s.jpg",
        3.2053489685058594
      ],
      [
        "output_0\\frames\\frame_0.40s.jpg",
        3.5037386417388916
      ],
      [
        "output_0\\frames\\frame_0.50s.jpg",
        3.5362582206726074
      ],
      [
        "output_0\\frames\\frame_0.60s.jpg",
        3.683502674102783
      ],
      [
        "output_0\\frames\\frame_0.70s.jpg",
        3.1947460174560547
      ],
      [
        "output_0\\frames\\frame_0.80s.jpg",
        3.746084213256836
      ],
      [
        "output_0\\frames\\frame_0.90s.jpg",
        4.7191972732543945
      ],
      [
        "output_0\\frames\\frame_1.10s.jpg",
        7.26699161529541
      ],
      [
        "output_0\\frames\\frame_1.20s.jpg",
        8.782681465148926
      ],
      [
        "output_0\\frames\\frame_1.30s.jpg",
        8.85458755493164
      ],
      [
        "output_0\\frames\\frame_1.40s.jpg",
        8.222807884216309
      ],
      [
        "output_0\\frames\\frame_1.50s.jpg",
        7.447535037994385
      ],
      [
        "output_0\\frames\\frame_1.60s.jpg",
        6.872596263885498
      ],
      [
        "output_0\\frames\\frame_1.70s.jpg",
        5.802168846130371
      ],
      [
        "output_0\\frames\\frame_1.80s.jpg",
        5.875572204589844
      ],
      [
        "output_0\\frames\\frame_1.90s.jpg",
        5.717296123504639
      ]
    ],
    "language": "ur"
  },
  "language": "ur"
}
2025-02-23 22:34:29,061 - pipeline.Step_4_generate_commentary - INFO - 
=== PROCESSING FOR AUDIO ===
2025-02-23 22:34:29,062 - pipeline.Step_4_generate_commentary - INFO - Language: ur
2025-02-23 22:34:29,063 - pipeline.Step_4_generate_commentary - INFO - 
=== FINAL AUDIO SCRIPT ===
2025-02-23 22:34:29,065 - pipeline.Step_4_generate_commentary - INFO - Ú©ÛŒØ§ ÛŒÛ ÙˆØ§Ù‚Ø¹ÛŒ Ø§ÛŒÚ© Ú©ØªØ§ ÛÛ’ ÛŒØ§ Ù„ÛŒØ²Ø± Ú©Ø§ Ú©ØªØ§ØŸ<break time="0.8s"/> Ù„Ú¯ØªØ§ ÛÛ’ Ú©Û ÛŒÛ Ù†ÛŒÚ†Ø± Ú©Û’ Ø³Ø§ØªÚ¾ Ú©Ú†Ú¾ Ø¢Ú¯Û’ Ú©ÛŒ Ø³ÙˆÚ† Ú©Ø± Ø±ÛØ§ ÛÛ’!
2025-02-23 22:34:29,069 - new_bot - INFO - Generating audio in ur...
2025-02-23 22:34:29,071 - __main__ - INFO - Status update: ğŸ™ï¸ Synthesizing voice...

80% â–°â–°â–°â–°â–°â–°â–°â–°â–±â–±
2025-02-23 22:34:29,097 - pipeline.Step_5_generate_audio - INFO - Generating audio for text: Ú©ÛŒØ§ ÛŒÛ ÙˆØ§Ù‚Ø¹ÛŒ Ø§ÛŒÚ© Ú©ØªØ§ ÛÛ’ ÛŒØ§ Ù„ÛŒØ²Ø± Ú©Ø§ Ú©ØªØ§ØŸ ğŸ˜„ Ù„Ú¯ØªØ§ ÛÛ’ Ú©Û ÛŒÛ "Ù†ÛŒÚ†Ø±" Ú©Û’ Ø³Ø§ØªÚ¾ Ú©Ú†Ú¾ "Ø¢Ú¯Û’ Ú©ÛŒ Ø³ÙˆÚ†" Ú©Ø± Ø±ÛØ§ ÛÛ’! ğŸ¦...
2025-02-23 22:34:29,861 - pipeline.Step_5_generate_audio - INFO - Successfully generated audio file: output_0\commentary_funny.wav
2025-02-23 22:34:29,864 - new_bot - INFO - Generating final video...
2025-02-23 22:34:29,866 - __main__ - INFO - Status update: ğŸ¥ Creating final video...

85% â–°â–°â–°â–°â–°â–°â–°â–°â–°â–±
2025-02-23 22:34:29,872 - pipeline.Step_6_video_generation - INFO - Ensured output directory exists: output_0
2025-02-23 22:34:29,874 - pipeline.Step_6_video_generation - INFO - Input video file: temp_0\video\video_20250223_223353.mp4 (exists: True)
2025-02-23 22:34:29,875 - pipeline.Step_6_video_generation - INFO - Input audio file: output_0\commentary_funny.wav (exists: True)
2025-02-23 22:34:29,930 - pipeline.Step_6_video_generation - INFO - FFmpeg verified successfully
2025-02-23 22:34:29,932 - pipeline.Step_6_video_generation - INFO - Ensured video directory exists: C:\Users\mrema\Downloads\Video-Commentary-Bot-0.1\temp_0\video
2025-02-23 22:34:29,933 - pipeline.Step_6_video_generation - INFO - Ensured output directory exists: C:\Users\mrema\Downloads\Video-Commentary-Bot-0.1\output_0
2025-02-23 22:34:29,934 - pipeline.Step_6_video_generation - INFO - Video file exists: True (C:\Users\mrema\Downloads\Video-Commentary-Bot-0.1\temp_0\video\video_20250223_223353.mp4)
2025-02-23 22:34:29,936 - pipeline.Step_6_video_generation - INFO - Audio file exists: True (C:\Users\mrema\Downloads\Video-Commentary-Bot-0.1\output_0\commentary_funny.wav)
2025-02-23 22:34:29,937 - pipeline.Step_6_video_generation - INFO - Video file size: 1761566 bytes
2025-02-23 22:34:29,938 - pipeline.Step_6_video_generation - INFO - Audio file size: 386240 bytes
2025-02-23 22:34:29,939 - pipeline.Step_6_video_generation - INFO - Video absolute path: C:\Users\mrema\Downloads\Video-Commentary-Bot-0.1\temp_0\video\video_20250223_223353.mp4
2025-02-23 22:34:29,941 - pipeline.Step_6_video_generation - INFO - Audio absolute path: C:\Users\mrema\Downloads\Video-Commentary-Bot-0.1\output_0\commentary_funny.wav
2025-02-23 22:34:30,021 - pipeline.Step_6_video_generation - INFO - Commentary duration: 8.04575 seconds
2025-02-23 22:34:30,022 - pipeline.Step_6_video_generation - INFO - Current working directory: C:\Users\mrema\Downloads\Video-Commentary-Bot-0.1
2025-02-23 22:34:30,023 - pipeline.Step_6_video_generation - INFO - FFmpeg command: ffmpeg -y -i C:\Users\mrema\Downloads\Video-Commentary-Bot-0.1\temp_0\video\video_20250223_223353.mp4 -i C:\Users\mrema\Downloads\Video-Commentary-Bot-0.1\output_0\commentary_funny.wav -filter_complex [0:a]volume=1[original];[1:a]volume=0.7[commentary];[original]volume=0.3:enable='between(t,0,8.04575)':eval=frame[ducked];[ducked][commentary]amix=inputs=2:duration=longest[audio] -vf pad=720:1280:0:0:color=white -c:v libx264 -preset ultrafast -crf 28 -c:a aac -b:a 192k -map 0:v -map [audio] -max_muxing_queue_size 1024 C:\Users\mrema\Downloads\Video-Commentary-Bot-0.1\output_0\final_video_funny.mp4
2025-02-23 22:34:31,423 - pipeline.Step_6_video_generation - INFO - Video generated successfully: C:\Users\mrema\Downloads\Video-Commentary-Bot-0.1\output_0\final_video_funny.mp4
2025-02-23 22:34:31,425 - __main__ - INFO - Status update: ğŸ“¤ Uploading enhanced video...

90% â–°â–°â–°â–°â–°â–°â–°â–°â–±â–±
2025-02-23 22:34:31,427 - __main__ - INFO - Handling video reply
2025-02-23 22:34:31,503 - __main__ - INFO - Status update: âœ… Processing complete!

100% â–°â–°â–°â–°â–°â–°â–°â–°â–°â–°
2025-02-23 22:34:31,647 - __main__ - INFO - Cleanup completed successfully
2025-02-23 22:36:33,588 - __main__ - INFO - Checking environment variables...
2025-02-23 22:36:33,590 - __main__ - INFO - âœ“ Found OPENAI_API_KEY in environment
2025-02-23 22:36:33,591 - __main__ - INFO - âœ“ Found DEEPSEEK_API_KEY in environment
2025-02-23 22:36:33,592 - __main__ - INFO - âœ“ Found GOOGLE_APPLICATION_CREDENTIALS_JSON in environment
2025-02-23 22:36:33,594 - __main__ - INFO - Attempting to parse Google credentials...
2025-02-23 22:36:33,595 - __main__ - WARNING - Direct JSON parsing failed: Invalid control character at: line 1 column 175 (char 174)
2025-02-23 22:36:33,599 - __main__ - INFO - âœ“ Google credentials configured successfully
2025-02-23 22:36:33,600 - __main__ - INFO - âœ“ Configuration loaded successfully
2025-02-23 22:49:41,676 - __main__ - INFO - Checking environment variables...
2025-02-23 22:49:41,678 - __main__ - INFO - âœ“ Found OPENAI_API_KEY in environment
2025-02-23 22:49:41,678 - __main__ - INFO - âœ“ Found DEEPSEEK_API_KEY in environment
2025-02-23 22:49:41,679 - __main__ - INFO - âœ“ Found GOOGLE_APPLICATION_CREDENTIALS_JSON in environment
2025-02-23 22:49:41,681 - __main__ - INFO - Attempting to parse Google credentials...
2025-02-23 22:49:41,682 - __main__ - WARNING - Direct JSON parsing failed: Invalid control character at: line 1 column 175 (char 174)
2025-02-23 22:49:41,684 - __main__ - INFO - âœ“ Google credentials configured successfully
2025-02-23 22:49:41,685 - __main__ - INFO - âœ“ Configuration loaded successfully
2025-02-23 22:49:41,963 - __main__ - INFO - Checking environment variables...
2025-02-23 22:49:41,966 - __main__ - INFO - âœ“ Found OPENAI_API_KEY in environment
2025-02-23 22:49:41,967 - __main__ - INFO - âœ“ Found DEEPSEEK_API_KEY in environment
2025-02-23 22:49:41,968 - __main__ - INFO - âœ“ Found GOOGLE_APPLICATION_CREDENTIALS_JSON in environment
2025-02-23 22:49:41,970 - __main__ - INFO - Attempting to parse Google credentials...
2025-02-23 22:49:41,971 - __main__ - WARNING - Direct JSON parsing failed: Invalid control character at: line 1 column 175 (char 174)
2025-02-23 22:49:41,976 - __main__ - INFO - âœ“ Google credentials configured successfully
2025-02-23 22:49:41,977 - __main__ - INFO - âœ“ Configuration loaded successfully
2025-02-23 22:49:42,007 - __main__ - INFO - Initializing StreamlitUpdate
2025-02-23 22:49:42,012 - __main__ - INFO - Initializing StreamlitContext
2025-02-23 22:49:42,019 - __main__ - INFO - Processing video URL: https://x.com/AMAZlNGNATURE/status/1893692412670710045
2025-02-23 22:49:42,023 - __main__ - INFO - Status update: ğŸ¬ Starting video processing...

0% â–±â–±â–±â–±â–±â–±â–±â–±â–±â–±
2025-02-23 22:49:42,028 - __main__ - INFO - Status update: ğŸ“¥ Downloading video...

10% â–°â–±â–±â–±â–±â–±â–±â–±â–±â–±
2025-02-23 22:49:42,033 - new_bot - INFO - Downloading video from: https://x.com/AMAZlNGNATURE/status/1893692412670710045
2025-02-23 22:49:42,036 - pipeline.Step_1_download_video - INFO - Downloading video from: https://twitter.com/AMAZlNGNATURE/status/1893692412670710045
2025-02-23 22:49:55,703 - pipeline.Step_1_download_video - INFO - Download completed
2025-02-23 22:49:55,704 - pipeline.Step_1_download_video - INFO - Downloaded file: temp_0\video\video_20250223_224944.mp4
2025-02-23 22:49:55,742 - new_bot - INFO - Starting video processing...
2025-02-23 22:49:55,743 - new_bot - INFO - Extracting frames...
2025-02-23 22:49:55,744 - __main__ - INFO - Status update: ğŸï¸ Extracting frames...

30% â–°â–°â–°â–±â–±â–±â–±â–±â–±â–±
2025-02-23 22:49:55,863 - pipeline.Step_2_extract_frames - INFO - Analyzing video for key frames...
2025-02-23 22:49:55,951 - pipeline.Step_2_extract_frames - INFO - Progress: 0.0%
2025-02-23 22:49:57,884 - pipeline.Step_2_extract_frames - INFO - Saved frame at 0.20s (scene_change=False, motion=2.74
2025-02-23 22:49:58,490 - pipeline.Step_2_extract_frames - INFO - Saved frame at 0.30s (scene_change=False, motion=2.80
2025-02-23 22:49:59,402 - pipeline.Step_2_extract_frames - INFO - Saved frame at 0.40s (scene_change=False, motion=4.09
2025-02-23 22:50:00,082 - pipeline.Step_2_extract_frames - INFO - Saved frame at 0.50s (scene_change=False, motion=3.44
2025-02-23 22:50:00,696 - pipeline.Step_2_extract_frames - INFO - Saved frame at 0.60s (scene_change=False, motion=2.44
2025-02-23 22:50:01,830 - pipeline.Step_2_extract_frames - INFO - Saved frame at 0.80s (scene_change=False, motion=2.98
2025-02-23 22:50:02,397 - pipeline.Step_2_extract_frames - INFO - Saved frame at 0.90s (scene_change=False, motion=2.70
2025-02-23 22:50:04,163 - pipeline.Step_2_extract_frames - INFO - Saved frame at 1.10s (scene_change=False, motion=2.14
2025-02-23 22:50:04,731 - pipeline.Step_2_extract_frames - INFO - Saved frame at 1.20s (scene_change=False, motion=2.37
2025-02-23 22:50:06,960 - pipeline.Step_2_extract_frames - INFO - Saved frame at 1.60s (scene_change=False, motion=2.23
2025-02-23 22:50:16,846 - pipeline.Step_2_extract_frames - INFO - Saved frame at 3.10s (scene_change=True, motion=10.00
2025-02-23 22:50:17,411 - pipeline.Step_2_extract_frames - INFO - Saved frame at 3.20s (scene_change=False, motion=12.50
2025-02-23 22:50:17,974 - pipeline.Step_2_extract_frames - INFO - Saved frame at 3.30s (scene_change=False, motion=11.61
2025-02-23 22:50:18,539 - pipeline.Step_2_extract_frames - INFO - Saved frame at 3.40s (scene_change=False, motion=11.94
2025-02-23 22:50:19,102 - pipeline.Step_2_extract_frames - INFO - Saved frame at 3.50s (scene_change=False, motion=12.68
2025-02-23 22:50:19,666 - pipeline.Step_2_extract_frames - INFO - Saved frame at 3.60s (scene_change=False, motion=6.60
2025-02-23 22:50:20,220 - pipeline.Step_2_extract_frames - INFO - Saved frame at 3.70s (scene_change=False, motion=2.68
2025-02-23 22:50:21,345 - pipeline.Step_2_extract_frames - INFO - Saved frame at 3.90s (scene_change=False, motion=2.34
2025-02-23 22:50:21,358 - pipeline.Step_2_extract_frames - INFO - Extracted 18 key frames
2025-02-23 22:50:21,359 - new_bot - INFO - Analyzing frames...
2025-02-23 22:50:21,360 - __main__ - INFO - Status update: ğŸ” Analyzing video content...

50% â–°â–°â–°â–°â–°â–±â–±â–±â–±â–±
2025-02-23 22:50:22,113 - pipeline.Step_3_analyze_frames - INFO - Selected 2 key frames for analysis
2025-02-23 22:50:42,525 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-23 22:50:57,678 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-23 22:50:57,906 - pipeline.Step_3_analyze_frames - INFO - Analysis complete. Results saved to output_0\final_analysis.json
2025-02-23 22:50:57,909 - new_bot - INFO - Generating commentary in ur...
2025-02-23 22:50:57,912 - __main__ - INFO - Status update: ğŸ’­ Generating commentary...

70% â–°â–°â–°â–°â–°â–°â–°â–±â–±â–±
2025-02-23 22:50:57,918 - pipeline.Step_4_generate_commentary - INFO - 
=== STARTING COMMENTARY GENERATION ===
2025-02-23 22:50:57,922 - pipeline.Step_4_generate_commentary - INFO - Content Type: funny
2025-02-23 22:50:57,923 - pipeline.Step_4_generate_commentary - INFO - Analysis File: output_0\final_analysis.json
2025-02-23 22:50:58,715 - pipeline.Step_4_generate_commentary - INFO - 
=== VIDEO TEXT FROM METADATA ===
2025-02-23 22:50:58,717 - pipeline.Step_4_generate_commentary - INFO - No text found in metadata
2025-02-23 22:50:58,718 - pipeline.Step_4_generate_commentary - INFO - 
=== SYSTEM PROMPT ===
2025-02-23 22:50:58,719 - pipeline.Step_4_generate_commentary - INFO - You are an entertaining commentator. Create humorous commentary that:
- Uses witty observations and jokes
- Maintains light and playful tone
- Includes appropriate humor
- Emphasizes amusing moments
- Keeps engagement through humor
2025-02-23 22:50:58,720 - pipeline.Step_4_generate_commentary - INFO - 
=== USER PROMPT ===
2025-02-23 22:50:58,722 - pipeline.Step_4_generate_commentary - INFO - Generate a VERY SHORT UR commentary (1-2 lines maximum) for this video in funny style.

VIDEO CONTENT:
Title: Nature is Amazing â˜˜ï¸ - Unbelievable footage captured by tourists. Avalanche from the Tian Shan mountains in Kyrgyzstanâ€¦
Description: Unbelievable footage captured by tourists. Avalanche from the Tian Shan mountains in Kyrgyzstanâ€¦ https://t.co/LUJ1U2IQ7c

VISUAL ANALYSIS:

Key visual elements (with confidence):
- Mountain (0.99)
- Mountainous landforms (0.99)
- Rock (0.96)
- Highland (0.95)
- Cloud (0.95)
- Hill (0.94)
- Mountain range (0.93)
- Wilderness (0.93)

Detailed scene descriptions:
- 1. **Main Focus or Subject:**
   - The frame primarily depicts a dramatic natural event, an avalanche, cascading from the Tian Shan mountains in Kyrgyzstan. The central focus is on the movement of snow and ice descending a rugged mountain valley.

2. **Actions, Movements, or Interactions:**
   - The main action is the avalanche itself, which is caught at a moment of dynamic descent. The snow is visibly moving rapidly down the slope, suggesting the powerful force of this natural phenomenon. Clouds are present, adding to the dramatic atmosphere.

3. **Significant Details and Narrative Alignment:**
   - The rugged terrain and rocky ridges provide context that emphasizes the harsh and unpredictable nature of the mountainous environment. These elements perfectly align with the video's narrative of capturing incredible and rare footage in the wilderness, highlighting the raw power of nature.

4. **Connection to Overall Story:**
   - This frame embodies the video's theme: showcasing the awe-inspiring and potentially dangerous beauty of nature. As tourists captured this avalanche, it highlights the unpredictable spectacles that can occur in such remote locations, as indicated in the videoâ€™s description.

5. **Corrections from Computer Vision:**
   - The computer vision analysis correctly identified key elements such as mountains, clouds, and geological formations. There are no apparent misidentifications in this context. Labels like "glacial landform" and "massif" align well with the observed elements.

6. **Distinguishing Features:**
  
- 1. **Main Focus/Subject**:
   - The main focus of this frame is the majestic mountain range with visible glaciers, likely representing the Tian Shan mountains in Kyrgyzstan. The frame highlights the natural beauty and vastness of the landscape, setting the stage for the dramatic event of an avalanche, as suggested by the videoâ€™s title and description.

2. **Actions/Movements/Interactions**:
   - While the frame captures a still moment, it suggests a possible action sequence where an avalanche might occur. The presence of snow and the rugged terrain imply that these elements are pre-conditions for an avalanche.

3. **Significant Details**:
   - The clear sky and the high visibility of the mountains emphasize the isolated and serene atmosphere. The rugged terrain with patches of greenery adds contrast to the rocky landscape and may highlight the impact of natural phenomena like avalanches on the environment.

4. **Connection to Overall Story**:
   - This frame serves as a prelude to the main event described in the video. By showcasing the vast and rugged mountainous landscape, it builds anticipation, making the viewer aware of the environment where such a natural spectacle as an avalanche could unfold.

5. **Potential Misidentifications**:
   - The computer vision analysis accurately identifies geological features such as mountains, highlands, and clouds. There appear to be no significant misidentifications in this frame.

6. **Distinguishing Details**:
   - No animals are visible in this frame, so distinguishing


STRICT REQUIREMENTS:
1. MUST be 1-2 lines only - no exceptions
2. Focus on combining the video description with what is actually shown in the video
3. If there is text in the video, incorporate it naturally
4. Match the funny style while staying extremely brief
5. Make it engaging but concise
6. Format for ur
7. Ensure commentary reflects both visual content and video description
8. Correct any obvious errors in object detection (e.g., if a deer was labeled as a dog)
9. Use proper Urdu script and punctuation (Û”ØŒ ØŸ)
2025-02-23 22:50:58,742 - pipeline.Step_4_generate_commentary - INFO - 
=== GENERATING COMMENTARY ===
2025-02-23 22:51:02,736 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-23 22:51:02,747 - pipeline.Step_4_generate_commentary - INFO - 
=== RAW GENERATED COMMENTARY ===
2025-02-23 22:51:02,751 - pipeline.Step_4_generate_commentary - INFO - "Ø¬Ø¨ Ù‚Ø¯Ø±Øª Ú©Ø§ ÛŒÛ Ø²Ø¨Ø±Ø¯Ø³Øª Ù…Ø¸Ø§ÛØ±Û Ø¯ÛŒÚ©Ú¾ÛŒÚº ØªÙˆ Ø¨Ø³ ÛŒÛÛŒ Ø³ÙˆÚ†ÛŒÚº: 'ÛŒÛ ØªÙˆ ÙˆÛÛŒ ÛÛ’ Ø¬Ùˆ ÛÙ… Ù†Û’ Ø§Ù¾Ù†Û’ Ø³Ú©ÛŒ Ú©ÛŒ Ú†Ú¾Ù¹ÛŒ Ù¾Ø± Ù†ÛÛŒÚº Ù…Ø§Ù†Ú¯Ø§ ØªÚ¾Ø§!' ğŸ˜‚â„ï¸"
2025-02-23 22:51:02,756 - pipeline.Step_4_generate_commentary - INFO - 
=== PROCESSED COMMENTARY ===
2025-02-23 22:51:02,758 - pipeline.Step_4_generate_commentary - INFO - "Ø¬Ø¨ Ù‚Ø¯Ø±Øª Ú©Ø§ ÛŒÛ Ø²Ø¨Ø±Ø¯Ø³Øª Ù…Ø¸Ø§ÛØ±Û Ø¯ÛŒÚ©Ú¾ÛŒÚº ØªÙˆ Ø¨Ø³ ÛŒÛÛŒ Ø³ÙˆÚ†ÛŒÚº: 'ÛŒÛ ØªÙˆ ÙˆÛÛŒ ÛÛ’ Ø¬Ùˆ ÛÙ… Ù†Û’ Ø§Ù¾Ù†Û’ Ø³Ú©ÛŒ Ú©ÛŒ Ú†Ú¾Ù¹ÛŒ Ù¾Ø± Ù†ÛÛŒÚº Ù…Ø§Ù†Ú¯Ø§ ØªÚ¾Ø§!' ğŸ˜‚â„ï¸"
2025-02-23 22:51:02,761 - pipeline.Step_4_generate_commentary - INFO - 
=== FINAL COMMENTARY OBJECT ===
2025-02-23 22:51:02,764 - pipeline.Step_4_generate_commentary - INFO - {
  "style": "funny",
  "commentary": "\"Ø¬Ø¨ Ù‚Ø¯Ø±Øª Ú©Ø§ ÛŒÛ Ø²Ø¨Ø±Ø¯Ø³Øª Ù…Ø¸Ø§ÛØ±Û Ø¯ÛŒÚ©Ú¾ÛŒÚº ØªÙˆ Ø¨Ø³ ÛŒÛÛŒ Ø³ÙˆÚ†ÛŒÚº: 'ÛŒÛ ØªÙˆ ÙˆÛÛŒ ÛÛ’ Ø¬Ùˆ ÛÙ… Ù†Û’ Ø§Ù¾Ù†Û’ Ø³Ú©ÛŒ Ú©ÛŒ Ú†Ú¾Ù¹ÛŒ Ù¾Ø± Ù†ÛÛŒÚº Ù…Ø§Ù†Ú¯Ø§ ØªÚ¾Ø§!' ğŸ˜‚â„ï¸\"",
  "metadata": {
    "title": "Nature is Amazing â˜˜ï¸ - Unbelievable footage captured by tourists. Avalanche from the Tian Shan mountains in Kyrgyzstanâ€¦",
    "duration": 48.666666666666664,
    "description": "Unbelievable footage captured by tourists. Avalanche from the Tian Shan mountains in Kyrgyzstanâ€¦ https://t.co/LUJ1U2IQ7c",
    "uploader": "Nature is Amazing â˜˜ï¸",
    "view_count": null,
    "like_count": 7167,
    "upload_date": "20250223",
    "scene_changes": [
      "output_0\\frames\\frame_3.10s.jpg"
    ],
    "motion_scores": [
      [
        "output_0\\frames\\frame_0.20s.jpg",
        2.7365243434906006
      ],
      [
        "output_0\\frames\\frame_0.30s.jpg",
        2.800957202911377
      ],
      [
        "output_0\\frames\\frame_0.40s.jpg",
        4.093386650085449
      ],
      [
        "output_0\\frames\\frame_0.50s.jpg",
        3.4391467571258545
      ],
      [
        "output_0\\frames\\frame_0.60s.jpg",
        2.444080114364624
      ],
      [
        "output_0\\frames\\frame_0.80s.jpg",
        2.9801101684570312
      ],
      [
        "output_0\\frames\\frame_0.90s.jpg",
        2.7046120166778564
      ],
      [
        "output_0\\frames\\frame_1.10s.jpg",
        2.138974666595459
      ],
      [
        "output_0\\frames\\frame_1.20s.jpg",
        2.3703083992004395
      ],
      [
        "output_0\\frames\\frame_1.60s.jpg",
        2.2300987243652344
      ],
      [
        "output_0\\frames\\frame_3.10s.jpg",
        9.99793529510498
      ],
      [
        "output_0\\frames\\frame_3.20s.jpg",
        12.50287914276123
      ],
      [
        "output_0\\frames\\frame_3.30s.jpg",
        11.614384651184082
      ],
      [
        "output_0\\frames\\frame_3.40s.jpg",
        11.939632415771484
      ],
      [
        "output_0\\frames\\frame_3.50s.jpg",
        12.678442001342773
      ],
      [
        "output_0\\frames\\frame_3.60s.jpg",
        6.602889537811279
      ],
      [
        "output_0\\frames\\frame_3.70s.jpg",
        2.678230047225952
      ],
      [
        "output_0\\frames\\frame_3.90s.jpg",
        2.344242811203003
      ]
    ],
    "language": "ur"
  },
  "language": "ur"
}
2025-02-23 22:51:02,788 - pipeline.Step_4_generate_commentary - INFO - 
=== PROCESSING FOR AUDIO ===
2025-02-23 22:51:02,789 - pipeline.Step_4_generate_commentary - INFO - Language: ur
2025-02-23 22:51:02,791 - pipeline.Step_4_generate_commentary - INFO - 
=== FINAL AUDIO SCRIPT ===
2025-02-23 22:51:02,792 - pipeline.Step_4_generate_commentary - INFO - Ø¬Ø¨ Ù‚Ø¯Ø±Øª Ú©Ø§ ÛŒÛ Ø²Ø¨Ø±Ø¯Ø³Øª Ù…Ø¸Ø§ÛØ±Û Ø¯ÛŒÚ©Ú¾ÛŒÚº ØªÙˆ Ø¨Ø³ ÛŒÛÛŒ Ø³ÙˆÚ†ÛŒÚº ÛŒÛ ØªÙˆ ÙˆÛÛŒ ÛÛ’ Ø¬Ùˆ ÛÙ… Ù†Û’ Ø§Ù¾Ù†Û’ Ø³Ú©ÛŒ Ú©ÛŒ Ú†Ú¾Ù¹ÛŒ Ù¾Ø± Ù†ÛÛŒÚº Ù…Ø§Ù†Ú¯Ø§ ØªÚ¾Ø§!
2025-02-23 22:51:02,795 - new_bot - INFO - Generating audio in ur...
2025-02-23 22:51:02,796 - __main__ - INFO - Status update: ğŸ™ï¸ Synthesizing voice...

80% â–°â–°â–°â–°â–°â–°â–°â–°â–±â–±
2025-02-23 22:51:02,825 - pipeline.Step_5_generate_audio - INFO - Generating audio for text: "Ø¬Ø¨ Ù‚Ø¯Ø±Øª Ú©Ø§ ÛŒÛ Ø²Ø¨Ø±Ø¯Ø³Øª Ù…Ø¸Ø§ÛØ±Û Ø¯ÛŒÚ©Ú¾ÛŒÚº ØªÙˆ Ø¨Ø³ ÛŒÛÛŒ Ø³ÙˆÚ†ÛŒÚº: 'ÛŒÛ ØªÙˆ ÙˆÛÛŒ ÛÛ’ Ø¬Ùˆ ÛÙ… Ù†Û’ Ø§Ù¾Ù†Û’ Ø³Ú©ÛŒ Ú©ÛŒ Ú†Ú¾Ù¹ÛŒ Ù¾Ø± Ù†ÛÛŒÚº...
2025-02-23 22:51:04,586 - pipeline.Step_5_generate_audio - INFO - Successfully generated audio file: output_0\commentary_funny.wav
2025-02-23 22:51:04,589 - new_bot - INFO - Generating final video...
2025-02-23 22:51:04,592 - __main__ - INFO - Status update: ğŸ¥ Creating final video...

85% â–°â–°â–°â–°â–°â–°â–°â–°â–°â–±
2025-02-23 22:51:04,597 - pipeline.Step_6_video_generation - INFO - Ensured output directory exists: output_0
2025-02-23 22:51:04,602 - pipeline.Step_6_video_generation - INFO - Input video file: temp_0\video\video_20250223_224944.mp4 (exists: True)
2025-02-23 22:51:04,605 - pipeline.Step_6_video_generation - INFO - Input audio file: output_0\commentary_funny.wav (exists: True)
2025-02-23 22:51:04,670 - pipeline.Step_6_video_generation - INFO - FFmpeg verified successfully
2025-02-23 22:51:04,672 - pipeline.Step_6_video_generation - INFO - Ensured video directory exists: C:\Users\mrema\Downloads\Video-Commentary-Bot-0.1\temp_0\video
2025-02-23 22:51:04,673 - pipeline.Step_6_video_generation - INFO - Ensured output directory exists: C:\Users\mrema\Downloads\Video-Commentary-Bot-0.1\output_0
2025-02-23 22:51:04,674 - pipeline.Step_6_video_generation - INFO - Video file exists: True (C:\Users\mrema\Downloads\Video-Commentary-Bot-0.1\temp_0\video\video_20250223_224944.mp4)
2025-02-23 22:51:04,675 - pipeline.Step_6_video_generation - INFO - Audio file exists: True (C:\Users\mrema\Downloads\Video-Commentary-Bot-0.1\output_0\commentary_funny.wav)
2025-02-23 22:51:04,676 - pipeline.Step_6_video_generation - INFO - Video file size: 8190482 bytes
2025-02-23 22:51:04,677 - pipeline.Step_6_video_generation - INFO - Audio file size: 353444 bytes
2025-02-23 22:51:04,678 - pipeline.Step_6_video_generation - INFO - Video absolute path: C:\Users\mrema\Downloads\Video-Commentary-Bot-0.1\temp_0\video\video_20250223_224944.mp4
2025-02-23 22:51:04,679 - pipeline.Step_6_video_generation - INFO - Audio absolute path: C:\Users\mrema\Downloads\Video-Commentary-Bot-0.1\output_0\commentary_funny.wav
2025-02-23 22:51:04,775 - pipeline.Step_6_video_generation - INFO - Commentary duration: 7.3625 seconds
2025-02-23 22:51:04,776 - pipeline.Step_6_video_generation - INFO - Current working directory: C:\Users\mrema\Downloads\Video-Commentary-Bot-0.1
2025-02-23 22:51:04,776 - pipeline.Step_6_video_generation - INFO - FFmpeg command: ffmpeg -y -i C:\Users\mrema\Downloads\Video-Commentary-Bot-0.1\temp_0\video\video_20250223_224944.mp4 -i C:\Users\mrema\Downloads\Video-Commentary-Bot-0.1\output_0\commentary_funny.wav -filter_complex [0:a]volume=1[original];[1:a]volume=0.7[commentary];[original]volume=0.3:enable='between(t,0,7.3625)':eval=frame[ducked];[ducked][commentary]amix=inputs=2:duration=longest[audio] -vf pad=720:1280:0:0:color=white -c:v libx264 -preset ultrafast -crf 28 -c:a aac -b:a 192k -map 0:v -map [audio] -max_muxing_queue_size 1024 C:\Users\mrema\Downloads\Video-Commentary-Bot-0.1\output_0\final_video_funny.mp4
2025-02-23 22:51:10,057 - pipeline.Step_6_video_generation - INFO - Video generated successfully: C:\Users\mrema\Downloads\Video-Commentary-Bot-0.1\output_0\final_video_funny.mp4
2025-02-23 22:51:10,058 - __main__ - INFO - Status update: ğŸ“¤ Uploading enhanced video...

90% â–°â–°â–°â–°â–°â–°â–°â–°â–±â–±
2025-02-23 22:51:10,060 - __main__ - INFO - Handling video reply
2025-02-23 22:51:10,588 - __main__ - INFO - Status update: âœ… Processing complete!

100% â–°â–°â–°â–°â–°â–°â–°â–°â–°â–°
2025-02-23 22:51:10,777 - __main__ - INFO - Cleanup completed successfully
